(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var mi={value:()=>{}};function Te(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ye(n)}function ye(t){this._=t}function yi(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ye.prototype=Te.prototype={constructor:ye,on:function(t,e){var n=this._,r=yi(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=vi(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Hn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Hn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ye(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function vi(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Hn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=mi,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ke="http://www.w3.org/1999/xhtml";const On={svg:"http://www.w3.org/2000/svg",xhtml:Ke,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Be(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),On.hasOwnProperty(e)?{space:On[e],local:t}:t}function wi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ke&&e.documentElement.namespaceURI===Ke?e.createElement(t):e.createElementNS(n,t)}}function _i(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pr(t){var e=Be(t);return(e.local?_i:wi)(e)}function xi(){}function ln(t){return t==null?xi:function(){return this.querySelector(t)}}function bi(t){typeof t!="function"&&(t=ln(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),c,a,u=0;u<s;++u)(c=o[u])&&(a=t.call(c,c.__data__,u,o))&&("__data__"in c&&(a.__data__=c.__data__),l[u]=a);return new rt(r,this._parents)}function gr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Si(){return[]}function mr(t){return t==null?Si:function(){return this.querySelectorAll(t)}}function Ei(t){return function(){return gr(t.apply(this,arguments))}}function ki(t){typeof t=="function"?t=Ei(t):t=mr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,c,a=0;a<l;++a)(c=s[a])&&(r.push(t.call(c,c.__data__,a,s)),i.push(c));return new rt(r,i)}function yr(t){return function(){return this.matches(t)}}function vr(t){return function(e){return e.matches(t)}}var Ci=Array.prototype.find;function Ni(t){return function(){return Ci.call(this.children,t)}}function Ai(){return this.firstElementChild}function Ii(t){return this.select(t==null?Ai:Ni(typeof t=="function"?t:vr(t)))}var Ti=Array.prototype.filter;function Bi(){return Array.from(this.children)}function Li(t){return function(){return Ti.call(this.children,t)}}function $i(t){return this.selectAll(t==null?Bi:Li(typeof t=="function"?t:vr(t)))}function Mi(t){typeof t!="function"&&(t=yr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],c,a=0;a<s;++a)(c=o[a])&&t.call(c,c.__data__,a,o)&&l.push(c);return new rt(r,this._parents)}function wr(t){return new Array(t.length)}function ji(){return new rt(this._enter||this._groups.map(wr),this._parents)}function xe(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}xe.prototype={constructor:xe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Pi(t){return function(){return t}}function qi(t,e,n,r,i,o){for(var s=0,l,c=e.length,a=o.length;s<a;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new xe(t,o[s]);for(;s<c;++s)(l=e[s])&&(i[s]=l)}function Fi(t,e,n,r,i,o,s){var l,c,a=new Map,u=e.length,p=o.length,d=new Array(u),h;for(l=0;l<u;++l)(c=e[l])&&(d[l]=h=s.call(c,c.__data__,l,e)+"",a.has(h)?i[l]=c:a.set(h,c));for(l=0;l<p;++l)h=s.call(t,o[l],l,o)+"",(c=a.get(h))?(r[l]=c,c.__data__=o[l],a.delete(h)):n[l]=new xe(t,o[l]);for(l=0;l<u;++l)(c=e[l])&&a.get(d[l])===c&&(i[l]=c)}function Di(t){return t.__data__}function Ri(t,e){if(!arguments.length)return Array.from(this,Di);var n=e?Fi:qi,r=this._parents,i=this._groups;typeof t!="function"&&(t=Pi(t));for(var o=i.length,s=new Array(o),l=new Array(o),c=new Array(o),a=0;a<o;++a){var u=r[a],p=i[a],d=p.length,h=Hi(t.call(u,u&&u.__data__,a,r)),_=h.length,w=l[a]=new Array(_),v=s[a]=new Array(_),x=c[a]=new Array(d);n(u,p,w,v,x,h,e);for(var b=0,$=0,y,B;b<_;++b)if(y=w[b]){for(b>=$&&($=b+1);!(B=v[$])&&++$<_;);y._next=B||null}}return s=new rt(s,r),s._enter=l,s._exit=c,s}function Hi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Oi(){return new rt(this._exit||this._groups.map(wr),this._parents)}function zi(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Gi(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),c=0;c<s;++c)for(var a=n[c],u=r[c],p=a.length,d=l[c]=new Array(p),h,_=0;_<p;++_)(h=a[_]||u[_])&&(d[_]=h);for(;c<i;++c)l[c]=n[c];return new rt(l,this._parents)}function Xi(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Vi(t){t||(t=Wi);function e(p,d){return p&&d?t(p.__data__,d.__data__):!p-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,c=i[o]=new Array(l),a,u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new rt(i,this._parents).order()}function Wi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ui(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Yi(){return Array.from(this)}function Ji(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Ki(){let t=0;for(const e of this)++t;return t}function Qi(){return!this.node()}function Zi(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function to(t){return function(){this.removeAttribute(t)}}function eo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function no(t,e){return function(){this.setAttribute(t,e)}}function ro(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function io(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function oo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function so(t,e){var n=Be(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?eo:to:typeof e=="function"?n.local?oo:io:n.local?ro:no)(n,e))}function _r(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ao(t){return function(){this.style.removeProperty(t)}}function lo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function co(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function uo(t,e,n){return arguments.length>1?this.each((e==null?ao:typeof e=="function"?co:lo)(t,e,n??"")):Pt(this.node(),t)}function Pt(t,e){return t.style.getPropertyValue(e)||_r(t).getComputedStyle(t,null).getPropertyValue(e)}function fo(t){return function(){delete this[t]}}function ho(t,e){return function(){this[t]=e}}function po(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function go(t,e){return arguments.length>1?this.each((e==null?fo:typeof e=="function"?po:ho)(t,e)):this.node()[t]}function xr(t){return t.trim().split(/^|\s+/)}function cn(t){return t.classList||new br(t)}function br(t){this._node=t,this._names=xr(t.getAttribute("class")||"")}br.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Sr(t,e){for(var n=cn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Er(t,e){for(var n=cn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function mo(t){return function(){Sr(this,t)}}function yo(t){return function(){Er(this,t)}}function vo(t,e){return function(){(e.apply(this,arguments)?Sr:Er)(this,t)}}function wo(t,e){var n=xr(t+"");if(arguments.length<2){for(var r=cn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?vo:e?mo:yo)(n,e))}function _o(){this.textContent=""}function xo(t){return function(){this.textContent=t}}function bo(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function So(t){return arguments.length?this.each(t==null?_o:(typeof t=="function"?bo:xo)(t)):this.node().textContent}function Eo(){this.innerHTML=""}function ko(t){return function(){this.innerHTML=t}}function Co(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function No(t){return arguments.length?this.each(t==null?Eo:(typeof t=="function"?Co:ko)(t)):this.node().innerHTML}function Ao(){this.nextSibling&&this.parentNode.appendChild(this)}function Io(){return this.each(Ao)}function To(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bo(){return this.each(To)}function Lo(t){var e=typeof t=="function"?t:pr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function $o(){return null}function Mo(t,e){var n=typeof t=="function"?t:pr(t),r=e==null?$o:typeof e=="function"?e:ln(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function jo(){var t=this.parentNode;t&&t.removeChild(this)}function Po(){return this.each(jo)}function qo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Fo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Do(t){return this.select(t?Fo:qo)}function Ro(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ho(t){return function(e){t.call(this,e,this.__data__)}}function Oo(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function zo(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Go(t,e,n){return function(){var r=this.__on,i,o=Ho(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Xo(t,e,n){var r=Oo(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,a=l.length,u;c<a;++c)for(i=0,u=l[c];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(l=e?Go:zo,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function kr(t,e,n){var r=_r(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Vo(t,e){return function(){return kr(this,t,e)}}function Wo(t,e){return function(){return kr(this,t,e.apply(this,arguments))}}function Uo(t,e){return this.each((typeof e=="function"?Wo:Vo)(t,e))}function*Yo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var un=[null];function rt(t,e){this._groups=t,this._parents=e}function re(){return new rt([[document.documentElement]],un)}function Jo(){return this}rt.prototype=re.prototype={constructor:rt,select:bi,selectAll:ki,selectChild:Ii,selectChildren:$i,filter:Mi,data:Ri,enter:ji,exit:Oi,join:zi,merge:Gi,selection:Jo,order:Xi,sort:Vi,call:Ui,nodes:Yi,node:Ji,size:Ki,empty:Qi,each:Zi,attr:so,style:uo,property:go,classed:wo,text:So,html:No,raise:Io,lower:Bo,append:Lo,insert:Mo,remove:Po,clone:Do,datum:Ro,on:Xo,dispatch:Uo,[Symbol.iterator]:Yo};function dt(t){return typeof t=="string"?new rt([[document.querySelector(t)]],[document.documentElement]):new rt([[t]],un)}function Ko(t){let e;for(;e=t.sourceEvent;)t=e;return t}function zn(t,e){if(t=Ko(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function K(t){return typeof t=="string"?new rt([document.querySelectorAll(t)],[document.documentElement]):new rt([gr(t)],un)}const Qo={passive:!1},Kt={capture:!0,passive:!1};function Xe(t){t.stopImmediatePropagation()}function Mt(t){t.preventDefault(),t.stopImmediatePropagation()}function Zo(t){var e=t.document.documentElement,n=dt(t).on("dragstart.drag",Mt,Kt);"onselectstart"in e?n.on("selectstart.drag",Mt,Kt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ts(t,e){var n=t.document.documentElement,r=dt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Mt,Kt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ue=t=>()=>t;function Qe(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:c,dy:a,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:u}})}Qe.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function es(t){return!t.ctrlKey&&!t.button}function ns(){return this.parentNode}function rs(t,e){return e??{x:t.x,y:t.y}}function is(){return navigator.maxTouchPoints||"ontouchstart"in this}function os(){var t=es,e=ns,n=rs,r=is,i={},o=Te("start","drag","end"),s=0,l,c,a,u,p=0;function d(y){y.on("mousedown.drag",h).filter(r).on("touchstart.drag",v).on("touchmove.drag",x,Qo).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(y,B){if(!(u||!t.call(this,y,B))){var q=$(this,e.call(this,y,B),y,B,"mouse");q&&(dt(y.view).on("mousemove.drag",_,Kt).on("mouseup.drag",w,Kt),Zo(y.view),Xe(y),a=!1,l=y.clientX,c=y.clientY,q("start",y))}}function _(y){if(Mt(y),!a){var B=y.clientX-l,q=y.clientY-c;a=B*B+q*q>p}i.mouse("drag",y)}function w(y){dt(y.view).on("mousemove.drag mouseup.drag",null),ts(y.view,a),Mt(y),i.mouse("end",y)}function v(y,B){if(t.call(this,y,B)){var q=y.changedTouches,A=e.call(this,y,B),F=q.length,V,H;for(V=0;V<F;++V)(H=$(this,A,y,B,q[V].identifier,q[V]))&&(Xe(y),H("start",y,q[V]))}}function x(y){var B=y.changedTouches,q=B.length,A,F;for(A=0;A<q;++A)(F=i[B[A].identifier])&&(Mt(y),F("drag",y,B[A]))}function b(y){var B=y.changedTouches,q=B.length,A,F;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),A=0;A<q;++A)(F=i[B[A].identifier])&&(Xe(y),F("end",y,B[A]))}function $(y,B,q,A,F,V){var H=o.copy(),z=zn(V||q,B),L,R,W;if((W=n.call(y,new Qe("beforestart",{sourceEvent:q,target:d,identifier:F,active:s,x:z[0],y:z[1],dx:0,dy:0,dispatch:H}),A))!=null)return L=W.x-z[0]||0,R=W.y-z[1]||0,function st(Y,kt,Rt){var oe=z,Z;switch(Y){case"start":i[F]=st,Z=s++;break;case"end":delete i[F],--s;case"drag":z=zn(Rt||kt,B),Z=s;break}H.call(Y,y,new Qe(Y,{sourceEvent:kt,subject:W,target:d,identifier:F,active:Z,x:z[0]+L,y:z[1]+R,dx:z[0]-oe[0],dy:z[1]-oe[1],dispatch:H}),A)}}return d.filter=function(y){return arguments.length?(t=typeof y=="function"?y:ue(!!y),d):t},d.container=function(y){return arguments.length?(e=typeof y=="function"?y:ue(y),d):e},d.subject=function(y){return arguments.length?(n=typeof y=="function"?y:ue(y),d):n},d.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:ue(!!y),d):r},d.on=function(){var y=o.on.apply(o,arguments);return y===o?d:y},d.clickDistance=function(y){return arguments.length?(p=(y=+y)*y,d):Math.sqrt(p)},d}function fn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Cr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ie(){}var Qt=.7,be=1/Qt,jt="\\s*([+-]?\\d+)\\s*",Zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ss=/^#([0-9a-f]{3,8})$/,as=new RegExp(`^rgb\\(${jt},${jt},${jt}\\)$`),ls=new RegExp(`^rgb\\(${gt},${gt},${gt}\\)$`),cs=new RegExp(`^rgba\\(${jt},${jt},${jt},${Zt}\\)$`),us=new RegExp(`^rgba\\(${gt},${gt},${gt},${Zt}\\)$`),fs=new RegExp(`^hsl\\(${Zt},${gt},${gt}\\)$`),hs=new RegExp(`^hsla\\(${Zt},${gt},${gt},${Zt}\\)$`),Gn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fn(ie,te,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xn,formatHex:Xn,formatHex8:ds,formatHsl:ps,formatRgb:Vn,toString:Vn});function Xn(){return this.rgb().formatHex()}function ds(){return this.rgb().formatHex8()}function ps(){return Nr(this).formatHsl()}function Vn(){return this.rgb().formatRgb()}function te(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ss.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Wn(e):n===3?new ot(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=as.exec(t))?new ot(e[1],e[2],e[3],1):(e=ls.exec(t))?new ot(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cs.exec(t))?fe(e[1],e[2],e[3],e[4]):(e=us.exec(t))?fe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fs.exec(t))?Jn(e[1],e[2]/100,e[3]/100,1):(e=hs.exec(t))?Jn(e[1],e[2]/100,e[3]/100,e[4]):Gn.hasOwnProperty(t)?Wn(Gn[t]):t==="transparent"?new ot(NaN,NaN,NaN,0):null}function Wn(t){return new ot(t>>16&255,t>>8&255,t&255,1)}function fe(t,e,n,r){return r<=0&&(t=e=n=NaN),new ot(t,e,n,r)}function gs(t){return t instanceof ie||(t=te(t)),t?(t=t.rgb(),new ot(t.r,t.g,t.b,t.opacity)):new ot}function Ze(t,e,n,r){return arguments.length===1?gs(t):new ot(t,e,n,r??1)}function ot(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}fn(ot,Ze,Cr(ie,{brighter(t){return t=t==null?be:Math.pow(be,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qt:Math.pow(Qt,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ot(At(this.r),At(this.g),At(this.b),Se(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Un,formatHex:Un,formatHex8:ms,formatRgb:Yn,toString:Yn}));function Un(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function ms(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yn(){const t=Se(this.opacity);return`${t===1?"rgb(":"rgba("}${At(this.r)}, ${At(this.g)}, ${At(this.b)}${t===1?")":`, ${t})`}`}function Se(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function At(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nt(t){return t=At(t),(t<16?"0":"")+t.toString(16)}function Jn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new lt(t,e,n,r)}function Nr(t){if(t instanceof lt)return new lt(t.h,t.s,t.l,t.opacity);if(t instanceof ie||(t=te(t)),!t)return new lt;if(t instanceof lt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new lt(s,l,c,t.opacity)}function ys(t,e,n,r){return arguments.length===1?Nr(t):new lt(t,e,n,r??1)}function lt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}fn(lt,ys,Cr(ie,{brighter(t){return t=t==null?be:Math.pow(be,t),new lt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qt:Math.pow(Qt,t),new lt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ot(Ve(t>=240?t-240:t+120,i,r),Ve(t,i,r),Ve(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new lt(Kn(this.h),he(this.s),he(this.l),Se(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Se(this.opacity);return`${t===1?"hsl(":"hsla("}${Kn(this.h)}, ${he(this.s)*100}%, ${he(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Kn(t){return t=(t||0)%360,t<0?t+360:t}function he(t){return Math.max(0,Math.min(1,t||0))}function Ve(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ar=t=>()=>t;function vs(t,e){return function(n){return t+n*e}}function ws(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _s(t){return(t=+t)==1?Ir:function(e,n){return n-e?ws(e,n,t):Ar(isNaN(e)?n:e)}}function Ir(t,e){var n=e-t;return n?vs(t,n):Ar(isNaN(t)?e:t)}const Qn=function t(e){var n=_s(e);function r(i,o){var s=n((i=Ze(i)).r,(o=Ze(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),a=Ir(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=l(u),i.b=c(u),i.opacity=a(u),i+""}}return r.gamma=t,r}(1);function bt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,We=new RegExp(tn.source,"g");function xs(t){return function(){return t}}function bs(t){return function(e){return t(e)+""}}function Ss(t,e){var n=tn.lastIndex=We.lastIndex=0,r,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=tn.exec(t))&&(i=We.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:bt(r,i)})),n=We.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?bs(c[0].x):xs(e):(e=c.length,function(a){for(var u=0,p;u<e;++u)l[(p=c[u]).i]=p.x(a);return l.join("")})}var Zn=180/Math.PI,en={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Tr(t,e,n,r,i,o){var s,l,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Zn,skewX:Math.atan(c)*Zn,scaleX:s,scaleY:l}}var de;function Es(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?en:Tr(e.a,e.b,e.c,e.d,e.e,e.f)}function ks(t){return t==null||(de||(de=document.createElementNS("http://www.w3.org/2000/svg","g")),de.setAttribute("transform",t),!(t=de.transform.baseVal.consolidate()))?en:(t=t.matrix,Tr(t.a,t.b,t.c,t.d,t.e,t.f))}function Br(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function o(a,u,p,d,h,_){if(a!==p||u!==d){var w=h.push("translate(",null,e,null,n);_.push({i:w-4,x:bt(a,p)},{i:w-2,x:bt(u,d)})}else(p||d)&&h.push("translate("+p+e+d+n)}function s(a,u,p,d){a!==u?(a-u>180?u+=360:u-a>180&&(a+=360),d.push({i:p.push(i(p)+"rotate(",null,r)-2,x:bt(a,u)})):u&&p.push(i(p)+"rotate("+u+r)}function l(a,u,p,d){a!==u?d.push({i:p.push(i(p)+"skewX(",null,r)-2,x:bt(a,u)}):u&&p.push(i(p)+"skewX("+u+r)}function c(a,u,p,d,h,_){if(a!==p||u!==d){var w=h.push(i(h)+"scale(",null,",",null,")");_.push({i:w-4,x:bt(a,p)},{i:w-2,x:bt(u,d)})}else(p!==1||d!==1)&&h.push(i(h)+"scale("+p+","+d+")")}return function(a,u){var p=[],d=[];return a=t(a),u=t(u),o(a.translateX,a.translateY,u.translateX,u.translateY,p,d),s(a.rotate,u.rotate,p,d),l(a.skewX,u.skewX,p,d),c(a.scaleX,a.scaleY,u.scaleX,u.scaleY,p,d),a=u=null,function(h){for(var _=-1,w=d.length,v;++_<w;)p[(v=d[_]).i]=v.x(h);return p.join("")}}}var Cs=Br(Es,"px, ","px)","deg)"),Ns=Br(ks,", ",")",")"),qt=0,Wt=0,Xt=0,Lr=1e3,Ee,Ut,ke=0,Tt=0,Le=0,ee=typeof performance=="object"&&performance.now?performance:Date,$r=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hn(){return Tt||($r(As),Tt=ee.now()+Le)}function As(){Tt=0}function Ce(){this._call=this._time=this._next=null}Ce.prototype=dn.prototype={constructor:Ce,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?hn():+n)+(e==null?0:+e),!this._next&&Ut!==this&&(Ut?Ut._next=this:Ee=this,Ut=this),this._call=t,this._time=n,nn()},stop:function(){this._call&&(this._call=null,this._time=1/0,nn())}};function dn(t,e,n){var r=new Ce;return r.restart(t,e,n),r}function Is(){hn(),++qt;for(var t=Ee,e;t;)(e=Tt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--qt}function tr(){Tt=(ke=ee.now())+Le,qt=Wt=0;try{Is()}finally{qt=0,Bs(),Tt=0}}function Ts(){var t=ee.now(),e=t-ke;e>Lr&&(Le-=e,ke=t)}function Bs(){for(var t,e=Ee,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ee=n);Ut=t,nn(r)}function nn(t){if(!qt){Wt&&(Wt=clearTimeout(Wt));var e=t-Tt;e>24?(t<1/0&&(Wt=setTimeout(tr,t-ee.now()-Le)),Xt&&(Xt=clearInterval(Xt))):(Xt||(ke=ee.now(),Xt=setInterval(Ts,Lr)),qt=1,$r(tr))}}function er(t,e,n){var r=new Ce;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ls=Te("start","end","cancel","interrupt"),$s=[],Mr=0,nr=1,rn=2,ve=3,rr=4,on=5,we=6;function $e(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Ms(t,n,{name:e,index:r,group:i,on:Ls,tween:$s,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Mr})}function pn(t,e){var n=ct(t,e);if(n.state>Mr)throw new Error("too late; already scheduled");return n}function yt(t,e){var n=ct(t,e);if(n.state>ve)throw new Error("too late; already running");return n}function ct(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ms(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=dn(o,0,n.time);function o(a){n.state=nr,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var u,p,d,h;if(n.state!==nr)return c();for(u in r)if(h=r[u],h.name===n.name){if(h.state===ve)return er(s);h.state===rr?(h.state=we,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=we,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(er(function(){n.state===ve&&(n.state=rr,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=rn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===rn){for(n.state=ve,i=new Array(d=n.tween.length),u=0,p=-1;u<d;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=h);i.length=p+1}}function l(a){for(var u=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(c),n.state=on,1),p=-1,d=i.length;++p<d;)i[p].call(t,u);n.state===on&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=we,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function js(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>rn&&r.state<on,r.state=we,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Ps(t){return this.each(function(){js(this,t)})}function qs(t,e){var n,r;return function(){var i=yt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Fs(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=yt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},c=0,a=i.length;c<a;++c)if(i[c].name===e){i[c]=l;break}c===a&&i.push(l)}o.tween=i}}function Ds(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ct(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?qs:Fs)(n,t,e))}function gn(t,e,n){var r=t._id;return t.each(function(){var i=yt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ct(i,r).value[e]}}function jr(t,e){var n;return(typeof e=="number"?bt:e instanceof te?Qn:(n=te(e))?(e=n,Qn):Ss)(t,e)}function Rs(t){return function(){this.removeAttribute(t)}}function Hs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Os(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function zs(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Gs(t,e,n){var r,i,o;return function(){var s,l=n(this),c;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=l+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,l)))}}function Xs(t,e,n){var r,i,o;return function(){var s,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=l+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,l)))}}function Vs(t,e){var n=Be(t),r=n==="transform"?Ns:jr;return this.attrTween(t,typeof e=="function"?(n.local?Xs:Gs)(n,r,gn(this,"attr."+t,e)):e==null?(n.local?Hs:Rs)(n):(n.local?zs:Os)(n,r,e))}function Ws(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Us(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ys(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Us(t,o)),n}return i._value=e,i}function Js(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ws(t,o)),n}return i._value=e,i}function Ks(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Be(t);return this.tween(n,(r.local?Ys:Js)(r,e))}function Qs(t,e){return function(){pn(this,t).delay=+e.apply(this,arguments)}}function Zs(t,e){return e=+e,function(){pn(this,t).delay=e}}function ta(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Qs:Zs)(e,t)):ct(this.node(),e).delay}function ea(t,e){return function(){yt(this,t).duration=+e.apply(this,arguments)}}function na(t,e){return e=+e,function(){yt(this,t).duration=e}}function ra(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ea:na)(e,t)):ct(this.node(),e).duration}function ia(t,e){if(typeof e!="function")throw new Error;return function(){yt(this,t).ease=e}}function oa(t){var e=this._id;return arguments.length?this.each(ia(e,t)):ct(this.node(),e).ease}function sa(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;yt(this,t).ease=n}}function aa(t){if(typeof t!="function")throw new Error;return this.each(sa(this._id,t))}function la(t){typeof t!="function"&&(t=yr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],c,a=0;a<s;++a)(c=o[a])&&t.call(c,c.__data__,a,o)&&l.push(c);return new xt(r,this._parents,this._name,this._id)}function ca(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var c=e[l],a=n[l],u=c.length,p=s[l]=new Array(u),d,h=0;h<u;++h)(d=c[h]||a[h])&&(p[h]=d);for(;l<r;++l)s[l]=e[l];return new xt(s,this._parents,this._name,this._id)}function ua(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function fa(t,e,n){var r,i,o=ua(e)?pn:yt;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function ha(t,e){var n=this._id;return arguments.length<2?ct(this.node(),n).on.on(t):this.each(fa(n,t,e))}function da(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function pa(){return this.on("end.remove",da(this._id))}function ga(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ln(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],c=l.length,a=o[s]=new Array(c),u,p,d=0;d<c;++d)(u=l[d])&&(p=t.call(u,u.__data__,d,l))&&("__data__"in u&&(p.__data__=u.__data__),a[d]=p,$e(a[d],e,n,d,a,ct(u,n)));return new xt(o,this._parents,e,n)}function ma(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mr(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var c=r[l],a=c.length,u,p=0;p<a;++p)if(u=c[p]){for(var d=t.call(u,u.__data__,p,c),h,_=ct(u,n),w=0,v=d.length;w<v;++w)(h=d[w])&&$e(h,e,n,w,d,_);o.push(d),s.push(u)}return new xt(o,s,e,n)}var ya=re.prototype.constructor;function va(){return new ya(this._groups,this._parents)}function wa(t,e){var n,r,i;return function(){var o=Pt(this,t),s=(this.style.removeProperty(t),Pt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function Pr(t){return function(){this.style.removeProperty(t)}}function _a(t,e,n){var r,i=n+"",o;return function(){var s=Pt(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function xa(t,e,n){var r,i,o;return function(){var s=Pt(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),Pt(this,t))),s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,l))}}function ba(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var c=yt(this,t),a=c.on,u=c.value[o]==null?l||(l=Pr(e)):void 0;(a!==n||i!==u)&&(r=(n=a).copy()).on(s,i=u),c.on=r}}function Sa(t,e,n){var r=(t+="")=="transform"?Cs:jr;return e==null?this.styleTween(t,wa(t,r)).on("end.style."+t,Pr(t)):typeof e=="function"?this.styleTween(t,xa(t,r,gn(this,"style."+t,e))).each(ba(this._id,t)):this.styleTween(t,_a(t,r,e),n).on("end.style."+t,null)}function Ea(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ka(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Ea(t,s,n)),r}return o._value=e,o}function Ca(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ka(t,e,n??""))}function Na(t){return function(){this.textContent=t}}function Aa(t){return function(){var e=t(this);this.textContent=e??""}}function Ia(t){return this.tween("text",typeof t=="function"?Aa(gn(this,"text",t)):Na(t==null?"":t+""))}function Ta(t){return function(e){this.textContent=t.call(this,e)}}function Ba(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ta(i)),e}return r._value=t,r}function La(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ba(t))}function $a(){for(var t=this._name,e=this._id,n=qr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,c,a=0;a<l;++a)if(c=s[a]){var u=ct(c,e);$e(c,t,n,a,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new xt(r,this._parents,t,n)}function Ma(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},c={value:function(){--i===0&&o()}};n.each(function(){var a=yt(this,r),u=a.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),a.on=e}),i===0&&o()})}var ja=0;function xt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function qr(){return++ja}var wt=re.prototype;xt.prototype={constructor:xt,select:ga,selectAll:ma,selectChild:wt.selectChild,selectChildren:wt.selectChildren,filter:la,merge:ca,selection:va,transition:$a,call:wt.call,nodes:wt.nodes,node:wt.node,size:wt.size,empty:wt.empty,each:wt.each,on:ha,attr:Vs,attrTween:Ks,style:Sa,styleTween:Ca,text:Ia,textTween:La,remove:pa,tween:Ds,delay:ta,duration:ra,ease:oa,easeVarying:aa,end:Ma,[Symbol.iterator]:wt[Symbol.iterator]};function Pa(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var qa={time:null,delay:0,duration:250,ease:Pa};function Fa(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Da(t){var e,n;t instanceof xt?(e=t._id,t=t._name):(e=qr(),(n=qa).time=hn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,c,a=0;a<l;++a)(c=s[a])&&$e(c,t,e,a,s,n||Fa(c,e));return new xt(r,this._parents,t,e)}re.prototype.interrupt=Ps;re.prototype.transition=Da;function ir(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,s=n.length,l,c=0,a=0;for(o=0;o<s;++o)l=n[o],c+=l.x,a+=l.y;for(c=(c/s-t)*r,a=(a/s-e)*r,o=0;o<s;++o)l=n[o],l.x-=c,l.y-=a}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function Ra(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Fr(this.cover(e,n),e,n,t)}function Fr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,s={data:r},l=t._x0,c=t._y0,a=t._x1,u=t._y1,p,d,h,_,w,v,x,b;if(!o)return t._root=s,t;for(;o.length;)if((w=e>=(p=(l+a)/2))?l=p:a=p,(v=n>=(d=(c+u)/2))?c=d:u=d,i=o,!(o=o[x=v<<1|w]))return i[x]=s,t;if(h=+t._x.call(null,o.data),_=+t._y.call(null,o.data),e===h&&n===_)return s.next=o,i?i[x]=s:t._root=s,t;do i=i?i[x]=new Array(4):t._root=new Array(4),(w=e>=(p=(l+a)/2))?l=p:a=p,(v=n>=(d=(c+u)/2))?c=d:u=d;while((x=v<<1|w)===(b=(_>=d)<<1|h>=p));return i[b]=o,i[x]=s,t}function Ha(t){var e,n,r=t.length,i,o,s=new Array(r),l=new Array(r),c=1/0,a=1/0,u=-1/0,p=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,l[n]=o,i<c&&(c=i),i>u&&(u=i),o<a&&(a=o),o>p&&(p=o));if(c>u||a>p)return this;for(this.cover(c,a).cover(u,p),n=0;n<r;++n)Fr(this,s[n],l[n],t[n]);return this}function Oa(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s=i-n||1,l=this._root,c,a;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,c=new Array(4),c[a]=l,l=c,s*=2,a){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function za(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Ga(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function nt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Xa(t,e,n){var r,i=this._x0,o=this._y0,s,l,c,a,u=this._x1,p=this._y1,d=[],h=this._root,_,w;for(h&&d.push(new nt(h,i,o,u,p)),n==null?n=1/0:(i=t-n,o=e-n,u=t+n,p=e+n,n*=n);_=d.pop();)if(!(!(h=_.node)||(s=_.x0)>u||(l=_.y0)>p||(c=_.x1)<i||(a=_.y1)<o))if(h.length){var v=(s+c)/2,x=(l+a)/2;d.push(new nt(h[3],v,x,c,a),new nt(h[2],s,x,v,a),new nt(h[1],v,l,c,x),new nt(h[0],s,l,v,x)),(w=(e>=x)<<1|t>=v)&&(_=d[d.length-1],d[d.length-1]=d[d.length-1-w],d[d.length-1-w]=_)}else{var b=t-+this._x.call(null,h.data),$=e-+this._y.call(null,h.data),y=b*b+$*$;if(y<n){var B=Math.sqrt(n=y);i=t-B,o=e-B,u=t+B,p=e+B,r=h.data}}return r}function Va(t){if(isNaN(u=+this._x.call(null,t))||isNaN(p=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,s=this._x0,l=this._y0,c=this._x1,a=this._y1,u,p,d,h,_,w,v,x;if(!n)return this;if(n.length)for(;;){if((_=u>=(d=(s+c)/2))?s=d:c=d,(w=p>=(h=(l+a)/2))?l=h:a=h,e=n,!(n=n[v=w<<1|_]))return this;if(!n.length)break;(e[v+1&3]||e[v+2&3]||e[v+3&3])&&(r=e,x=v)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[v]=o:delete e[v],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[x]=n:this._root=n),this):(this._root=o,this)}function Wa(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Ua(){return this._root}function Ya(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Ja(t){var e=[],n,r=this._root,i,o,s,l,c;for(r&&e.push(new nt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,s=n.y0,l=n.x1,c=n.y1)&&r.length){var a=(o+l)/2,u=(s+c)/2;(i=r[3])&&e.push(new nt(i,a,u,l,c)),(i=r[2])&&e.push(new nt(i,o,u,a,c)),(i=r[1])&&e.push(new nt(i,a,s,l,u)),(i=r[0])&&e.push(new nt(i,o,s,a,u))}return this}function Ka(t){var e=[],n=[],r;for(this._root&&e.push(new nt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,s=r.x0,l=r.y0,c=r.x1,a=r.y1,u=(s+c)/2,p=(l+a)/2;(o=i[0])&&e.push(new nt(o,s,l,u,p)),(o=i[1])&&e.push(new nt(o,u,l,c,p)),(o=i[2])&&e.push(new nt(o,s,p,u,a)),(o=i[3])&&e.push(new nt(o,u,p,c,a))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Qa(t){return t[0]}function Za(t){return arguments.length?(this._x=t,this):this._x}function tl(t){return t[1]}function el(t){return arguments.length?(this._y=t,this):this._y}function mn(t,e,n){var r=new yn(e??Qa,n??tl,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function yn(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function or(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var it=mn.prototype=yn.prototype;it.copy=function(){var t=new yn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=or(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=or(r));return t};it.add=Ra;it.addAll=Ha;it.cover=Oa;it.data=za;it.extent=Ga;it.find=Xa;it.remove=Va;it.removeAll=Wa;it.root=Ua;it.size=Ya;it.visit=Ja;it.visitAfter=Ka;it.x=Za;it.y=el;function It(t){return function(){return t}}function St(t){return(t()-.5)*1e-6}function nl(t){return t.x+t.vx}function rl(t){return t.y+t.vy}function il(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=It(t==null?1:+t));function s(){for(var a,u=e.length,p,d,h,_,w,v,x=0;x<o;++x)for(p=mn(e,nl,rl).visitAfter(l),a=0;a<u;++a)d=e[a],w=n[d.index],v=w*w,h=d.x+d.vx,_=d.y+d.vy,p.visit(b);function b($,y,B,q,A){var F=$.data,V=$.r,H=w+V;if(F){if(F.index>d.index){var z=h-F.x-F.vx,L=_-F.y-F.vy,R=z*z+L*L;R<H*H&&(z===0&&(z=St(r),R+=z*z),L===0&&(L=St(r),R+=L*L),R=(H-(R=Math.sqrt(R)))/R*i,d.vx+=(z*=R)*(H=(V*=V)/(v+V)),d.vy+=(L*=R)*H,F.vx-=z*(H=1-H),F.vy-=L*H)}return}return y>h+H||q<h-H||B>_+H||A<_-H}}function l(a){if(a.data)return a.r=n[a.data.index];for(var u=a.r=0;u<4;++u)a[u]&&a[u].r>a.r&&(a.r=a[u].r)}function c(){if(e){var a,u=e.length,p;for(n=new Array(u),a=0;a<u;++a)p=e[a],n[p.index]=+t(p,a,e)}}return s.initialize=function(a,u){e=a,r=u,c()},s.iterations=function(a){return arguments.length?(o=+a,s):o},s.strength=function(a){return arguments.length?(i=+a,s):i},s.radius=function(a){return arguments.length?(t=typeof a=="function"?a:It(+a),c(),s):t},s}function ol(t){return t.index}function sr(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function sl(t){var e=ol,n=p,r,i=It(30),o,s,l,c,a,u=1;t==null&&(t=[]);function p(v){return 1/Math.min(l[v.source.index],l[v.target.index])}function d(v){for(var x=0,b=t.length;x<u;++x)for(var $=0,y,B,q,A,F,V,H;$<b;++$)y=t[$],B=y.source,q=y.target,A=q.x+q.vx-B.x-B.vx||St(a),F=q.y+q.vy-B.y-B.vy||St(a),V=Math.sqrt(A*A+F*F),V=(V-o[$])/V*v*r[$],A*=V,F*=V,q.vx-=A*(H=c[$]),q.vy-=F*H,B.vx+=A*(H=1-H),B.vy+=F*H}function h(){if(s){var v,x=s.length,b=t.length,$=new Map(s.map((B,q)=>[e(B,q,s),B])),y;for(v=0,l=new Array(x);v<b;++v)y=t[v],y.index=v,typeof y.source!="object"&&(y.source=sr($,y.source)),typeof y.target!="object"&&(y.target=sr($,y.target)),l[y.source.index]=(l[y.source.index]||0)+1,l[y.target.index]=(l[y.target.index]||0)+1;for(v=0,c=new Array(b);v<b;++v)y=t[v],c[v]=l[y.source.index]/(l[y.source.index]+l[y.target.index]);r=new Array(b),_(),o=new Array(b),w()}}function _(){if(s)for(var v=0,x=t.length;v<x;++v)r[v]=+n(t[v],v,t)}function w(){if(s)for(var v=0,x=t.length;v<x;++v)o[v]=+i(t[v],v,t)}return d.initialize=function(v,x){s=v,a=x,h()},d.links=function(v){return arguments.length?(t=v,h(),d):t},d.id=function(v){return arguments.length?(e=v,d):e},d.iterations=function(v){return arguments.length?(u=+v,d):u},d.strength=function(v){return arguments.length?(n=typeof v=="function"?v:It(+v),_(),d):n},d.distance=function(v){return arguments.length?(i=typeof v=="function"?v:It(+v),w(),d):i},d}const al=1664525,ll=1013904223,ar=4294967296;function cl(){let t=1;return()=>(t=(al*t+ll)%ar)/ar}function ul(t){return t.x}function fl(t){return t.y}var hl=10,dl=Math.PI*(3-Math.sqrt(5));function pl(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,l=new Map,c=dn(p),a=Te("tick","end"),u=cl();t==null&&(t=[]);function p(){d(),a.call("tick",e),n<r&&(c.stop(),a.call("end",e))}function d(w){var v,x=t.length,b;w===void 0&&(w=1);for(var $=0;$<w;++$)for(n+=(o-n)*i,l.forEach(function(y){y(n)}),v=0;v<x;++v)b=t[v],b.fx==null?b.x+=b.vx*=s:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=s:(b.y=b.fy,b.vy=0);return e}function h(){for(var w=0,v=t.length,x;w<v;++w){if(x=t[w],x.index=w,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var b=hl*Math.sqrt(.5+w),$=w*dl;x.x=b*Math.cos($),x.y=b*Math.sin($)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function _(w){return w.initialize&&w.initialize(t,u),w}return h(),e={tick:d,restart:function(){return c.restart(p),e},stop:function(){return c.stop(),e},nodes:function(w){return arguments.length?(t=w,h(),l.forEach(_),e):t},alpha:function(w){return arguments.length?(n=+w,e):n},alphaMin:function(w){return arguments.length?(r=+w,e):r},alphaDecay:function(w){return arguments.length?(i=+w,e):+i},alphaTarget:function(w){return arguments.length?(o=+w,e):o},velocityDecay:function(w){return arguments.length?(s=1-w,e):1-s},randomSource:function(w){return arguments.length?(u=w,l.forEach(_),e):u},force:function(w,v){return arguments.length>1?(v==null?l.delete(w):l.set(w,_(v)),e):l.get(w)},find:function(w,v,x){var b=0,$=t.length,y,B,q,A,F;for(x==null?x=1/0:x*=x,b=0;b<$;++b)A=t[b],y=w-A.x,B=v-A.y,q=y*y+B*B,q<x&&(F=A,x=q);return F},on:function(w,v){return arguments.length>1?(a.on(w,v),e):a.on(w)}}}function gl(){var t,e,n,r,i=It(-30),o,s=1,l=1/0,c=.81;function a(h){var _,w=t.length,v=mn(t,ul,fl).visitAfter(p);for(r=h,_=0;_<w;++_)e=t[_],v.visit(d)}function u(){if(t){var h,_=t.length,w;for(o=new Array(_),h=0;h<_;++h)w=t[h],o[w.index]=+i(w,h,t)}}function p(h){var _=0,w,v,x=0,b,$,y;if(h.length){for(b=$=y=0;y<4;++y)(w=h[y])&&(v=Math.abs(w.value))&&(_+=w.value,x+=v,b+=v*w.x,$+=v*w.y);h.x=b/x,h.y=$/x}else{w=h,w.x=w.data.x,w.y=w.data.y;do _+=o[w.data.index];while(w=w.next)}h.value=_}function d(h,_,w,v){if(!h.value)return!0;var x=h.x-e.x,b=h.y-e.y,$=v-_,y=x*x+b*b;if($*$/c<y)return y<l&&(x===0&&(x=St(n),y+=x*x),b===0&&(b=St(n),y+=b*b),y<s&&(y=Math.sqrt(s*y)),e.vx+=x*h.value*r/y,e.vy+=b*h.value*r/y),!0;if(h.length||y>=l)return;(h.data!==e||h.next)&&(x===0&&(x=St(n),y+=x*x),b===0&&(b=St(n),y+=b*b),y<s&&(y=Math.sqrt(s*y)));do h.data!==e&&($=o[h.data.index]*r/y,e.vx+=x*$,e.vy+=b*$);while(h=h.next)}return a.initialize=function(h,_){t=h,n=_,u()},a.strength=function(h){return arguments.length?(i=typeof h=="function"?h:It(+h),u(),a):i},a.distanceMin=function(h){return arguments.length?(s=h*h,a):Math.sqrt(s)},a.distanceMax=function(h){return arguments.length?(l=h*h,a):Math.sqrt(l)},a.theta=function(h){return arguments.length?(c=h*h,a):Math.sqrt(c)},a}function ml(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function yl(){return this.eachAfter(ml)}function vl(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function wl(t,e){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(t.call(e,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function _l(t,e){for(var n=this,r=[n],i=[],o,s,l,c=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,l=o.length;s<l;++s)r.push(o[s]);for(;n=i.pop();)t.call(e,n,++c,this);return this}function xl(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function bl(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Sl(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function El(t){for(var e=this,n=kl(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function kl(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Cl(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Nl(){return Array.from(this)}function Al(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Il(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Tl(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function vn(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=$l)):e===void 0&&(e=Ll);for(var n=new ne(t),r,i=[n],o,s,l,c;r=i.pop();)if((s=e(r.data))&&(c=(s=Array.from(s)).length))for(r.children=s,l=c-1;l>=0;--l)i.push(o=s[l]=new ne(s[l])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(jl)}function Bl(){return vn(this).eachBefore(Ml)}function Ll(t){return t.children}function $l(t){return Array.isArray(t)?t[1]:null}function Ml(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function jl(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ne(t){this.data=t,this.depth=this.height=0,this.parent=null}ne.prototype=vn.prototype={constructor:ne,count:yl,each:vl,eachAfter:_l,eachBefore:wl,find:xl,sum:bl,sort:Sl,path:El,ancestors:Cl,descendants:Nl,leaves:Al,links:Il,copy:Bl,[Symbol.iterator]:Tl};function Pl(t,e){return t.parent===e.parent?1:2}function Ue(t){var e=t.children;return e?e[0]:t.t}function Ye(t){var e=t.children;return e?e[e.length-1]:t.t}function ql(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Fl(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function Dl(t,e,n){return t.a.parent===e.parent?t.a:n}function _e(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}_e.prototype=Object.create(ne.prototype);function Rl(t){for(var e=new _e(t,0),n,r=[e],i,o,s,l;n=r.pop();)if(o=n._.children)for(n.children=new Array(l=o.length),s=l-1;s>=0;--s)r.push(i=n.children[s]=new _e(o[s],s)),i.parent=n;return(e.parent=new _e(null,0)).children=[e],e}function Hl(){var t=Pl,e=1,n=1,r=null;function i(a){var u=Rl(a);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),r)a.eachBefore(c);else{var p=a,d=a,h=a;a.eachBefore(function(b){b.x<p.x&&(p=b),b.x>d.x&&(d=b),b.depth>h.depth&&(h=b)});var _=p===d?1:t(p,d)/2,w=_-p.x,v=e/(d.x+_+w),x=n/(h.depth||1);a.eachBefore(function(b){b.x=(b.x+w)*v,b.y=b.depth*x})}return a}function o(a){var u=a.children,p=a.parent.children,d=a.i?p[a.i-1]:null;if(u){Fl(a);var h=(u[0].z+u[u.length-1].z)/2;d?(a.z=d.z+t(a._,d._),a.m=a.z-h):a.z=h}else d&&(a.z=d.z+t(a._,d._));a.parent.A=l(a,d,a.parent.A||p[0])}function s(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function l(a,u,p){if(u){for(var d=a,h=a,_=u,w=d.parent.children[0],v=d.m,x=h.m,b=_.m,$=w.m,y;_=Ye(_),d=Ue(d),_&&d;)w=Ue(w),h=Ye(h),h.a=a,y=_.z+b-d.z-v+t(_._,d._),y>0&&(ql(Dl(_,a,p),a,y),v+=y,x+=y),b+=_.m,v+=d.m,$+=w.m,x+=h.m;_&&!Ye(h)&&(h.t=_,h.m+=b-x),d&&!Ue(w)&&(w.t=d,w.m+=v-$,p=a)}return p}function c(a){a.x*=e,a.y=a.depth*n}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}function Yt(t,e,n){this.k=t,this.x=e,this.y=n}Yt.prototype={constructor:Yt,scale:function(t){return t===1?this:new Yt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Yt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Yt.prototype;/*!
 * Intro.js v7.2.0
 * https://introjs.com
 *
 * Copyright (C) 2012-2023 Afshin Mehrabani (@afshinmeh).
 * https://introjs.com
 *
 * Date: Mon, 14 Aug 2023 19:47:14 GMT
 */function Ne(t){return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(t)}function G(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(a){try{c(r.next(a))}catch(u){o(u)}}function l(a){try{c(r.throw(a))}catch(u){o(u)}}function c(a){var u;a.done?i(a.value):(u=a.value,u instanceof n?u:new n(function(p){p(u)})).then(s,l)}c((r=r.apply(t,[])).next())})}function X(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,r=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){s=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(u[0]===6&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(p){u=[6,p],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([c,a])}}}function lr(t,e,n){var r,i=((r={})[t]=e,r.path="/",r.expires=void 0,r);if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i.expires=o.toUTCString()}var s=[];for(var l in i)s.push("".concat(l,"=").concat(i[l]));return document.cookie=s.join("; "),Dr(t)}function Dr(t){return(e={},document.cookie.split(";").forEach(function(n){var r=n.split("="),i=r[0],o=r[1];e[i.trim()]=o}),e)[t];var e}function Ol(t,e){e?lr(t._options.dontShowAgainCookie,"true",t._options.dontShowAgainCookieDays):lr(t._options.dontShowAgainCookie,"",-1)}var pe,sn=(pe={},function(t,e){return e===void 0&&(e="introjs-stamp"),pe[e]=pe[e]||0,t[e]===void 0&&(t[e]=pe[e]++),t[e]}),mt=new(function(){function t(){this.events_key="introjs_event"}return t.prototype._id=function(e,n,r){return e+sn(n)+(r?"_".concat(sn(r)):"")},t.prototype.on=function(e,n,r,i,o){var s=this._id(n,r,i),l=function(c){return r(i||e,c||window.event)};"addEventListener"in e?e.addEventListener(n,l,o):"attachEvent"in e&&e.attachEvent("on".concat(n),l),e[this.events_key]=e[this.events_key]||{},e[this.events_key][s]=l},t.prototype.off=function(e,n,r,i,o){var s=this._id(n,r,i),l=e[this.events_key]&&e[this.events_key][s];l&&("removeEventListener"in e?e.removeEventListener(n,l,o):"detachEvent"in e&&e.detachEvent("on".concat(n),l),e[this.events_key][s]=null)},t}()),U=function(t){return typeof t=="function"};function pt(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";n.match(e)||t.setAttribute("class","".concat(n," ").concat(e))}else if(t.classList!==void 0)for(var r=0,i=e.split(" ");r<i.length;r++){var o=i[r];t.classList.add(o)}else t.className.match(e)||(t.className+=" ".concat(e))}function wn(t,e){var n="";return"currentStyle"in t?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function cr(t,e){if(t){var n=function(r){var i=window.getComputedStyle(r),o=i.position==="absolute",s=/(auto|scroll)/;if(i.position==="fixed")return document.body;for(var l=r;l=l.parentElement;)if(i=window.getComputedStyle(l),(!o||i.position!=="static")&&s.test(i.overflow+i.overflowY+i.overflowX))return l;return document.body}(e);n!==document.body&&(n.scrollTop=e.offsetTop-n.offsetTop)}}function _n(){if(window.innerWidth!==void 0)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function ur(t,e,n,r,i){var o;if(e!=="off"&&t&&(o=e==="tooltip"?i.getBoundingClientRect():r.getBoundingClientRect(),!function(l){var c=l.getBoundingClientRect();return c.top>=0&&c.left>=0&&c.bottom+80<=window.innerHeight&&c.right<=window.innerWidth}(r))){var s=_n().height;o.bottom-(o.bottom-o.top)<0||r.clientHeight>s?window.scrollBy(0,o.top-(s/2-o.height/2)-n):window.scrollBy(0,o.top-(s/2-o.height/2)+n)}}function Jt(t){t.setAttribute("role","button"),t.tabIndex=0}function Me(t){var e=t.parentElement;return!(!e||e.nodeName==="HTML")&&(wn(t,"position")==="fixed"||Me(e))}function Ft(t,e){var n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,o=window.pageXOffset||r.scrollLeft||n.scrollLeft;e=e||n;var s=t.getBoundingClientRect(),l=e.getBoundingClientRect(),c=wn(e,"position"),a={width:s.width,height:s.height};return e.tagName.toLowerCase()!=="body"&&c==="relative"||c==="sticky"?Object.assign(a,{top:s.top-l.top,left:s.left-l.left}):Me(t)?Object.assign(a,{top:s.top,left:s.left}):Object.assign(a,{top:s.top+i,left:s.left+o})}function xn(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function Et(t,e){var n="";if(t.style.cssText&&(n+=t.style.cssText),typeof e=="string")n+=e;else for(var r in e)n+="".concat(r,":").concat(e[r],";");t.style.cssText=n}function _t(t,e,n){if(n&&e){var r=Ft(e.element,t._targetElement),i=t._options.helperElementPadding;e.element instanceof Element&&Me(e.element)?pt(n,"introjs-fixedTooltip"):xn(n,"introjs-fixedTooltip"),e.position==="floating"&&(i=0),Et(n,{width:"".concat(r.width+i,"px"),height:"".concat(r.height+i,"px"),top:"".concat(r.top-i/2,"px"),left:"".concat(r.left-i/2,"px")})}}function ge(t,e,n,r,i){return t.left+e+n.width>r.width?(i.style.left="".concat(r.width-n.width-t.left,"px"),!1):(i.style.left="".concat(e,"px"),!0)}function me(t,e,n,r){return t.left+t.width-e-n.width<0?(r.style.left="".concat(-t.left,"px"),!1):(r.style.right="".concat(e,"px"),!0)}function ht(t,e){t.includes(e)&&t.splice(t.indexOf(e),1)}function zl(t,e,n,r){var i=t.slice(),o=_n(),s=Ft(n).height+10,l=Ft(n).width+20,c=e.getBoundingClientRect(),a="floating";if(c.bottom+s>o.height&&ht(i,"bottom"),c.top-s<0&&ht(i,"top"),c.right+l>o.width&&ht(i,"right"),c.left-l<0&&ht(i,"left"),r&&(r=r.split("-")[0]),i.length&&(a=i[0],i.includes(r)&&(a=r)),a==="top"||a==="bottom"){var u=void 0,p=[];a==="top"?(u="top-middle-aligned",p=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(u="bottom-middle-aligned",p=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),a=function(d,h,_,w){var v=h/2,x=Math.min(_,window.screen.width);return x-d<h&&(ht(w,"top-left-aligned"),ht(w,"bottom-left-aligned")),(d<v||x-d<v)&&(ht(w,"top-middle-aligned"),ht(w,"bottom-middle-aligned")),d<h&&(ht(w,"top-right-aligned"),ht(w,"bottom-right-aligned")),w.length?w[0]:null}(c.left,l,o.width,p)||u}return a}function Ae(t,e,n,r,i){if(i===void 0&&(i=!1),e){var o,s,l,c,a="";n.style.top="",n.style.right="",n.style.bottom="",n.style.left="",n.style.marginLeft="",n.style.marginTop="",r.style.display="inherit",a=typeof e.tooltipClass=="string"?e.tooltipClass:t._options.tooltipClass,n.className=["introjs-tooltip",a].filter(Boolean).join(" "),n.setAttribute("role","dialog"),(c=e.position)!=="floating"&&t._options.autoPosition&&(c=zl(t._options.positionPrecedence,e.element,n,c)),s=Ft(e.element),o=Ft(n),l=_n(),pt(n,"introjs-".concat(c));var u=s.width/2-o.width/2;switch(c){case"top-right-aligned":r.className="introjs-arrow bottom-right";var p=0;me(s,p,o,n),n.style.bottom="".concat(s.height+20,"px");break;case"top-middle-aligned":r.className="introjs-arrow bottom-middle",i&&(u+=5),me(s,u,o,n)&&(n.style.right="",ge(s,u,o,l,n)),n.style.bottom="".concat(s.height+20,"px");break;case"top-left-aligned":case"top":r.className="introjs-arrow bottom",ge(s,i?0:15,o,l,n),n.style.bottom="".concat(s.height+20,"px");break;case"right":n.style.left="".concat(s.width+20,"px"),s.top+o.height>l.height?(r.className="introjs-arrow left-bottom",n.style.top="-".concat(o.height-s.height-20,"px")):r.className="introjs-arrow left";break;case"left":i||t._options.showStepNumbers!==!0||(n.style.top="15px"),s.top+o.height>l.height?(n.style.top="-".concat(o.height-s.height-20,"px"),r.className="introjs-arrow right-bottom"):r.className="introjs-arrow right",n.style.right="".concat(s.width+20,"px");break;case"floating":r.style.display="none",n.style.left="50%",n.style.top="50%",n.style.marginLeft="-".concat(o.width/2,"px"),n.style.marginTop="-".concat(o.height/2,"px");break;case"bottom-right-aligned":r.className="introjs-arrow top-right",me(s,p=0,o,n),n.style.top="".concat(s.height+20,"px");break;case"bottom-middle-aligned":r.className="introjs-arrow top-middle",i&&(u+=5),me(s,u,o,n)&&(n.style.right="",ge(s,u,o,l,n)),n.style.top="".concat(s.height+20,"px");break;default:r.className="introjs-arrow top",ge(s,0,o,l,n),n.style.top="".concat(s.height+20,"px")}}}function Rr(){for(var t=0,e=Array.from(document.querySelectorAll(".introjs-showElement"));t<e.length;t++)xn(e[t],/introjs-[a-zA-Z]+/g)}function O(t,e){var n=document.createElement(t);e=e||{};var r=/^(?:role|data-|aria-)/;for(var i in e){var o=e[i];i==="style"&&typeof o!="function"?Et(n,o):typeof o=="string"&&i.match(r)?n.setAttribute(i,o):n[i]=o}return n}function fr(t,e,n){if(n===void 0&&(n=!1),n){var r=e.style.opacity||"1";Et(e,{opacity:"0"}),window.setTimeout(function(){Et(e,{opacity:r})},10)}t.appendChild(e)}function Hr(t,e){return(t+1)/e*100}function Or(t,e){var n=O("div",{className:"introjs-bullets"});t._options.showBullets===!1&&(n.style.display="none");var r=O("ul");r.setAttribute("role","tablist");for(var i=function(){var a=this.getAttribute("data-step-number");a!=null&&t.goToStep(parseInt(a,10))},o=0;o<t._introItems.length;o++){var s=t._introItems[o].step,l=O("li"),c=O("a");l.setAttribute("role","presentation"),c.setAttribute("role","tab"),c.onclick=i,o===e.step-1&&(c.className="active"),Jt(c),c.innerHTML="&nbsp;",c.setAttribute("data-step-number",s.toString()),l.appendChild(c),r.appendChild(l)}return n.appendChild(r),n}function zr(t,e,n){var r=t.querySelector(".introjs-progress .introjs-progressbar");if(r){var i=Hr(e,n);r.style.cssText="width:".concat(i,"%;"),r.setAttribute("aria-valuenow",i.toString())}}function Gr(t,e){return G(this,void 0,void 0,function(){var n,r,i,o,s,l,c,a,u,p,d,h,_,w,v,x,b,$,y,B,q,A,F,V,H=this;return X(this,function(z){switch(z.label){case 0:return U(t._introChangeCallback)?[4,t._introChangeCallback.call(t,e.element)]:[3,2];case 1:z.sent(),z.label=2;case 2:return n=document.querySelector(".introjs-helperLayer"),r=document.querySelector(".introjs-tooltipReferenceLayer"),i="introjs-helperLayer",typeof e.highlightClass=="string"&&(i+=" ".concat(e.highlightClass)),typeof t._options.highlightClass=="string"&&(i+=" ".concat(t._options.highlightClass)),n!==null&&r!==null?(c=r.querySelector(".introjs-helperNumberLayer"),a=r.querySelector(".introjs-tooltiptext"),u=r.querySelector(".introjs-tooltip-title"),p=r.querySelector(".introjs-arrow"),d=r.querySelector(".introjs-tooltip"),l=r.querySelector(".introjs-skipbutton"),s=r.querySelector(".introjs-prevbutton"),o=r.querySelector(".introjs-nextbutton"),n.className=i,d.style.opacity="0",d.style.display="none",cr(t._options.scrollToElement,e.element),_t(t,e,n),_t(t,e,r),Rr(),t._lastShowElementTimer&&window.clearTimeout(t._lastShowElementTimer),t._lastShowElementTimer=window.setTimeout(function(){c!==null&&(c.innerHTML="".concat(e.step," ").concat(t._options.stepNumbersOfLabel," ").concat(t._introItems.length)),a.innerHTML=e.intro||"",u.innerHTML=e.title||"",d.style.display="block",Ae(t,e,d,p),function(L,R,W){if(L){var st=R.querySelector(".introjs-bullets li > a.active"),Y=R.querySelector('.introjs-bullets li > a[data-step-number="'.concat(W.step,'"]'));st&&Y&&(st.className="",Y.className="active")}}(t._options.showBullets,r,e),zr(r,t._currentStep,t._introItems.length),d.style.opacity="1",(o!=null&&/introjs-donebutton/gi.test(o.className)||o!=null)&&o.focus(),ur(t._options.scrollToElement,e.scrollTo,t._options.scrollPadding,e.element,a)},350)):(h=O("div",{className:i}),_=O("div",{className:"introjs-tooltipReferenceLayer"}),w=O("div",{className:"introjs-arrow"}),v=O("div",{className:"introjs-tooltip"}),x=O("div",{className:"introjs-tooltiptext"}),b=O("div",{className:"introjs-tooltip-header"}),$=O("h1",{className:"introjs-tooltip-title"}),y=O("div"),Et(h,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(t._options.overlayOpacity.toString(),") 0 0 0 5000px")}),cr(t._options.scrollToElement,e.element),_t(t,e,h),_t(t,e,_),fr(t._targetElement,h,!0),fr(t._targetElement,_),x.innerHTML=e.intro,$.innerHTML=e.title,y.className="introjs-tooltipbuttons",t._options.showButtons===!1&&(y.style.display="none"),b.appendChild($),v.appendChild(b),v.appendChild(x),t._options.dontShowAgain&&(B=O("div",{className:"introjs-dontShowAgain"}),(q=O("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(L){t.setDontShowAgain(L.target.checked)},(A=O("label",{htmlFor:"introjs-dontShowAgain"})).innerText=t._options.dontShowAgainLabel,B.appendChild(q),B.appendChild(A),v.appendChild(B)),v.appendChild(Or(t,e)),v.appendChild(function(L){var R=O("div");R.className="introjs-progress",L._options.showProgress===!1&&(R.style.display="none");var W=O("div",{className:"introjs-progressbar"});L._options.progressBarAdditionalClass&&(W.className+=" "+L._options.progressBarAdditionalClass);var st=Hr(L._currentStep,L._introItems.length);return W.setAttribute("role","progress"),W.setAttribute("aria-valuemin","0"),W.setAttribute("aria-valuemax","100"),W.setAttribute("aria-valuenow",st.toString()),W.style.cssText="width:".concat(st,"%;"),R.appendChild(W),R}(t)),F=O("div"),t._options.showStepNumbers===!0&&(F.className="introjs-helperNumberLayer",F.innerHTML="".concat(e.step," ").concat(t._options.stepNumbersOfLabel," ").concat(t._introItems.length),v.appendChild(F)),v.appendChild(w),_.appendChild(v),(o=O("a")).onclick=function(){return G(H,void 0,void 0,function(){return X(this,function(L){switch(L.label){case 0:return t._introItems.length-1===t._currentStep?[3,2]:[4,Bt(t)];case 1:return L.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(o.className)?U(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"done")]:[3,4]:[3,6];case 3:L.sent(),L.label=4;case 4:return[4,Lt(t,t._targetElement)];case 5:L.sent(),L.label=6;case 6:return[2]}})})},Jt(o),o.innerHTML=t._options.nextLabel,(s=O("a")).onclick=function(){return G(H,void 0,void 0,function(){return X(this,function(L){switch(L.label){case 0:return t._currentStep>0?[4,Ie(t)]:[3,2];case 1:L.sent(),L.label=2;case 2:return[2]}})})},Jt(s),s.innerHTML=t._options.prevLabel,Jt(l=O("a",{className:"introjs-skipbutton"})),l.innerHTML=t._options.skipLabel,l.onclick=function(){return G(H,void 0,void 0,function(){return X(this,function(L){switch(L.label){case 0:return t._introItems.length-1===t._currentStep&&U(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"skip")]:[3,2];case 1:L.sent(),L.label=2;case 2:return U(t._introSkipCallback)?[4,t._introSkipCallback.call(t,t._currentStep)]:[3,4];case 3:L.sent(),L.label=4;case 4:return[4,Lt(t,t._targetElement)];case 5:return L.sent(),[2]}})})},b.appendChild(l),t._introItems.length>1&&y.appendChild(s),y.appendChild(o),v.appendChild(y),Ae(t,e,v,w),ur(t._options.scrollToElement,e.scrollTo,t._options.scrollPadding,e.element,v)),(V=t._targetElement.querySelector(".introjs-disableInteraction"))&&V.parentNode&&V.parentNode.removeChild(V),e.disableInteraction&&function(L,R){var W=document.querySelector(".introjs-disableInteraction");W===null&&(W=O("div",{className:"introjs-disableInteraction"}),L._targetElement.appendChild(W)),_t(L,R,W)}(t,e),t._currentStep===0&&t._introItems.length>1?(o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton"),o.innerHTML=t._options.nextLabel),t._options.hidePrev===!0?(s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton introjs-hidden")),o!=null&&pt(o,"introjs-fullbutton")):s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton introjs-disabled"))):t._introItems.length-1===t._currentStep||t._introItems.length===1?(s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton")),t._options.hideNext===!0?(o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton introjs-hidden")),s!=null&&pt(s,"introjs-fullbutton")):o!=null&&(t._options.nextToDone===!0?(o.innerHTML=t._options.doneLabel,pt(o,"".concat(t._options.buttonClass," introjs-nextbutton introjs-donebutton"))):o.className="".concat(t._options.buttonClass," introjs-nextbutton introjs-disabled"))):(s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton")),o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton"),o.innerHTML=t._options.nextLabel)),s!=null&&s.setAttribute("role","button"),o!=null&&o.setAttribute("role","button"),l!=null&&l.setAttribute("role","button"),o!=null&&o.focus(),function(L){pt(L,"introjs-showElement");var R=wn(L,"position");R!=="absolute"&&R!=="relative"&&R!=="sticky"&&R!=="fixed"&&pt(L,"introjs-relativePosition")}(e.element),U(t._introAfterChangeCallback)?[4,t._introAfterChangeCallback.call(t,e.element)]:[3,4];case 3:z.sent(),z.label=4;case 4:return[2]}})})}function Gl(t,e){return G(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return t._currentStep=e-2,t._introItems===void 0?[3,2]:[4,Bt(t)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function Xl(t,e){return G(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return t._currentStepNumber=e,t._introItems===void 0?[3,2]:[4,Bt(t)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function Bt(t){return G(this,void 0,void 0,function(){var e,n,r;return X(this,function(i){switch(i.label){case 0:if(t._direction="forward",t._currentStepNumber!==void 0)for(e=0;e<t._introItems.length;e++)t._introItems[e].step===t._currentStepNumber&&(t._currentStep=e-1,t._currentStepNumber=void 0);return t._currentStep===-1?t._currentStep=0:++t._currentStep,n=t._introItems[t._currentStep],r=!0,U(t._introBeforeChangeCallback)?[4,t._introBeforeChangeCallback.call(t,n&&n.element,t._currentStep,t._direction)]:[3,2];case 1:r=i.sent(),i.label=2;case 2:return r===!1?(--t._currentStep,[2,!1]):t._introItems.length<=t._currentStep?U(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"end")]:[3,4]:[3,6];case 3:i.sent(),i.label=4;case 4:return[4,Lt(t,t._targetElement)];case 5:return i.sent(),[2,!1];case 6:return[4,Gr(t,n)];case 7:return i.sent(),[2,!0]}})})}function Ie(t){return G(this,void 0,void 0,function(){var e,n;return X(this,function(r){switch(r.label){case 0:return t._direction="backward",t._currentStep<=0?[2,!1]:(--t._currentStep,e=t._introItems[t._currentStep],n=!0,U(t._introBeforeChangeCallback)?[4,t._introBeforeChangeCallback.call(t,e&&e.element,t._currentStep,t._direction)]:[3,2]);case 1:n=r.sent(),r.label=2;case 2:return n===!1?(++t._currentStep,[2,!1]):[4,Gr(t,e)];case 3:return r.sent(),[2,!0]}})})}function Xr(t,e){return G(this,void 0,void 0,function(){var n,r;return X(this,function(i){switch(i.label){case 0:return(n=e.code===void 0?e.which:e.code)===null&&(n=e.charCode===null?e.keyCode:e.charCode),n!=="Escape"&&n!==27||t._options.exitOnEsc!==!0?[3,2]:[4,Lt(t,t._targetElement)];case 1:return i.sent(),[3,16];case 2:return n!=="ArrowLeft"&&n!==37?[3,4]:[4,Ie(t)];case 3:return i.sent(),[3,16];case 4:return n!=="ArrowRight"&&n!==39?[3,6]:[4,Bt(t)];case 5:return i.sent(),[3,16];case 6:return n!=="Enter"&&n!=="NumpadEnter"&&n!==13?[3,16]:(r=e.target||e.srcElement)&&r.className.match("introjs-prevbutton")?[4,Ie(t)]:[3,8];case 7:return i.sent(),[3,15];case 8:return r&&r.className.match("introjs-skipbutton")?t._introItems.length-1===t._currentStep&&U(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"skip")]:[3,10]:[3,12];case 9:i.sent(),i.label=10;case 10:return[4,Lt(t,t._targetElement)];case 11:return i.sent(),[3,15];case 12:return r&&r.getAttribute("data-step-number")?(r.click(),[3,15]):[3,13];case 13:return[4,Bt(t)];case 14:i.sent(),i.label=15;case 15:e.preventDefault?e.preventDefault():e.returnValue=!1,i.label=16;case 16:return[2]}})})}function bn(t){if(t===null||Ne(t)!=="object"||"nodeType"in t)return t;var e={};for(var n in t)"jQuery"in window&&t[n]instanceof window.jQuery?e[n]=t[n]:e[n]=bn(t[n]);return e}function Dt(t){var e=document.querySelector(".introjs-hints");return e?Array.from(e.querySelectorAll(t)):[]}function Sn(t,e){return G(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return n=Dt('.introjs-hint[data-step="'.concat(e,'"]'))[0],je(),n&&pt(n,"introjs-hidehint"),U(t._hintCloseCallback)?[4,t._hintCloseCallback.call(t,e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}function Vl(t){return G(this,void 0,void 0,function(){var e,n,r,i,o;return X(this,function(s){switch(s.label){case 0:e=Dt(".introjs-hint"),n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],(o=i.getAttribute("data-step"))?[4,Sn(t,parseInt(o,10))]:[3,3]):[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function Wl(t){return G(this,void 0,void 0,function(){var e,n,r,i,o;return X(this,function(s){switch(s.label){case 0:if(!(e=Dt(".introjs-hint"))||!e.length)return[3,1];for(n=0,r=e;n<r.length;n++)i=r[n],(o=i.getAttribute("data-step"))&&Vr(parseInt(o,10));return[3,3];case 1:return[4,Yr(t,t._targetElement)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Vr(t){var e=Dt('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&xn(e,/introjs-hidehint/g)}function hr(t){var e=Dt('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&e.parentNode&&e.parentNode.removeChild(e)}function Ul(t){return G(this,void 0,void 0,function(){var e,n,r,i,o,s,l;return X(this,function(c){switch(c.label){case 0:for((e=document.querySelector(".introjs-hints"))===null&&(e=O("div",{className:"introjs-hints"})),n=function(d){return function(h){var _=h||window.event;_&&_.stopPropagation&&_.stopPropagation(),_&&_.cancelBubble!==null&&(_.cancelBubble=!0),Ur(t,d)}},r=0;r<t._hintItems.length;r++){if(i=t._hintItems[r],document.querySelector('.introjs-hint[data-step="'.concat(r,'"]')))return[2];Jt(o=O("a",{className:"introjs-hint"})),o.onclick=n(r),i.hintAnimation||pt(o,"introjs-hint-no-anim"),Me(i.element)&&pt(o,"introjs-fixedhint"),s=O("div",{className:"introjs-hint-dot"}),l=O("div",{className:"introjs-hint-pulse"}),o.appendChild(s),o.appendChild(l),o.setAttribute("data-step",r.toString()),i.hintTargetElement=i.element,i.element=o,Wr(i.hintPosition,o,i.hintTargetElement),e.appendChild(o)}return document.body.appendChild(e),U(t._hintsAddedCallback)?[4,t._hintsAddedCallback.call(t)]:[3,2];case 1:c.sent(),c.label=2;case 2:return t._options.hintAutoRefreshInterval>=0&&(t._hintsAutoRefreshFunction=(a=function(){return Pe(t)},u=t._options.hintAutoRefreshInterval,function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];window.clearTimeout(p),p=window.setTimeout(function(){a(d)},u)}),mt.on(window,"scroll",t._hintsAutoRefreshFunction,t,!0)),[2]}var a,u,p})})}function Wr(t,e,n){if(n!==void 0){var r=Ft(n),i=20,o=20;switch(t){default:case"top-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top,"px");break;case"top-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top,"px");break;case"bottom-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"bottom-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"middle-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"middle-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"middle-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"bottom-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"top-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top,"px")}}}function Ur(t,e){return G(this,void 0,void 0,function(){var n,r,i,o,s,l,c,a,u,p,d;return X(this,function(h){switch(h.label){case 0:return n=document.querySelector('.introjs-hint[data-step="'.concat(e,'"]')),r=t._hintItems[e],U(t._hintClickCallback)?[4,t._hintClickCallback.call(t,n,r,e)]:[3,2];case 1:h.sent(),h.label=2;case 2:return(i=je())!==void 0&&parseInt(i,10)===e||(o=O("div",{className:"introjs-tooltip"}),s=O("div"),l=O("div"),c=O("div"),o.onclick=function(_){_.stopPropagation?_.stopPropagation():_.cancelBubble=!0},s.className="introjs-tooltiptext",(a=O("p")).innerHTML=r.hint||"",s.appendChild(a),t._options.hintShowButton&&((u=O("a")).className=t._options.buttonClass,u.setAttribute("role","button"),u.innerHTML=t._options.hintButtonLabel,u.onclick=function(){return Sn(t,e)},s.appendChild(u)),l.className="introjs-arrow",o.appendChild(l),o.appendChild(s),p=n.getAttribute("data-step")||"",t._currentStep=parseInt(p,10),d=t._hintItems[t._currentStep],c.className="introjs-tooltipReferenceLayer introjs-hintReference",c.setAttribute("data-step",p),_t(t,d,c),c.appendChild(o),document.body.appendChild(c),Ae(t,d,o,l,!0)),[2]}})})}function je(){var t=document.querySelector(".introjs-hintReference");if(t&&t.parentNode){var e=t.getAttribute("data-step");return e?(t.parentNode.removeChild(t),e):void 0}}function Yr(t,e){return G(this,void 0,void 0,function(){var n,r,i,o,s,l,c,a,u,p;return X(this,function(d){switch(d.label){case 0:if(t._hintItems=[],t._options.hints&&t._options.hints.length>0)for(n=0,r=t._options.hints;n<r.length;n++)i=r[n],typeof(o=bn(i)).element=="string"&&(o.element=document.querySelector(o.element)),o.hintPosition=o.hintPosition||t._options.hintPosition,o.hintAnimation=o.hintAnimation||t._options.hintAnimation,o.element!==null&&t._hintItems.push(o);else{if(!(s=Array.from(e.querySelectorAll("*[data-hint]")))||!s.length)return[2,!1];for(l=0,c=s;l<c.length;l++)a=c[l],u=a.getAttribute("data-hint-animation"),p=t._options.hintAnimation,u&&(p=u==="true"),t._hintItems.push({element:a,hint:a.getAttribute("data-hint")||"",hintPosition:a.getAttribute("data-hint-position")||t._options.hintPosition,hintAnimation:p,tooltipClass:a.getAttribute("data-tooltip-class")||void 0,position:a.getAttribute("data-position")||t._options.tooltipPosition})}return[4,Ul(t)];case 1:return d.sent(),mt.on(document,"click",je,t,!1),mt.on(window,"resize",Pe,t,!0),[2,!0]}})})}function Pe(t){for(var e=0,n=t._hintItems;e<n.length;e++){var r=n[e],i=r.hintTargetElement;Wr(r.hintPosition,r.element,i)}}function Jr(t,e){var n=Array.from(e.querySelectorAll("*[data-intro]")),r=[];if(t._options.steps&&t._options.steps.length)for(var i=0,o=t._options.steps;i<o.length;i++){var s=bn(d=o[i]);if(s.step=r.length+1,s.title=s.title||"",typeof s.element=="string"&&(s.element=document.querySelector(s.element)||void 0),s.element===void 0||s.element===null){var l=document.querySelector(".introjsFloatingElement");l===null&&(l=O("div",{className:"introjsFloatingElement"}),document.body.appendChild(l)),s.element=l,s.position="floating"}s.position=s.position||t._options.tooltipPosition,s.scrollTo=s.scrollTo||t._options.scrollTo,s.disableInteraction===void 0&&(s.disableInteraction=t._options.disableInteraction),s.element!==null&&r.push(s)}else{var c=void 0;if(n.length<1)return[];for(var a=0,u=n;a<u.length;a++){var p=u[a];if((!t._options.group||p.getAttribute("data-intro-group")===t._options.group)&&p.style.display!=="none"){var d=parseInt(p.getAttribute("data-step")||"",10);c=t._options.disableInteraction,p.hasAttribute("data-disable-interaction")&&(c=!!p.getAttribute("data-disable-interaction")),d>0&&(r[d-1]={step:d,element:p,title:p.getAttribute("data-title")||"",intro:p.getAttribute("data-intro")||"",tooltipClass:p.getAttribute("data-tooltip-class")||void 0,highlightClass:p.getAttribute("data-highlight-class")||void 0,position:p.getAttribute("data-position")||t._options.tooltipPosition,scrollTo:p.getAttribute("data-scroll-to")||t._options.scrollTo,disableInteraction:c})}}for(var h=0,_=0,w=n;_<w.length;_++)if(p=w[_],(!t._options.group||p.getAttribute("data-intro-group")===t._options.group)&&p.getAttribute("data-step")===null){for(;r[h]!==void 0;)h++;c=p.hasAttribute("data-disable-interaction")?!!p.getAttribute("data-disable-interaction"):t._options.disableInteraction,r[h]={element:p,title:p.getAttribute("data-title")||"",intro:p.getAttribute("data-intro")||"",step:h+1,tooltipClass:p.getAttribute("data-tooltip-class")||void 0,highlightClass:p.getAttribute("data-highlight-class")||void 0,position:p.getAttribute("data-position")||t._options.tooltipPosition,scrollTo:p.getAttribute("data-scroll-to")||t._options.scrollTo,disableInteraction:c}}}for(var v=[],x=0;x<r.length;x++)r[x]&&v.push(r[x]);return(r=v).sort(function(b,$){return b.step-$.step}),r}function Kr(t,e){var n=t._currentStep;if(n!=null&&n!=-1){var r=t._introItems[n],i=document.querySelector(".introjs-tooltipReferenceLayer"),o=document.querySelector(".introjs-helperLayer"),s=document.querySelector(".introjs-disableInteraction");_t(t,r,o),_t(t,r,i),_t(t,r,s),e&&(t._introItems=Jr(t,t._targetElement),function(a,u){if(a._options.showBullets){var p=document.querySelector(".introjs-bullets");p&&p.parentNode&&p.parentNode.replaceChild(Or(a,u),p)}}(t,r),zr(i,n,t._introItems.length));var l=document.querySelector(".introjs-arrow"),c=document.querySelector(".introjs-tooltip");return c&&l&&Ae(t,t._introItems[n],c,l),Pe(t),t}}function Qr(t){Kr(t)}function Vt(t,e){if(e===void 0&&(e=!1),t&&t.parentElement){var n=t.parentElement;e?(Et(t,{opacity:"0"}),window.setTimeout(function(){try{n.removeChild(t)}catch{}},500)):n.removeChild(t)}}function Lt(t,e,n){return n===void 0&&(n=!1),G(this,void 0,void 0,function(){var r,i,o,s;return X(this,function(l){switch(l.label){case 0:return r=!0,t._introBeforeExitCallback===void 0?[3,2]:[4,t._introBeforeExitCallback.call(t,e)];case 1:r=l.sent(),l.label=2;case 2:if(!n&&r===!1)return[2];if((i=Array.from(e.querySelectorAll(".introjs-overlay")))&&i.length)for(o=0,s=i;o<s.length;o++)Vt(s[o]);return Vt(e.querySelector(".introjs-helperLayer"),!0),Vt(e.querySelector(".introjs-tooltipReferenceLayer")),Vt(e.querySelector(".introjs-disableInteraction")),Vt(document.querySelector(".introjsFloatingElement")),Rr(),mt.off(window,"keydown",Xr,t,!0),mt.off(window,"resize",Qr,t,!0),U(t._introExitCallback)?[4,t._introExitCallback.call(t)]:[3,4];case 3:l.sent(),l.label=4;case 4:return t._currentStep=-1,[2]}})})}function Yl(t,e){return G(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return t.isActive()?U(t._introStartCallback)?[4,t._introStartCallback.call(t,e)]:[3,2]:[2,!1];case 1:r.sent(),r.label=2;case 2:return(n=Jr(t,e)).length===0?[2,!1]:(t._introItems=n,function(i,o){var s=this,l=O("div",{className:"introjs-overlay"});Et(l,{top:0,bottom:0,left:0,right:0,position:"fixed"}),o.appendChild(l),i._options.exitOnOverlayClick===!0&&(Et(l,{cursor:"pointer"}),l.onclick=function(){return G(s,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return[4,Lt(i,o)];case 1:return c.sent(),[2]}})})})}(t,e),[4,Bt(t)]);case 3:r.sent(),e.addEventListener,t._options.keyboardNavigation&&mt.on(window,"keydown",Xr,t,!0),mt.on(window,"resize",Qr,t,!0),r.label=4;case 4:return[2,!1]}})})}function dr(t,e,n){return t[e]=n,t}var Je=function(){function t(e){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=e,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"×",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return t.prototype.isActive=function(){return(!this._options.dontShowAgain||(e=Dr(this._options.dontShowAgainCookie))===""||e!=="true")&&this._options.isActive;var e},t.prototype.clone=function(){return new t(this._targetElement)},t.prototype.setOption=function(e,n){return this._options=dr(this._options,e,n),this},t.prototype.setOptions=function(e){return this._options=function(n,r){for(var i=0,o=Object.entries(r);i<o.length;i++){var s=o[i];n=dr(n,s[0],s[1])}return n}(this._options,e),this},t.prototype.start=function(){return G(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,Yl(this,this._targetElement)];case 1:return e.sent(),[2,this]}})})},t.prototype.goToStep=function(e){return G(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,Gl(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.addStep=function(e){return this._options.steps||(this._options.steps=[]),this._options.steps.push(e),this},t.prototype.addSteps=function(e){if(!e.length)return this;for(var n=0;n<e.length;n++)this.addStep(e[n]);return this},t.prototype.goToStepNumber=function(e){return G(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,Xl(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.nextStep=function(){return G(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,Bt(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.previousStep=function(){return G(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,Ie(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.currentStep=function(){return this._currentStep},t.prototype.exit=function(e){return G(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,Lt(this,this._targetElement,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.refresh=function(e){return Kr(this,e),this},t.prototype.setDontShowAgain=function(e){return Ol(this,e),this},t.prototype.onbeforechange=function(e){if(!U(e))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},t.prototype.onchange=function(e){if(!U(e))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},t.prototype.onafterchange=function(e){if(!U(e))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},t.prototype.oncomplete=function(e){if(!U(e))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},t.prototype.onhintsadded=function(e){if(!U(e))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=e,this},t.prototype.onhintclick=function(e){if(!U(e))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=e,this},t.prototype.onhintclose=function(e){if(!U(e))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=e,this},t.prototype.onstart=function(e){if(!U(e))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=e,this},t.prototype.onexit=function(e){if(!U(e))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this},t.prototype.onskip=function(e){if(!U(e))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=e,this},t.prototype.onbeforeexit=function(e){if(!U(e))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=e,this},t.prototype.addHints=function(){return G(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,Yr(this,this._targetElement)];case 1:return e.sent(),[2,this]}})})},t.prototype.hideHint=function(e){return G(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,Sn(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.hideHints=function(){return G(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,Vl(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.showHint=function(e){return Vr(e),this},t.prototype.showHints=function(){return G(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,Wl(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.removeHints=function(){return function(e){for(var n=0,r=Dt(".introjs-hint");n<r.length;n++){var i=r[n].getAttribute("data-step");i&&hr(parseInt(i,10))}mt.off(document,"click",je,e,!1),mt.off(window,"resize",Pe,e,!0),e._hintsAutoRefreshFunction&&mt.off(window,"scroll",e._hintsAutoRefreshFunction,e,!0)}(this),this},t.prototype.removeHint=function(e){return hr(e),this},t.prototype.showHintDialog=function(e){return G(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,Ur(this,e)];case 1:return n.sent(),[2,this]}})})},t}(),an=function t(e){var n;if(Ne(e)==="object")n=new Je(e);else if(typeof e=="string"){var r=document.querySelector(e);if(!r)throw new Error("There is no element with given selector.");n=new Je(r)}else n=new Je(document.body);return t.instances[sn(n,"introjs-instance")]=n,n};an.version="7.2.0",an.instances={};document.addEventListener("DOMContentLoaded",function(){let t=[],e=[],n=0,r={},i=null,o=[],s=-1,l={},c=null;const a=24,u=20,p=document.getElementById("stepsList");let d=[],h=!1;const _=document.getElementById("graphSvg");let w=_.clientWidth,v=_.clientHeight;const x=dt("#graphSvg");x.attr("width",w).attr("height",v);const b=x.append("g").attr("class","links"),$=x.append("g").attr("class","nodes"),y=x.append("g").attr("class","labels"),B=document.getElementById("currentStepToast"),q=new bootstrap.Toast(B,{autohide:!1,animation:!1});function A(f){return typeof f=="object"?f.id:f}function F(){t.forEach(f=>{f.cost=void 0}),K(".node-group").select(".cost-label").text("")}function V(){e=[],b.selectAll(".link").remove(),y.selectAll(".link-label").remove()}let H,z,L;function R(){H=b.selectAll(".link").data(e,m=>`${A(m.source)}-${A(m.target)}`),H.exit().remove(),H=H.enter().append("line").attr("class","link").merge(H),L=y.selectAll(".link-label").data(e.filter(m=>m.weight!==void 0),m=>`${A(m.source)}-${A(m.target)}`),L.exit().remove(),L=L.enter().append("text").attr("class","link-label").attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(m=>m.weight).merge(L),z=$.selectAll(".node-group").data(t,m=>m.id),z.exit().remove();const g=z.enter().append("g").attr("class","node-group").call(os().on("drag",(m,S)=>{Rt(),S.x=m.x,S.y=m.y,kt(S),W()}));g.append("circle").attr("class","outer-circle").attr("r",a),g.append("circle").attr("class","inner-circle").attr("r",u).on("click",(m,S)=>{m.stopPropagation();const k=dt(m.currentTarget);k.classed("activated",!k.classed("activated"))}),g.append("text").attr("class","node-label").attr("x",0).attr("y",-10).attr("text-anchor","middle").attr("dominant-baseline","central").text(m=>m.id),g.append("text").attr("class","cost-label").attr("x",0).attr("y",a+12).attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(m=>m.cost!==void 0?`Cost: ${m.cost}`:""),g.append("text").attr("class","heuristic-label").attr("x",0).attr("y",10).attr("text-anchor","middle").style("pointer-events","none").text(m=>m.h!==void 0?`h: ${m.h}`:""),z=g.merge(z),W(),ii(),Re()}function W(){H.attr("x1",f=>Y(f.source).x).attr("y1",f=>Y(f.source).y).attr("x2",f=>Y(f.target).x).attr("y2",f=>Y(f.target).y),L.attr("x",f=>{let g=Y(f.source),m=Y(f.target);return(g.x+m.x)/2}).attr("y",f=>{let g=Y(f.source),m=Y(f.target);return(g.y+m.y)/2}),z.attr("transform",f=>`translate(${f.x}, ${f.y})`)}function st(){r={},t.forEach(f=>r[f.id]=[]),e.forEach(f=>{const g=A(f.source),m=A(f.target);r[g].push(m),r[m].push(g)})}function Y(f){return typeof f=="object"?f:t.find(g=>g.id===f)}function kt(f){f.x=Math.max(a,Math.min(w-a,f.x)),f.y=Math.max(a,Math.min(v-a,f.y))}function Rt(){const f=_.getBoundingClientRect();w=f.width,v=f.height}function oe(f,g){const m={};Object.entries(f).forEach(([k,C])=>{(m[C]||(m[C]=[])).push(+k)});function S(k){return{id:k,children:(m[k]||[]).map(S)}}return S(g)}const Z=pl(t).force("link",sl(e).id(f=>f.id).distance(50)).force("charge",gl().strength(-700)).force("collide",il(a+1)).force("center",ir(w/2,v/2)).on("tick",()=>{Rt(),t.forEach(kt),W()});function En(f){if(F(),V(),f<1){t=[],e=[],Z.nodes(t),Z.force("link").links(e),R(),Z.alpha(0).stop();return}const g=document.getElementById("includeWeights").checked;t=Array.from({length:f},(T,N)=>({id:N,x:Math.random()*(w-2*a)+a,y:Math.random()*(v-2*a)+a}));let m=t.map(T=>T.id);for(let T=m.length-1;T>0;T--){const N=Math.floor(Math.random()*(T+1));[m[T],m[N]]=[m[N],m[T]]}let S=[];for(let T=1;T<m.length;T++){const N=m[Math.floor(Math.random()*T)],j=m[T];S.push({source:N,target:j,weight:g?Math.floor(Math.random()*20)+1:void 0})}let k=new Array(f).fill(0);S.forEach(({source:T,target:N})=>{k[T]++,k[N]++});let C=[];for(let T=0;T<f;T++)for(let N=T+1;N<f;N++)S.some(j=>{const M=A(j.source),E=A(j.target);return M===T&&E===N||M===N&&E===T})||C.push({source:T,target:N});for(let T=C.length-1;T>0;T--){const N=Math.floor(Math.random()*(T+1));[C[T],C[N]]=[C[N],C[T]]}const P=.2;C.forEach(T=>{const{source:N,target:j}=T;if(k[N]<3&&k[j]<3){let M=k.filter(I=>I===3).length,E=0;if(k[N]===2&&E++,k[j]===2&&E++,(M+E)/f>P)return;S.push({source:N,target:j,weight:g?Math.floor(Math.random()*20)+1:void 0}),k[N]++,k[j]++}}),e=S,n=f,st(),Z.nodes(t),Z.force("link").links(e),Z.alpha(1).restart(),R()}function kn(){dt("#searchTreePanelSvg").selectAll("*").remove(),document.getElementById("nodesExpanded").textContent=0,document.getElementById("nodesDiscovered").textContent=0,document.getElementById("currentDepth").textContent=0,document.getElementById("stepsToGoal").textContent="N/A",document.getElementById("finalCost").textContent="N/A"}function se(f){const g=dt("#searchTreePanelSvg");if(g.selectAll("*").remove(),!f)return;const m=document.getElementById("searchTreePanelSvg"),S=m.clientWidth,k=m.clientHeight;if(S===0||k===0)return;const C=+document.getElementById("startNodeSelect").value,P=vn(oe(f.parents,C));P.each(E=>{const I=f.nodes.find(D=>D.id===E.data.id);E.data.discoveryIndex=(I==null?void 0:I.discoveryIndex)??1/0}),P.sort((E,I)=>E.data.discoveryIndex-I.data.discoveryIndex),Hl().size([S-2*a,k-2*a])(P);const T=E=>Math.max(a,Math.min(S-a,E.x+a)),N=E=>Math.max(a,Math.min(k-a,E.y+a));g.selectAll(".link").data(P.links()).enter().append("line").attr("class","link").attr("x1",E=>T(E.source)).attr("y1",E=>N(E.source)).attr("x2",E=>T(E.target)).attr("y2",E=>N(E.target)).classed("path-highlight-link",E=>{var I;return((I=f.path)==null?void 0:I.includes(E.source.data.id))&&f.path.includes(E.target.data.id)});const j=g.selectAll(".node-group").data(P.descendants()).enter().append("g").attr("class","node-group").classed("highlighted",E=>f.highlightedNodes.includes(E.data.id)).classed("goal-highlight",E=>f.goal&&E.data.id===+f.goal).classed("path-highlight",E=>{var I;return(I=f.path)==null?void 0:I.includes(E.data.id)}).classed("current-highlight",E=>f.currentNode===E.data.id).attr("transform",E=>`translate(${T(E)},${N(E)})`);j.append("circle").attr("class","outer-circle").attr("r",a),j.append("circle").attr("class","inner-circle").attr("r",u),j.append("text").attr("class","node-label").attr("x",0).attr("y",-4).attr("text-anchor","middle").text(E=>E.data.id),j.append("text").attr("class","cost-label").attr("x",-24).attr("y",a+12).attr("text-anchor","start").attr("dominant-baseline","middle").style("font-weight","bold").style("pointer-events","none").text(E=>{const I=f.nodes.find(D=>D.id===E.data.id);return(I==null?void 0:I.cost)!==void 0?`C: ${I.cost}`:""}),j.append("text").attr("class","heuristic-label").attr("x",0).attr("y",10).attr("text-anchor","middle").text(E=>{const I=f.nodes.find(D=>D.id===E.data.id);return(I==null?void 0:I.h)!==void 0?`H: ${I.h}`:""}),g.selectAll(".link-weight-label").data(P.links()).enter().append("text").attr("class","link-weight-label").attr("x",E=>(E.source.x+E.target.x)/2+a).attr("y",E=>(E.source.y+E.target.y)/2+a).attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(E=>{const I=E.source.data.id,D=E.target.data.id,et=f.links.find(Q=>A(Q.source)===I&&A(Q.target)===D||A(Q.source)===D&&A(Q.target)===I);return(et==null?void 0:et.weight)!==void 0?et.weight:""});const M=document.getElementById("toggleWeightsSwitch").checked;K("#searchTreePanelSvg .link-weight-label").style("display",M?"block":"none"),gi(f)}const Cn=document.getElementById("tree-tab");Cn&&Cn.addEventListener("shown.bs.tab",()=>{An&&se(An)});function Zr(f,g){const m=t.find(S=>S.id===f);m&&(m.cost=g),K(".node-group").filter(S=>S.id===f).select(".cost-label").text(g!==void 0?`Cost: ${g}`:"")}function qe(f,g){const m=t.find(S=>S.id===f);m&&(m.cost=g)}function Fe(f,g){K(".node-group").filter(m=>m.id===f).select(".cost-label").text(g!==void 0?`Cost: ${g}`:"")}function ti(f,g,m){const S=[];K(".node-group.highlighted").each(function(P){S.push(P.id)});const k=document.getElementById("goalNodeSelect"),C=k?k.value:null;return{nodes:JSON.parse(JSON.stringify(t)),links:JSON.parse(JSON.stringify(e)),adjacency:JSON.parse(JSON.stringify(r)),parents:JSON.parse(JSON.stringify(l)),highlightedNodes:S,goal:C,path:i,currentStep:f,expanded:[...g],currentNode:m}}function Nn(f,g){ei({message:f,snapshot:g})}function ei(f){const g=document.createElement("li"),m=document.createElement("button");m.textContent=f.message,m.classList.add("step-button"),f.snapshot?m.addEventListener("click",()=>{at(),De(f.snapshot),s=Array.from(p.children).indexOf(g)}):m.disabled=!0,g.appendChild(m),p.appendChild(g)}function ut(){o=[],s=-1,p.innerHTML=""}function ft(f,g){const m=setTimeout(f,g);return d.push(m),m}let tt=0;function J(f,g){const m=g[g.length-1],S=ti(f,g,m),k=B.querySelector(".toast-body");ft(()=>{Nn(f,S),se(S),k.textContent=f,q.show(),o.push({message:f,snapshot:S}),s=o.length-1},tt),tt+=Mn}function at(){d.forEach(f=>clearTimeout(f)),d=[],tt=0,F(),In(),kn(),q.hide(),i=null,h&&Nn("Algorithm Stopped."),h=!1}let An=null;function De(f){if(at(),F(),In(),f.nodes.forEach(g=>{const m=t.find(S=>S.id===g.id);m&&(m.cost=g.cost,Zr(m.id,g.cost),f.highlightedNodes.includes(m.id)&&Ht(m.id),f.goal&&+f.goal===m.id&&ae(m.id))}),f.path&&Ot(f.path),f.currentStep){const g=B.querySelector(".toast-body");g.textContent=f.currentStep,q.show()}se(f)}function Ht(f){K(".node-group").classed("current-highlight",!1),K(".node-group").filter(g=>g.id===f).classed("highlighted",!0).classed("current-highlight",!0)}function In(){K(".node-group").classed("highlighted",!1).classed("path-highlight",!1),K(".link").classed("path-highlight-link",!1)}function Ot(f){if(!(!f||f.length===0)){f.forEach(g=>{K(".node-group").filter(m=>m.id===g).classed("path-highlight",!0)});for(let g=0;g<f.length-1;g++)K(".link").filter(m=>{let S=A(m.source),k=A(m.target);return S===f[g]&&k===f[g+1]||S===f[g+1]&&k===f[g]}).classed("path-highlight-link",!0)}}function zt(){K(".node-group").classed("goal-highlight",!1)}function ae(f){K(".node-group").filter(g=>g.id===f).classed("goal-highlight",!0)}function ni(f){const g={id:n,x:Math.random()*(w-2*a)+a,y:Math.random()*(v-2*a)+a};t.push(g),f.forEach(m=>{e.push({source:m,target:g.id,weight:void 0})}),n++,st(),Z.nodes(t),Z.force("link").links(e),Z.alpha(1).restart(),R(),Re()}function ri(f){t=t.filter(g=>g.id!==f),e=e.filter(g=>{const m=A(g.source),S=A(g.target);return m!==f&&S!==f}),st(),Z.nodes(t),Z.force("link").links(e),Z.alpha(1).restart(),R()}const Tn=document.getElementById("startNodeSelect"),Bn=document.getElementById("node1Select"),Ln=document.getElementById("node2Select");function ii(){Tn.innerHTML="",Bn.innerHTML="",Ln.innerHTML="",t.forEach(f=>{const g=document.createElement("option");g.value=f.id,g.textContent=f.id,Tn.appendChild(g);const m=document.createElement("option");m.value=f.id,m.textContent=f.id,Bn.appendChild(m);const S=document.createElement("option");S.value=f.id,S.textContent=f.id,Ln.appendChild(S)})}function Re(){const f=document.getElementById("goalNodeSelect"),g=f.value;f.innerHTML="";const m=document.createElement("option");m.value="",m.textContent="None",f.appendChild(m),t.forEach(S=>{const k=document.createElement("option");k.value=S.id,k.textContent=S.id,String(S.id)===g&&(k.selected=!0),f.appendChild(k)})}function oi(f,g){at(),ut(),Pn(),h=!0,i=null,t.forEach(N=>{N.discoveryIndex=void 0});let m=0;const S=new Set,k=[f],C=[];S.add(f);const P={};l=P;function T(){var j;if(!h)return;if(tt=0,k.length===0){J("BFS: Finished without reaching a goal",C),h=!1;return}const N=k.shift();if(C.push(N),Ht(N),N===g){let M=[N];for(;M[0]!==f;)M.unshift(P[M[0]]);i=M,Ot(i),J(`BFS: Goal Node ${g} found! 
Path: ${i.join(" -> ")}`,C),h=!1;return}if(N===f){J(`BFS: Root Node ${f}`,C);const M=Y(f);M&&M.discoveryIndex===void 0&&(M.discoveryIndex=m++)}else J(`BFS: Moving to Node ${N}`,C);(j=r[N])==null||j.forEach(M=>{if(!S.has(M)){S.add(M),k.push(M),M in P||(P[M]=N);const E=Y(M);E&&E.discoveryIndex===void 0&&(E.discoveryIndex=m++),J(`BFS: Discovered Node ${M}. Adding to queue.`,C)}}),J(`BFS: Queue: [${k.join(", ")}] | Discovered: [${[...S].join(", ")}]`,C),ft(T,tt)}T()}function si(f,g){at(),ut(),Pn(),h=!0,i=null,t.forEach(N=>{N.discoveryIndex=void 0});let m=0;const S=new Set,k=[f],C=[];S.add(f);const P={};l=P;function T(){if(!h)return;if(tt=0,k.length===0){J("DFS: Finished without reaching a goal",C),h=!1;return}const N=k.pop();if(C.push(N),N===f){const M=Y(f);M&&M.discoveryIndex===void 0&&(M.discoveryIndex=m++)}if(Ht(N),N===g){let M=[N];for(;M[0]!==f;)M.unshift(P[M[0]]);i=M,Ot(i),J(`DFS: Goal Node ${g} found! 
Path: ${i.join(" -> ")}`,C),h=!1;return}J(N===f?`DFS: Root Node ${f}`:`DFS: Visiting Node ${N}`,C);const j=r[N]||[];for(let M=j.length-1;M>=0;M--){const E=j[M];if(!S.has(E)){S.add(E),k.push(E),E in P||(P[E]=N);const I=Y(E);I&&I.discoveryIndex===void 0&&(I.discoveryIndex=m++),J(`DFS: Discovered Node ${E}. Adding to stack.`,C)}}J(`DFS: Stack: [${k.join(", ")}] | Visited: [${[...S].join(", ")}]`,C),ft(T,tt)}T()}function ai(f,g){if(at(),ut(),jn(),h=!0,i=null,e.some(M=>M.weight===void 0)){alert("Error: Graph must be weighted to run Uniform Cost Search (UCS).");return}t.forEach(M=>{M.discoveryIndex=void 0});let m=0;const S=Y(f);S&&S.discoveryIndex===void 0&&(S.discoveryIndex=m++);let k=[{node:f,cost:0}],C=new Set,P={};l=P;let T={};T[f]=0;const N=[];function j(){if(!h)return;if(tt=0,k.length===0){J("UCS: No path found. Frontier empty.",N),h=!1;return}k.sort((D,et)=>D.cost-et.cost);let M=k.shift(),E=M.node,I=M.cost;if(I>T[E]){J(`UCS: Skipping node [${E}] with cost ${I} (better cost is ${T[E]}).`,N),ft(j,tt);return}if(C.add(E),Ht(E),qe(E,I),N.push(E),ft(()=>Fe(E,I),tt-1),J(`UCS: Expanding node [${E}] with cost ${I}.`,N),E===g){let D=[E];for(;D[0]!==f;)D.unshift(P[D[0]]);i=D,Ot(i),J(`UCS: Goal node [${g}] reached! Path: ${i.join(" -> ")}, Total cost: ${I}.`,N),h=!1;return}(r[E]||[]).forEach(D=>{let et=e.find(Ct=>{const vt=A(Ct.source),Rn=A(Ct.target);return vt===E&&Rn===D||Rn===E&&vt===D});if(!et)return;let Q=I+et.weight;if(T[D]===void 0||Q<T[D]){let Ct=T[D]!==void 0?T[D]:"none";T[D]=Q,P[D]=E;const vt=Y(D);vt&&vt.discoveryIndex===void 0&&(vt.discoveryIndex=m++),k.push({node:D,cost:Q}),qe(D,Q),ft(()=>Fe(D,Q),tt-1),J(`UCS: Found node [${D}], Updating cost from ${Ct} to ${Q}.`,N),C.has(D)&&(J(`UCS: Reopening node [${D}] (cost improved).`,N),C.delete(D))}}),ft(j,tt)}j()}function li(f,g){at(),ut(),jn(),h=!0,i=null,t.forEach(j=>{j.discoveryIndex=void 0});let m=0;const S=Y(f);S&&S.discoveryIndex===void 0&&(S.discoveryIndex=m++);const k=[{node:f,g:0}],C={[f]:0},P={};l=P;const T=new Set;function N(){var E;if(!h)return;if(tt=0,k.length===0){J("A*: No path found.",[...T]),h=!1;return}k.sort((I,D)=>I.g+le(I.node)-(D.g+le(D.node)));const{node:j,g:M}=k.shift();if(M>C[j]){ft(N,tt);return}if(Ht(j),qe(j,M),T.add(j),J(`A*: Expanding node ${j} (f=${(M+le(j)).toFixed(2)})`,[...T]),j===g){const I=[j];for(;I[0]!==f;)I.unshift(P[I[0]]);i=I,Ot(I),J(`A*: Goal reached! Path: ${I.join(" -> ")}`,[...T]),h=!1;return}(E=r[j])==null||E.forEach(I=>{const D=e.find(Q=>{const Ct=A(Q.source),vt=A(Q.target);return Ct===j&&vt===I||vt===j&&Ct===I});if(!D)return;const et=M+D.weight;if(C[I]===void 0||et<C[I]){C[I]=et,P[I]=j;const Q=Y(I);Q&&Q.discoveryIndex===void 0&&(Q.discoveryIndex=m++),k.push({node:I,g:et}),ft(()=>Fe(I,et),tt-1),J(`A*: Discovered ${I}, g=${et.toFixed(2)}, f=${(et+le(I)).toFixed(2)}`,[...T])}}),ft(N,tt)}N()}function le(f){const g=t.find(m=>m.id===f);return(g==null?void 0:g.h)??0}const ci=document.getElementById("generateGraphForm"),$n=document.getElementById("nodeCountInput");ci.addEventListener("submit",f=>{at(),ut(),zt(),f.preventDefault();let g=parseInt($n.value,10);g<1||(En(g),$n.value="")}),document.getElementById("tutorialBtn").addEventListener("click",function(){an().setOptions({steps:[{element:document.querySelector("#generateGraphForm"),intro:"Use this form to generate a new graph by specifying the number of nodes and weight options.",position:"right"},{element:document.querySelector("#weightDiv"),intro:"Toggle this switch to show or hide edge weights on the graph.",position:"right"},{element:document.querySelector("#AddNodeDiv"),intro:"Here is where you can add or delete a node. Make sure to activate a parent node by clicking its inner circle first.",position:"right"},{element:document.querySelector("#updateLinkForm"),intro:"Update the link weight between two nodes using these controls.",position:"top"},{element:document.querySelector("#selectGoalDiv"),intro:"Select your goal node from the dropdown.",position:"top"},{element:document.querySelector("#selectStartDiv"),intro:"Choose your starting node for algorithm traversal here.",position:"top"},{element:document.querySelector("#resetDiv"),intro:"Click this button to reset the graph and clear the algorithm history.",position:"top"},{element:document.querySelector("#toggleSidebar"),intro:"Click here to hide or show the sidebar.",position:"left"},{element:document.querySelector("#algorithmDropdown"),intro:"Select an algorithm (BFS, DFS, UCS, etc.) from this dropdown.",position:"bottom"},{element:document.querySelector("#runAlgorithmBtn"),intro:"Click here to run the selected algorithm and see the traversal animation.",position:"left"},{element:document.querySelector("#backStep"),intro:"Use this button to go back one step in the algorithm history.",position:"top"},{element:document.querySelector("#forwardStep"),intro:"Use this button to move forward one step in the algorithm history.",position:"top"},{element:document.querySelector("#speedControls"),intro:"Adjust the speed of the algorithm traversal using these radio buttons.",position:"top"},{element:document.querySelector(".nav-tabs"),intro:"Switch between the Graph view and the History view using these tabs.",position:"bottom"},{element:document.querySelector("#mainGraph"),intro:"This is your graph area where the generated graph is displayed. You can interact with the graph here.",position:"top"}],showStepNumbers:!0,exitOnOverlayClick:!0,exitOnEsc:!0,nextLabel:"Next",prevLabel:"Back",doneLabel:"Finish",overlayOpacity:.5,tooltipClass:"customTooltip"}).start()}),document.getElementById("addNodeForm").addEventListener("submit",f=>{at(),ut(),f.preventDefault();const m=K(".node-group").filter(function(S){return dt(this).select(".inner-circle").classed("activated")}).data().map(S=>S.id);ni(m),K(".inner-circle").classed("activated",!1)}),document.getElementById("deleteNodeForm").addEventListener("submit",f=>{at(),ut(),f.preventDefault();const g=K(".node-group").filter(function(m){return dt(this).select(".inner-circle").classed("activated")}).data();if(g.length===0){alert("Please activate at least one node to delete by clicking on its inner circle.");return}g.forEach(m=>{ri(m.id)}),K(".inner-circle").classed("activated",!1)});const Gt=document.getElementById("goalNodeSelect");Gt.addEventListener("change",()=>{zt();const f=parseInt(Gt.value,10);ae(f)});const He=document.getElementById("speedSlider");document.getElementById("speedValue");let Mn=parseInt(He.value,10);He.addEventListener("input",function(){Mn=parseInt(He.value,10)}),document.getElementById("restartBtn").addEventListener("click",()=>{at(),ut(),zt(),Re(),kn()}),document.getElementById("randomGoalBtn").addEventListener("click",()=>{if(zt(),t.length===0)return;const f=t[Math.floor(Math.random()*t.length)];Gt.value=f.id;const g=parseInt(Gt.value,10);Dn(g),ae(g),alert(`Randomly selected goal: ${f.id}`)}),document.getElementById("toggleHeuristicSwitch").addEventListener("change",function(){K(".heuristic-label").style("display",this.checked?"block":"none")}),document.querySelectorAll(".backStep").forEach(f=>f.addEventListener("click",()=>{s>0?(s--,De(o[s].snapshot)):alert("No previous step available.")})),document.querySelectorAll(".forwardStep").forEach(f=>f.addEventListener("click",()=>{s<o.length-1?(s++,De(o[s].snapshot)):alert("No next step available.")})),document.getElementById("runAlgorithmBtn").addEventListener("click",function(){const f=parseInt(document.getElementById("startNodeSelect").value,10),g=parseInt(document.getElementById("goalNodeSelect").value,10);switch(c){case"bfs":oi(f,g);break;case"dfs":si(f,g);break;case"aStar":li(f,g);break;case"ucs":ai(f,g);break;default:alert("No algorithm selected.")}});function ui(){const f=document.getElementById("node1Select"),g=document.getElementById("node2Select");f.innerHTML="",g.innerHTML="",t.forEach(m=>{const S=document.createElement("option");S.value=m.id,S.textContent=m.id,f.appendChild(S);const k=document.createElement("option");k.value=m.id,k.textContent=m.id,g.appendChild(k)})}ui(),document.getElementById("updateLinkBtn").addEventListener("click",function(){const f=parseInt(document.getElementById("node1Select").value,10),g=parseInt(document.getElementById("node2Select").value,10);if(f===g){alert("Cannot create a link from a node to itself.");return}let m=parseFloat(document.getElementById("newWeightInput").value);isNaN(m)&&(m=void 0);let S=!1;if(e.forEach(k=>{const C=A(k.source),P=A(k.target);(C===f&&P===g||C===g&&P===f)&&(k.weight=m,S=!0)}),S){const k=y.selectAll(".link-label").data(e.filter(C=>C.weight!==void 0),C=>`${A(C.source)}-${A(C.target)}`);k.exit().remove(),k.enter().append("text").attr("class","link-label").attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").merge(k).text(C=>C.weight),at(),ut(),R(),alert("Link weight updated.")}else e.push({source:f,target:g,weight:m}),st(),R(),alert("Link did not exist, so it was created.")}),document.getElementById("removeLinkBtn").addEventListener("click",()=>{at(),ut();const f=parseInt(document.getElementById("node1Select").value,10),g=parseInt(document.getElementById("node2Select").value,10),m=e.findIndex(S=>{const k=A(S.source),C=A(S.target);return k===f&&C===g||k===g&&C===f});m!==-1?(e.splice(m,1),st(),R(),alert(`Link between ${f} and ${g} removed.`)):alert("No link exists between those two nodes.")}),document.getElementById("getInfoBtn").addEventListener("click",()=>{let f="";switch(c){case"bfs":f=`
        <h3>Breadth‑First Search (BFS)</h3>
        <p>BFS explores the graph one “layer” at a time, starting from the start node. It uses a queue to visit every neighbor of the current node before moving deeper. Because it visits all nodes at distance 1, then distance 2, etc., BFS always finds the shortest path in an unweighted graph.</p>
      `;break;case"dfs":f=`
        <h3>Depth‑First Search (DFS)</h3>
        <p>DFS dives as far as possible down one path before backtracking. It uses a stack (either explicitly or via recursion) so the most recently discovered node is visited next. DFS is memory‑efficient but does not guarantee the shortest path.</p>
      `;break;case"ucs":f=`
        <h3>Uniform Cost Search (UCS)</h3>
        <p>UCS works like BFS but for weighted graphs. It always expands the node with the lowest total cost from the start, using a priority queue. This guarantees it finds the least‑cost path.</p>
      `;break;case"aStar":f=`
        <h3>A* Search</h3>
        <p>A* combines UCS’s cost‑so‑far with an estimate (heuristic) of remaining cost to the goal. It selects the next node based on the sum of those two values, guiding the search more directly toward the goal while still guaranteeing optimality if the heuristic is admissible.</p>
      `;break;default:f="<p>Please select an algorithm from the dropdown to see information.</p>"}document.getElementById("algInfoContent").innerHTML=f;const g=document.getElementById("algInfoModal");new bootstrap.Modal(g).show()});function Oe(f){K(".link-label").style("display",f?"block":"none");const g=document.getElementById("toggleWeightsSwitch");g.checked=f,g.nextElementSibling.textContent=f?"Show Weights":"Hide Weights"}document.getElementById("toggleWeightsSwitch").addEventListener("change",function(){Oe(this.checked),K("#searchTreePanelSvg .link-weight-label").style("display",this.checked?"block":"none")});function jn(){Oe(!0)}function Pn(){Oe(!1)}document.getElementById("graph-tab").addEventListener("shown.bs.tab",()=>{w=_.clientWidth,v=_.clientHeight,t.forEach(kt),W()}),document.querySelectorAll(".dropdown-item").forEach(f=>{f.addEventListener("click",function(g){g.preventDefault(),c=this.getAttribute("data-algorithm"),document.getElementById("algorithmDropdown").innerText=this.innerText})});const qn=document.getElementById("toggleSidebar"),ce=document.getElementById("sidebar"),ze=document.getElementById("sidebarResizer");qn.addEventListener("click",()=>{const f=getComputedStyle(ce).display==="none";ce.style.display=f?"block":"none",ze.style.display=f?"block":"none",qn.textContent=f?"Hide Sidebar":"Show Sidebar",$t()});const fi=document.querySelector(".main-container");let Ge=!1;ze.addEventListener("mousedown",function(f){Ge=!0}),document.addEventListener("mousemove",function(f){if(!Ge)return;const g=fi.getBoundingClientRect().left;let m=f.clientX-g;m=Math.max(150,Math.min(m,600)),ce.style.width=`${m}px`,$t()}),document.addEventListener("mouseup",function(){Ge=!1}),En(5);const hi=document.getElementById("searchTreePanel"),Fn=document.getElementById("toggleTreeBtn");Fn.addEventListener("click",()=>{var m;const f=hi.classList.toggle("open");Fn.textContent=f?"◀":"▶",ce.style.display=f?"none":"block",ze.style.display=f?"none":"block",document.querySelector(".main-content").classList.toggle("shift",f),R(),setTimeout($t,0);const g=(m=o[s])==null?void 0:m.snapshot;g&&setTimeout(()=>se(g),0)});const di=document.getElementById("toggleToastSwitch"),pi=document.getElementById("currentStepToast").parentElement;di.addEventListener("change",function(){pi.style.display=this.checked?"block":"none"});function $t(){Rt(),x.attr("width",w).attr("height",v),Z.force("center",ir(w/2,v/2)).alpha(.5).restart(),t.forEach(kt),W()}function gi(f){var T,N;const g=document.getElementById("searchTreeStats");if(!f){g.style.display="none";return}g.style.display="block",document.getElementById("nodesExpanded").textContent=((T=f.expanded)==null?void 0:T.length)??0;const m=Object.keys(f.parents).map(Number),S=+document.getElementById("startNodeSelect").value,k=new Set(m.concat(S));document.getElementById("nodesDiscovered").textContent=k.size;const C=f.path?f.path.length-1:"N/A";if(document.getElementById("stepsToGoal").textContent=C,(N=f.path)!=null&&N.length){const j=+f.goal,M=f.nodes.find(E=>E.id===j);document.getElementById("finalCost").textContent=(M==null?void 0:M.cost)??"N/A"}else document.getElementById("finalCost").textContent="N/A";let P="N/A";if(f.currentNode!=null){P=0;let j=f.currentNode;for(;f.parents[j]!==void 0;)P++,j=f.parents[j]}document.getElementById("currentDepth").textContent=P}document.getElementById("goalNodeSelect").addEventListener("change",()=>{zt();const f=parseInt(Gt.value,10);isNaN(f)||(ae(f),Dn(f))});function Dn(f){if(!t.find(C=>C.id===f))return;const m=Math.min(...e.map(C=>C.weight??1/0)),S={};t.forEach(C=>S[C.id]=1/0),S[f]=0;const k=[f];for(;k.length;){const C=k.shift();r[C].forEach(P=>{S[P]===1/0&&(S[P]=S[C]+1,k.push(P))})}t.forEach(C=>{C.h=Number.isFinite(S[C.id])?S[C.id]*m:0,K(".node-group").filter(P=>P.id===C.id).select(".heuristic-label").text(`H: ${C.h}`)}),R()}window.addEventListener("resize",()=>{const f=_.clientWidth,g=_.clientHeight;(f!==0||g!==0)&&$t()}),window.addEventListener("resize",$t),$t()});
