(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ei={value:()=>{}};function Be(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ve(n)}function ve(t){this._=t}function Ci(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ve.prototype=Be.prototype={constructor:ve,on:function(t,e){var n=this._,r=Ci(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Ni(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Un(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Un(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ve(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Ni(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Un(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ei,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var en="http://www.w3.org/1999/xhtml";const Xn={svg:"http://www.w3.org/2000/svg",xhtml:en,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Le(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Xn.hasOwnProperty(e)?{space:Xn[e],local:t}:t}function ki(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===en&&e.documentElement.namespaceURI===en?e.createElement(t):e.createElementNS(n,t)}}function Ai(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function vr(t){var e=Le(t);return(e.local?Ai:ki)(e)}function Ii(){}function fn(t){return t==null?Ii:function(){return this.querySelector(t)}}function Ti(t){typeof t!="function"&&(t=fn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),u,a,c=0;c<s;++c)(u=o[c])&&(a=t.call(u,u.__data__,c,o))&&("__data__"in u&&(a.__data__=u.__data__),l[c]=a);return new et(r,this._parents)}function wr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Bi(){return[]}function xr(t){return t==null?Bi:function(){return this.querySelectorAll(t)}}function Li(t){return function(){return wr(t.apply(this,arguments))}}function $i(t){typeof t=="function"?t=Li(t):t=xr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&(r.push(t.call(u,u.__data__,a,s)),i.push(u));return new et(r,i)}function _r(t){return function(){return this.matches(t)}}function br(t){return function(e){return e.matches(t)}}var Mi=Array.prototype.find;function ji(t){return function(){return Mi.call(this.children,t)}}function Pi(){return this.firstElementChild}function Fi(t){return this.select(t==null?Pi:ji(typeof t=="function"?t:br(t)))}var Di=Array.prototype.filter;function Ri(){return Array.from(this.children)}function Hi(t){return function(){return Di.call(this.children,t)}}function Oi(t){return this.selectAll(t==null?Ri:Hi(typeof t=="function"?t:br(t)))}function qi(t){typeof t!="function"&&(t=_r(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new et(r,this._parents)}function Sr(t){return new Array(t.length)}function zi(){return new et(this._enter||this._groups.map(Sr),this._parents)}function be(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}be.prototype={constructor:be,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Gi(t){return function(){return t}}function Ui(t,e,n,r,i,o){for(var s=0,l,u=e.length,a=o.length;s<a;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new be(t,o[s]);for(;s<u;++s)(l=e[s])&&(i[s]=l)}function Xi(t,e,n,r,i,o,s){var l,u,a=new Map,c=e.length,d=o.length,f=new Array(c),p;for(l=0;l<c;++l)(u=e[l])&&(f[l]=p=s.call(u,u.__data__,l,e)+"",a.has(p)?i[l]=u:a.set(p,u));for(l=0;l<d;++l)p=s.call(t,o[l],l,o)+"",(u=a.get(p))?(r[l]=u,u.__data__=o[l],a.delete(p)):n[l]=new be(t,o[l]);for(l=0;l<c;++l)(u=e[l])&&a.get(f[l])===u&&(i[l]=u)}function Vi(t){return t.__data__}function Wi(t,e){if(!arguments.length)return Array.from(this,Vi);var n=e?Xi:Ui,r=this._parents,i=this._groups;typeof t!="function"&&(t=Gi(t));for(var o=i.length,s=new Array(o),l=new Array(o),u=new Array(o),a=0;a<o;++a){var c=r[a],d=i[a],f=d.length,p=Yi(t.call(c,c&&c.__data__,a,r)),x=p.length,w=l[a]=new Array(x),g=s[a]=new Array(x),_=u[a]=new Array(f);n(c,d,w,g,_,p,e);for(var S=0,L=0,m,I;S<x;++S)if(m=w[S]){for(S>=L&&(L=S+1);!(I=g[L])&&++L<x;);m._next=I||null}}return s=new et(s,r),s._enter=l,s._exit=u,s}function Yi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ji(){return new et(this._exit||this._groups.map(Sr),this._parents)}function Ki(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Qi(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),u=0;u<s;++u)for(var a=n[u],c=r[u],d=a.length,f=l[u]=new Array(d),p,x=0;x<d;++x)(p=a[x]||c[x])&&(f[x]=p);for(;u<i;++u)l[u]=n[u];return new et(l,this._parents)}function Zi(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function to(t){t||(t=eo);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,u=i[o]=new Array(l),a,c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(e)}return new et(i,this._parents).order()}function eo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function no(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ro(){return Array.from(this)}function io(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function oo(){let t=0;for(const e of this)++t;return t}function so(){return!this.node()}function ao(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function lo(t){return function(){this.removeAttribute(t)}}function co(t){return function(){this.removeAttributeNS(t.space,t.local)}}function uo(t,e){return function(){this.setAttribute(t,e)}}function ho(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function fo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function po(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function go(t,e){var n=Le(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?co:lo:typeof e=="function"?n.local?po:fo:n.local?ho:uo)(n,e))}function Er(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function mo(t){return function(){this.style.removeProperty(t)}}function yo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function vo(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function wo(t,e,n){return arguments.length>1?this.each((e==null?mo:typeof e=="function"?vo:yo)(t,e,n??"")):jt(this.node(),t)}function jt(t,e){return t.style.getPropertyValue(e)||Er(t).getComputedStyle(t,null).getPropertyValue(e)}function xo(t){return function(){delete this[t]}}function _o(t,e){return function(){this[t]=e}}function bo(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function So(t,e){return arguments.length>1?this.each((e==null?xo:typeof e=="function"?bo:_o)(t,e)):this.node()[t]}function Cr(t){return t.trim().split(/^|\s+/)}function dn(t){return t.classList||new Nr(t)}function Nr(t){this._node=t,this._names=Cr(t.getAttribute("class")||"")}Nr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function kr(t,e){for(var n=dn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ar(t,e){for(var n=dn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Eo(t){return function(){kr(this,t)}}function Co(t){return function(){Ar(this,t)}}function No(t,e){return function(){(e.apply(this,arguments)?kr:Ar)(this,t)}}function ko(t,e){var n=Cr(t+"");if(arguments.length<2){for(var r=dn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?No:e?Eo:Co)(n,e))}function Ao(){this.textContent=""}function Io(t){return function(){this.textContent=t}}function To(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Bo(t){return arguments.length?this.each(t==null?Ao:(typeof t=="function"?To:Io)(t)):this.node().textContent}function Lo(){this.innerHTML=""}function $o(t){return function(){this.innerHTML=t}}function Mo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function jo(t){return arguments.length?this.each(t==null?Lo:(typeof t=="function"?Mo:$o)(t)):this.node().innerHTML}function Po(){this.nextSibling&&this.parentNode.appendChild(this)}function Fo(){return this.each(Po)}function Do(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ro(){return this.each(Do)}function Ho(t){var e=typeof t=="function"?t:vr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Oo(){return null}function qo(t,e){var n=typeof t=="function"?t:vr(t),r=e==null?Oo:typeof e=="function"?e:fn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function zo(){var t=this.parentNode;t&&t.removeChild(this)}function Go(){return this.each(zo)}function Uo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vo(t){return this.select(t?Xo:Uo)}function Wo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Yo(t){return function(e){t.call(this,e,this.__data__)}}function Jo(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ko(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Qo(t,e,n){return function(){var r=this.__on,i,o=Yo(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Zo(t,e,n){var r=Jo(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,c;u<a;++u)for(i=0,c=l[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=e?Qo:Ko,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function Ir(t,e,n){var r=Er(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ts(t,e){return function(){return Ir(this,t,e)}}function es(t,e){return function(){return Ir(this,t,e.apply(this,arguments))}}function ns(t,e){return this.each((typeof e=="function"?es:ts)(t,e))}function*rs(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var pn=[null];function et(t,e){this._groups=t,this._parents=e}function re(){return new et([[document.documentElement]],pn)}function is(){return this}et.prototype=re.prototype={constructor:et,select:Ti,selectAll:$i,selectChild:Fi,selectChildren:Oi,filter:qi,data:Wi,enter:zi,exit:Ji,join:Ki,merge:Qi,selection:is,order:Zi,sort:to,call:no,nodes:ro,node:io,size:oo,empty:so,each:ao,attr:go,style:wo,property:So,classed:ko,text:Bo,html:jo,raise:Fo,lower:Ro,append:Ho,insert:qo,remove:Go,clone:Vo,datum:Wo,on:Zo,dispatch:ns,[Symbol.iterator]:rs};function ft(t){return typeof t=="string"?new et([[document.querySelector(t)]],[document.documentElement]):new et([[t]],pn)}function os(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Vn(t,e){if(t=os(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Y(t){return typeof t=="string"?new et([document.querySelectorAll(t)],[document.documentElement]):new et([wr(t)],pn)}const ss={passive:!1},Kt={capture:!0,passive:!1};function Ye(t){t.stopImmediatePropagation()}function $t(t){t.preventDefault(),t.stopImmediatePropagation()}function as(t){var e=t.document.documentElement,n=ft(t).on("dragstart.drag",$t,Kt);"onselectstart"in e?n.on("selectstart.drag",$t,Kt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ls(t,e){var n=t.document.documentElement,r=ft(t).on("dragstart.drag",null);e&&(r.on("click.drag",$t,Kt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const he=t=>()=>t;function nn(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:u,dy:a,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:c}})}nn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function cs(t){return!t.ctrlKey&&!t.button}function us(){return this.parentNode}function hs(t,e){return e??{x:t.x,y:t.y}}function fs(){return navigator.maxTouchPoints||"ontouchstart"in this}function ds(){var t=cs,e=us,n=hs,r=fs,i={},o=Be("start","drag","end"),s=0,l,u,a,c,d=0;function f(m){m.on("mousedown.drag",p).filter(r).on("touchstart.drag",g).on("touchmove.drag",_,ss).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(m,I){if(!(c||!t.call(this,m,I))){var j=L(this,e.call(this,m,I),m,I,"mouse");j&&(ft(m.view).on("mousemove.drag",x,Kt).on("mouseup.drag",w,Kt),as(m.view),Ye(m),a=!1,l=m.clientX,u=m.clientY,j("start",m))}}function x(m){if($t(m),!a){var I=m.clientX-l,j=m.clientY-u;a=I*I+j*j>d}i.mouse("drag",m)}function w(m){ft(m.view).on("mousemove.drag mouseup.drag",null),ls(m.view,a),$t(m),i.mouse("end",m)}function g(m,I){if(t.call(this,m,I)){var j=m.changedTouches,D=e.call(this,m,I),F=j.length,z,q;for(z=0;z<F;++z)(q=L(this,D,m,I,j[z].identifier,j[z]))&&(Ye(m),q("start",m,j[z]))}}function _(m){var I=m.changedTouches,j=I.length,D,F;for(D=0;D<j;++D)(F=i[I[D].identifier])&&($t(m),F("drag",m,I[D]))}function S(m){var I=m.changedTouches,j=I.length,D,F;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),D=0;D<j;++D)(F=i[I[D].identifier])&&(Ye(m),F("end",m,I[D]))}function L(m,I,j,D,F,z){var q=o.copy(),G=Vn(z||j,I),T,R,V;if((V=n.call(m,new nn("beforestart",{sourceEvent:j,target:f,identifier:F,active:s,x:G[0],y:G[1],dx:0,dy:0,dispatch:q}),D))!=null)return T=V.x-G[0]||0,R=V.y-G[1]||0,function rt(Q,Rt,Ct){var _t=G,K;switch(Q){case"start":i[F]=rt,K=s++;break;case"end":delete i[F],--s;case"drag":G=Vn(Ct||Rt,I),K=s;break}q.call(Q,m,new nn(Q,{sourceEvent:Rt,subject:V,target:f,identifier:F,active:K,x:G[0]+T,y:G[1]+R,dx:G[0]-_t[0],dy:G[1]-_t[1],dispatch:q}),D)}}return f.filter=function(m){return arguments.length?(t=typeof m=="function"?m:he(!!m),f):t},f.container=function(m){return arguments.length?(e=typeof m=="function"?m:he(m),f):e},f.subject=function(m){return arguments.length?(n=typeof m=="function"?m:he(m),f):n},f.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:he(!!m),f):r},f.on=function(){var m=o.on.apply(o,arguments);return m===o?f:m},f.clickDistance=function(m){return arguments.length?(d=(m=+m)*m,f):Math.sqrt(d)},f}function gn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Tr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ie(){}var Qt=.7,Se=1/Qt,Mt="\\s*([+-]?\\d+)\\s*",Zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ps=/^#([0-9a-f]{3,8})$/,gs=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),ms=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),ys=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${Zt}\\)$`),vs=new RegExp(`^rgba\\(${pt},${pt},${pt},${Zt}\\)$`),ws=new RegExp(`^hsl\\(${Zt},${pt},${pt}\\)$`),xs=new RegExp(`^hsla\\(${Zt},${pt},${pt},${Zt}\\)$`),Wn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gn(ie,te,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Yn,formatHex:Yn,formatHex8:_s,formatHsl:bs,formatRgb:Jn,toString:Jn});function Yn(){return this.rgb().formatHex()}function _s(){return this.rgb().formatHex8()}function bs(){return Br(this).formatHsl()}function Jn(){return this.rgb().formatRgb()}function te(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ps.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Kn(e):n===3?new ot(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gs.exec(t))?new ot(e[1],e[2],e[3],1):(e=ms.exec(t))?new ot(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ys.exec(t))?fe(e[1],e[2],e[3],e[4]):(e=vs.exec(t))?fe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ws.exec(t))?tr(e[1],e[2]/100,e[3]/100,1):(e=xs.exec(t))?tr(e[1],e[2]/100,e[3]/100,e[4]):Wn.hasOwnProperty(t)?Kn(Wn[t]):t==="transparent"?new ot(NaN,NaN,NaN,0):null}function Kn(t){return new ot(t>>16&255,t>>8&255,t&255,1)}function fe(t,e,n,r){return r<=0&&(t=e=n=NaN),new ot(t,e,n,r)}function Ss(t){return t instanceof ie||(t=te(t)),t?(t=t.rgb(),new ot(t.r,t.g,t.b,t.opacity)):new ot}function rn(t,e,n,r){return arguments.length===1?Ss(t):new ot(t,e,n,r??1)}function ot(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}gn(ot,rn,Tr(ie,{brighter(t){return t=t==null?Se:Math.pow(Se,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qt:Math.pow(Qt,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ot(At(this.r),At(this.g),At(this.b),Ee(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qn,formatHex:Qn,formatHex8:Es,formatRgb:Zn,toString:Zn}));function Qn(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}`}function Es(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}${kt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zn(){const t=Ee(this.opacity);return`${t===1?"rgb(":"rgba("}${At(this.r)}, ${At(this.g)}, ${At(this.b)}${t===1?")":`, ${t})`}`}function Ee(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function At(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kt(t){return t=At(t),(t<16?"0":"")+t.toString(16)}function tr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new at(t,e,n,r)}function Br(t){if(t instanceof at)return new at(t.h,t.s,t.l,t.opacity);if(t instanceof ie||(t=te(t)),!t)return new at;if(t instanceof at)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new at(s,l,u,t.opacity)}function Cs(t,e,n,r){return arguments.length===1?Br(t):new at(t,e,n,r??1)}function at(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}gn(at,Cs,Tr(ie,{brighter(t){return t=t==null?Se:Math.pow(Se,t),new at(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qt:Math.pow(Qt,t),new at(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ot(Je(t>=240?t-240:t+120,i,r),Je(t,i,r),Je(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new at(er(this.h),de(this.s),de(this.l),Ee(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ee(this.opacity);return`${t===1?"hsl(":"hsla("}${er(this.h)}, ${de(this.s)*100}%, ${de(this.l)*100}%${t===1?")":`, ${t})`}`}}));function er(t){return t=(t||0)%360,t<0?t+360:t}function de(t){return Math.max(0,Math.min(1,t||0))}function Je(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Lr=t=>()=>t;function Ns(t,e){return function(n){return t+n*e}}function ks(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function As(t){return(t=+t)==1?$r:function(e,n){return n-e?ks(e,n,t):Lr(isNaN(e)?n:e)}}function $r(t,e){var n=e-t;return n?Ns(t,n):Lr(isNaN(t)?e:t)}const nr=function t(e){var n=As(e);function r(i,o){var s=n((i=rn(i)).r,(o=rn(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),a=$r(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=u(c),i.opacity=a(c),i+""}}return r.gamma=t,r}(1);function bt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var on=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ke=new RegExp(on.source,"g");function Is(t){return function(){return t}}function Ts(t){return function(e){return t(e)+""}}function Bs(t,e){var n=on.lastIndex=Ke.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=on.exec(t))&&(i=Ke.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:bt(r,i)})),n=Ke.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?Ts(u[0].x):Is(e):(e=u.length,function(a){for(var c=0,d;c<e;++c)l[(d=u[c]).i]=d.x(a);return l.join("")})}var rr=180/Math.PI,sn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mr(t,e,n,r,i,o){var s,l,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*rr,skewX:Math.atan(u)*rr,scaleX:s,scaleY:l}}var pe;function Ls(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?sn:Mr(e.a,e.b,e.c,e.d,e.e,e.f)}function $s(t){return t==null||(pe||(pe=document.createElementNS("http://www.w3.org/2000/svg","g")),pe.setAttribute("transform",t),!(t=pe.transform.baseVal.consolidate()))?sn:(t=t.matrix,Mr(t.a,t.b,t.c,t.d,t.e,t.f))}function jr(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function o(a,c,d,f,p,x){if(a!==d||c!==f){var w=p.push("translate(",null,e,null,n);x.push({i:w-4,x:bt(a,d)},{i:w-2,x:bt(c,f)})}else(d||f)&&p.push("translate("+d+e+f+n)}function s(a,c,d,f){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:bt(a,c)})):c&&d.push(i(d)+"rotate("+c+r)}function l(a,c,d,f){a!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:bt(a,c)}):c&&d.push(i(d)+"skewX("+c+r)}function u(a,c,d,f,p,x){if(a!==d||c!==f){var w=p.push(i(p)+"scale(",null,",",null,")");x.push({i:w-4,x:bt(a,d)},{i:w-2,x:bt(c,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(a,c){var d=[],f=[];return a=t(a),c=t(c),o(a.translateX,a.translateY,c.translateX,c.translateY,d,f),s(a.rotate,c.rotate,d,f),l(a.skewX,c.skewX,d,f),u(a.scaleX,a.scaleY,c.scaleX,c.scaleY,d,f),a=c=null,function(p){for(var x=-1,w=f.length,g;++x<w;)d[(g=f[x]).i]=g.x(p);return d.join("")}}}var Ms=jr(Ls,"px, ","px)","deg)"),js=jr($s,", ",")",")"),Pt=0,Vt=0,Ut=0,Pr=1e3,Ce,Wt,Ne=0,Tt=0,$e=0,ee=typeof performance=="object"&&performance.now?performance:Date,Fr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function mn(){return Tt||(Fr(Ps),Tt=ee.now()+$e)}function Ps(){Tt=0}function ke(){this._call=this._time=this._next=null}ke.prototype=yn.prototype={constructor:ke,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?mn():+n)+(e==null?0:+e),!this._next&&Wt!==this&&(Wt?Wt._next=this:Ce=this,Wt=this),this._call=t,this._time=n,an()},stop:function(){this._call&&(this._call=null,this._time=1/0,an())}};function yn(t,e,n){var r=new ke;return r.restart(t,e,n),r}function Fs(){mn(),++Pt;for(var t=Ce,e;t;)(e=Tt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Pt}function ir(){Tt=(Ne=ee.now())+$e,Pt=Vt=0;try{Fs()}finally{Pt=0,Rs(),Tt=0}}function Ds(){var t=ee.now(),e=t-Ne;e>Pr&&($e-=e,Ne=t)}function Rs(){for(var t,e=Ce,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ce=n);Wt=t,an(r)}function an(t){if(!Pt){Vt&&(Vt=clearTimeout(Vt));var e=t-Tt;e>24?(t<1/0&&(Vt=setTimeout(ir,t-ee.now()-$e)),Ut&&(Ut=clearInterval(Ut))):(Ut||(Ne=ee.now(),Ut=setInterval(Ds,Pr)),Pt=1,Fr(ir))}}function or(t,e,n){var r=new ke;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Hs=Be("start","end","cancel","interrupt"),Os=[],Dr=0,sr=1,ln=2,we=3,ar=4,cn=5,xe=6;function Me(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;qs(t,n,{name:e,index:r,group:i,on:Hs,tween:Os,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Dr})}function vn(t,e){var n=lt(t,e);if(n.state>Dr)throw new Error("too late; already scheduled");return n}function mt(t,e){var n=lt(t,e);if(n.state>we)throw new Error("too late; already running");return n}function lt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function qs(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=yn(o,0,n.time);function o(a){n.state=sr,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var c,d,f,p;if(n.state!==sr)return u();for(c in r)if(p=r[c],p.name===n.name){if(p.state===we)return or(s);p.state===ar?(p.state=xe,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=xe,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(or(function(){n.state===we&&(n.state=ar,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=ln,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ln){for(n.state=we,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function l(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=cn,1),d=-1,f=i.length;++d<f;)i[d].call(t,c);n.state===cn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=xe,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function zs(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>ln&&r.state<cn,r.state=xe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Gs(t){return this.each(function(){zs(this,t)})}function Us(t,e){var n,r;return function(){var i=mt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Xs(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=mt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},u=0,a=i.length;u<a;++u)if(i[u].name===e){i[u]=l;break}u===a&&i.push(l)}o.tween=i}}function Vs(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=lt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Us:Xs)(n,t,e))}function wn(t,e,n){var r=t._id;return t.each(function(){var i=mt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return lt(i,r).value[e]}}function Rr(t,e){var n;return(typeof e=="number"?bt:e instanceof te?nr:(n=te(e))?(e=n,nr):Bs)(t,e)}function Ws(t){return function(){this.removeAttribute(t)}}function Ys(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Js(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Ks(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Qs(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Zs(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function ta(t,e){var n=Le(t),r=n==="transform"?js:Rr;return this.attrTween(t,typeof e=="function"?(n.local?Zs:Qs)(n,r,wn(this,"attr."+t,e)):e==null?(n.local?Ys:Ws)(n):(n.local?Ks:Js)(n,r,e))}function ea(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function na(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ra(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&na(t,o)),n}return i._value=e,i}function ia(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ea(t,o)),n}return i._value=e,i}function oa(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Le(t);return this.tween(n,(r.local?ra:ia)(r,e))}function sa(t,e){return function(){vn(this,t).delay=+e.apply(this,arguments)}}function aa(t,e){return e=+e,function(){vn(this,t).delay=e}}function la(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?sa:aa)(e,t)):lt(this.node(),e).delay}function ca(t,e){return function(){mt(this,t).duration=+e.apply(this,arguments)}}function ua(t,e){return e=+e,function(){mt(this,t).duration=e}}function ha(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ca:ua)(e,t)):lt(this.node(),e).duration}function fa(t,e){if(typeof e!="function")throw new Error;return function(){mt(this,t).ease=e}}function da(t){var e=this._id;return arguments.length?this.each(fa(e,t)):lt(this.node(),e).ease}function pa(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;mt(this,t).ease=n}}function ga(t){if(typeof t!="function")throw new Error;return this.each(pa(this._id,t))}function ma(t){typeof t!="function"&&(t=_r(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new xt(r,this._parents,this._name,this._id)}function ya(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var u=e[l],a=n[l],c=u.length,d=s[l]=new Array(c),f,p=0;p<c;++p)(f=u[p]||a[p])&&(d[p]=f);for(;l<r;++l)s[l]=e[l];return new xt(s,this._parents,this._name,this._id)}function va(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function wa(t,e,n){var r,i,o=va(e)?vn:mt;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function xa(t,e){var n=this._id;return arguments.length<2?lt(this.node(),n).on.on(t):this.each(wa(n,t,e))}function _a(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ba(){return this.on("end.remove",_a(this._id))}function Sa(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],u=l.length,a=o[s]=new Array(u),c,d,f=0;f<u;++f)(c=l[f])&&(d=t.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),a[f]=d,Me(a[f],e,n,f,a,lt(c,n)));return new xt(o,this._parents,e,n)}function Ea(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xr(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var u=r[l],a=u.length,c,d=0;d<a;++d)if(c=u[d]){for(var f=t.call(c,c.__data__,d,u),p,x=lt(c,n),w=0,g=f.length;w<g;++w)(p=f[w])&&Me(p,e,n,w,f,x);o.push(f),s.push(c)}return new xt(o,s,e,n)}var Ca=re.prototype.constructor;function Na(){return new Ca(this._groups,this._parents)}function ka(t,e){var n,r,i;return function(){var o=jt(this,t),s=(this.style.removeProperty(t),jt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function Hr(t){return function(){this.style.removeProperty(t)}}function Aa(t,e,n){var r,i=n+"",o;return function(){var s=jt(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Ia(t,e,n){var r,i,o;return function(){var s=jt(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),jt(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l))}}function Ta(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var u=mt(this,t),a=u.on,c=u.value[o]==null?l||(l=Hr(e)):void 0;(a!==n||i!==c)&&(r=(n=a).copy()).on(s,i=c),u.on=r}}function Ba(t,e,n){var r=(t+="")=="transform"?Ms:Rr;return e==null?this.styleTween(t,ka(t,r)).on("end.style."+t,Hr(t)):typeof e=="function"?this.styleTween(t,Ia(t,r,wn(this,"style."+t,e))).each(Ta(this._id,t)):this.styleTween(t,Aa(t,r,e),n).on("end.style."+t,null)}function La(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function $a(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&La(t,s,n)),r}return o._value=e,o}function Ma(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,$a(t,e,n??""))}function ja(t){return function(){this.textContent=t}}function Pa(t){return function(){var e=t(this);this.textContent=e??""}}function Fa(t){return this.tween("text",typeof t=="function"?Pa(wn(this,"text",t)):ja(t==null?"":t+""))}function Da(t){return function(e){this.textContent=t.call(this,e)}}function Ra(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Da(i)),e}return r._value=t,r}function Ha(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ra(t))}function Oa(){for(var t=this._name,e=this._id,n=Or(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)if(u=s[a]){var c=lt(u,e);Me(u,t,n,a,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new xt(r,this._parents,t,n)}function qa(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var a=mt(this,r),c=a.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),a.on=e}),i===0&&o()})}var za=0;function xt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Or(){return++za}var vt=re.prototype;xt.prototype={constructor:xt,select:Sa,selectAll:Ea,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:ma,merge:ya,selection:Na,transition:Oa,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:xa,attr:ta,attrTween:oa,style:Ba,styleTween:Ma,text:Fa,textTween:Ha,remove:ba,tween:Vs,delay:la,duration:ha,ease:da,easeVarying:ga,end:qa,[Symbol.iterator]:vt[Symbol.iterator]};function Ga(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ua={time:null,delay:0,duration:250,ease:Ga};function Xa(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Va(t){var e,n;t instanceof xt?(e=t._id,t=t._name):(e=Or(),(n=Ua).time=mn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&Me(u,t,e,a,s,n||Xa(u,e));return new xt(r,this._parents,t,e)}re.prototype.interrupt=Gs;re.prototype.transition=Va;function lr(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,s=n.length,l,u=0,a=0;for(o=0;o<s;++o)l=n[o],u+=l.x,a+=l.y;for(u=(u/s-t)*r,a=(a/s-e)*r,o=0;o<s;++o)l=n[o],l.x-=u,l.y-=a}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function Wa(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return qr(this.cover(e,n),e,n,t)}function qr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,s={data:r},l=t._x0,u=t._y0,a=t._x1,c=t._y1,d,f,p,x,w,g,_,S;if(!o)return t._root=s,t;for(;o.length;)if((w=e>=(d=(l+a)/2))?l=d:a=d,(g=n>=(f=(u+c)/2))?u=f:c=f,i=o,!(o=o[_=g<<1|w]))return i[_]=s,t;if(p=+t._x.call(null,o.data),x=+t._y.call(null,o.data),e===p&&n===x)return s.next=o,i?i[_]=s:t._root=s,t;do i=i?i[_]=new Array(4):t._root=new Array(4),(w=e>=(d=(l+a)/2))?l=d:a=d,(g=n>=(f=(u+c)/2))?u=f:c=f;while((_=g<<1|w)===(S=(x>=f)<<1|p>=d));return i[S]=o,i[_]=s,t}function Ya(t){var e,n,r=t.length,i,o,s=new Array(r),l=new Array(r),u=1/0,a=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,l[n]=o,i<u&&(u=i),i>c&&(c=i),o<a&&(a=o),o>d&&(d=o));if(u>c||a>d)return this;for(this.cover(u,a).cover(c,d),n=0;n<r;++n)qr(this,s[n],l[n],t[n]);return this}function Ja(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s=i-n||1,l=this._root,u,a;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,u=new Array(4),u[a]=l,l=u,s*=2,a){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Ka(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Qa(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function tt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Za(t,e,n){var r,i=this._x0,o=this._y0,s,l,u,a,c=this._x1,d=this._y1,f=[],p=this._root,x,w;for(p&&f.push(new tt(p,i,o,c,d)),n==null?n=1/0:(i=t-n,o=e-n,c=t+n,d=e+n,n*=n);x=f.pop();)if(!(!(p=x.node)||(s=x.x0)>c||(l=x.y0)>d||(u=x.x1)<i||(a=x.y1)<o))if(p.length){var g=(s+u)/2,_=(l+a)/2;f.push(new tt(p[3],g,_,u,a),new tt(p[2],s,_,g,a),new tt(p[1],g,l,u,_),new tt(p[0],s,l,g,_)),(w=(e>=_)<<1|t>=g)&&(x=f[f.length-1],f[f.length-1]=f[f.length-1-w],f[f.length-1-w]=x)}else{var S=t-+this._x.call(null,p.data),L=e-+this._y.call(null,p.data),m=S*S+L*L;if(m<n){var I=Math.sqrt(n=m);i=t-I,o=e-I,c=t+I,d=e+I,r=p.data}}return r}function tl(t){if(isNaN(c=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,s=this._x0,l=this._y0,u=this._x1,a=this._y1,c,d,f,p,x,w,g,_;if(!n)return this;if(n.length)for(;;){if((x=c>=(f=(s+u)/2))?s=f:u=f,(w=d>=(p=(l+a)/2))?l=p:a=p,e=n,!(n=n[g=w<<1|x]))return this;if(!n.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(r=e,_=g)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[g]=o:delete e[g],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[_]=n:this._root=n),this):(this._root=o,this)}function el(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function nl(){return this._root}function rl(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function il(t){var e=[],n,r=this._root,i,o,s,l,u;for(r&&e.push(new tt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,s=n.y0,l=n.x1,u=n.y1)&&r.length){var a=(o+l)/2,c=(s+u)/2;(i=r[3])&&e.push(new tt(i,a,c,l,u)),(i=r[2])&&e.push(new tt(i,o,c,a,u)),(i=r[1])&&e.push(new tt(i,a,s,l,c)),(i=r[0])&&e.push(new tt(i,o,s,a,c))}return this}function ol(t){var e=[],n=[],r;for(this._root&&e.push(new tt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,s=r.x0,l=r.y0,u=r.x1,a=r.y1,c=(s+u)/2,d=(l+a)/2;(o=i[0])&&e.push(new tt(o,s,l,c,d)),(o=i[1])&&e.push(new tt(o,c,l,u,d)),(o=i[2])&&e.push(new tt(o,s,d,c,a)),(o=i[3])&&e.push(new tt(o,c,d,u,a))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function sl(t){return t[0]}function al(t){return arguments.length?(this._x=t,this):this._x}function ll(t){return t[1]}function cl(t){return arguments.length?(this._y=t,this):this._y}function xn(t,e,n){var r=new _n(e??sl,n??ll,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function _n(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function cr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var nt=xn.prototype=_n.prototype;nt.copy=function(){var t=new _n(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=cr(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=cr(r));return t};nt.add=Wa;nt.addAll=Ya;nt.cover=Ja;nt.data=Ka;nt.extent=Qa;nt.find=Za;nt.remove=tl;nt.removeAll=el;nt.root=nl;nt.size=rl;nt.visit=il;nt.visitAfter=ol;nt.x=al;nt.y=cl;function It(t){return function(){return t}}function St(t){return(t()-.5)*1e-6}function ul(t){return t.x+t.vx}function hl(t){return t.y+t.vy}function fl(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=It(t==null?1:+t));function s(){for(var a,c=e.length,d,f,p,x,w,g,_=0;_<o;++_)for(d=xn(e,ul,hl).visitAfter(l),a=0;a<c;++a)f=e[a],w=n[f.index],g=w*w,p=f.x+f.vx,x=f.y+f.vy,d.visit(S);function S(L,m,I,j,D){var F=L.data,z=L.r,q=w+z;if(F){if(F.index>f.index){var G=p-F.x-F.vx,T=x-F.y-F.vy,R=G*G+T*T;R<q*q&&(G===0&&(G=St(r),R+=G*G),T===0&&(T=St(r),R+=T*T),R=(q-(R=Math.sqrt(R)))/R*i,f.vx+=(G*=R)*(q=(z*=z)/(g+z)),f.vy+=(T*=R)*q,F.vx-=G*(q=1-q),F.vy-=T*q)}return}return m>p+q||j<p-q||I>x+q||D<x-q}}function l(a){if(a.data)return a.r=n[a.data.index];for(var c=a.r=0;c<4;++c)a[c]&&a[c].r>a.r&&(a.r=a[c].r)}function u(){if(e){var a,c=e.length,d;for(n=new Array(c),a=0;a<c;++a)d=e[a],n[d.index]=+t(d,a,e)}}return s.initialize=function(a,c){e=a,r=c,u()},s.iterations=function(a){return arguments.length?(o=+a,s):o},s.strength=function(a){return arguments.length?(i=+a,s):i},s.radius=function(a){return arguments.length?(t=typeof a=="function"?a:It(+a),u(),s):t},s}function dl(t){return t.index}function ur(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function pl(t){var e=dl,n=d,r,i=It(30),o,s,l,u,a,c=1;t==null&&(t=[]);function d(g){return 1/Math.min(l[g.source.index],l[g.target.index])}function f(g){for(var _=0,S=t.length;_<c;++_)for(var L=0,m,I,j,D,F,z,q;L<S;++L)m=t[L],I=m.source,j=m.target,D=j.x+j.vx-I.x-I.vx||St(a),F=j.y+j.vy-I.y-I.vy||St(a),z=Math.sqrt(D*D+F*F),z=(z-o[L])/z*g*r[L],D*=z,F*=z,j.vx-=D*(q=u[L]),j.vy-=F*q,I.vx+=D*(q=1-q),I.vy+=F*q}function p(){if(s){var g,_=s.length,S=t.length,L=new Map(s.map((I,j)=>[e(I,j,s),I])),m;for(g=0,l=new Array(_);g<S;++g)m=t[g],m.index=g,typeof m.source!="object"&&(m.source=ur(L,m.source)),typeof m.target!="object"&&(m.target=ur(L,m.target)),l[m.source.index]=(l[m.source.index]||0)+1,l[m.target.index]=(l[m.target.index]||0)+1;for(g=0,u=new Array(S);g<S;++g)m=t[g],u[g]=l[m.source.index]/(l[m.source.index]+l[m.target.index]);r=new Array(S),x(),o=new Array(S),w()}}function x(){if(s)for(var g=0,_=t.length;g<_;++g)r[g]=+n(t[g],g,t)}function w(){if(s)for(var g=0,_=t.length;g<_;++g)o[g]=+i(t[g],g,t)}return f.initialize=function(g,_){s=g,a=_,p()},f.links=function(g){return arguments.length?(t=g,p(),f):t},f.id=function(g){return arguments.length?(e=g,f):e},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:It(+g),x(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:It(+g),w(),f):i},f}const gl=1664525,ml=1013904223,hr=4294967296;function yl(){let t=1;return()=>(t=(gl*t+ml)%hr)/hr}function vl(t){return t.x}function wl(t){return t.y}var xl=10,_l=Math.PI*(3-Math.sqrt(5));function bl(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,l=new Map,u=yn(d),a=Be("tick","end"),c=yl();t==null&&(t=[]);function d(){f(),a.call("tick",e),n<r&&(u.stop(),a.call("end",e))}function f(w){var g,_=t.length,S;w===void 0&&(w=1);for(var L=0;L<w;++L)for(n+=(o-n)*i,l.forEach(function(m){m(n)}),g=0;g<_;++g)S=t[g],S.fx==null?S.x+=S.vx*=s:(S.x=S.fx,S.vx=0),S.fy==null?S.y+=S.vy*=s:(S.y=S.fy,S.vy=0);return e}function p(){for(var w=0,g=t.length,_;w<g;++w){if(_=t[w],_.index=w,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var S=xl*Math.sqrt(.5+w),L=w*_l;_.x=S*Math.cos(L),_.y=S*Math.sin(L)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function x(w){return w.initialize&&w.initialize(t,c),w}return p(),e={tick:f,restart:function(){return u.restart(d),e},stop:function(){return u.stop(),e},nodes:function(w){return arguments.length?(t=w,p(),l.forEach(x),e):t},alpha:function(w){return arguments.length?(n=+w,e):n},alphaMin:function(w){return arguments.length?(r=+w,e):r},alphaDecay:function(w){return arguments.length?(i=+w,e):+i},alphaTarget:function(w){return arguments.length?(o=+w,e):o},velocityDecay:function(w){return arguments.length?(s=1-w,e):1-s},randomSource:function(w){return arguments.length?(c=w,l.forEach(x),e):c},force:function(w,g){return arguments.length>1?(g==null?l.delete(w):l.set(w,x(g)),e):l.get(w)},find:function(w,g,_){var S=0,L=t.length,m,I,j,D,F;for(_==null?_=1/0:_*=_,S=0;S<L;++S)D=t[S],m=w-D.x,I=g-D.y,j=m*m+I*I,j<_&&(F=D,_=j);return F},on:function(w,g){return arguments.length>1?(a.on(w,g),e):a.on(w)}}}function Sl(){var t,e,n,r,i=It(-30),o,s=1,l=1/0,u=.81;function a(p){var x,w=t.length,g=xn(t,vl,wl).visitAfter(d);for(r=p,x=0;x<w;++x)e=t[x],g.visit(f)}function c(){if(t){var p,x=t.length,w;for(o=new Array(x),p=0;p<x;++p)w=t[p],o[w.index]=+i(w,p,t)}}function d(p){var x=0,w,g,_=0,S,L,m;if(p.length){for(S=L=m=0;m<4;++m)(w=p[m])&&(g=Math.abs(w.value))&&(x+=w.value,_+=g,S+=g*w.x,L+=g*w.y);p.x=S/_,p.y=L/_}else{w=p,w.x=w.data.x,w.y=w.data.y;do x+=o[w.data.index];while(w=w.next)}p.value=x}function f(p,x,w,g){if(!p.value)return!0;var _=p.x-e.x,S=p.y-e.y,L=g-x,m=_*_+S*S;if(L*L/u<m)return m<l&&(_===0&&(_=St(n),m+=_*_),S===0&&(S=St(n),m+=S*S),m<s&&(m=Math.sqrt(s*m)),e.vx+=_*p.value*r/m,e.vy+=S*p.value*r/m),!0;if(p.length||m>=l)return;(p.data!==e||p.next)&&(_===0&&(_=St(n),m+=_*_),S===0&&(S=St(n),m+=S*S),m<s&&(m=Math.sqrt(s*m)));do p.data!==e&&(L=o[p.data.index]*r/m,e.vx+=_*L,e.vy+=S*L);while(p=p.next)}return a.initialize=function(p,x){t=p,n=x,c()},a.strength=function(p){return arguments.length?(i=typeof p=="function"?p:It(+p),c(),a):i},a.distanceMin=function(p){return arguments.length?(s=p*p,a):Math.sqrt(s)},a.distanceMax=function(p){return arguments.length?(l=p*p,a):Math.sqrt(l)},a.theta=function(p){return arguments.length?(u=p*p,a):Math.sqrt(u)},a}function El(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function Cl(){return this.eachAfter(El)}function Nl(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function kl(t,e){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(t.call(e,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function Al(t,e){for(var n=this,r=[n],i=[],o,s,l,u=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,l=o.length;s<l;++s)r.push(o[s]);for(;n=i.pop();)t.call(e,n,++u,this);return this}function Il(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function Tl(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Bl(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Ll(t){for(var e=this,n=$l(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function $l(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Ml(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function jl(){return Array.from(this)}function Pl(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Fl(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Dl(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function bn(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Ol)):e===void 0&&(e=Hl);for(var n=new ne(t),r,i=[n],o,s,l,u;r=i.pop();)if((s=e(r.data))&&(u=(s=Array.from(s)).length))for(r.children=s,l=u-1;l>=0;--l)i.push(o=s[l]=new ne(s[l])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(zl)}function Rl(){return bn(this).eachBefore(ql)}function Hl(t){return t.children}function Ol(t){return Array.isArray(t)?t[1]:null}function ql(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function zl(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ne(t){this.data=t,this.depth=this.height=0,this.parent=null}ne.prototype=bn.prototype={constructor:ne,count:Cl,each:Nl,eachAfter:Al,eachBefore:kl,find:Il,sum:Tl,sort:Bl,path:Ll,ancestors:Ml,descendants:jl,leaves:Pl,links:Fl,copy:Rl,[Symbol.iterator]:Dl};function Gl(t,e){return t.parent===e.parent?1:2}function Qe(t){var e=t.children;return e?e[0]:t.t}function Ze(t){var e=t.children;return e?e[e.length-1]:t.t}function Ul(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Xl(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function Vl(t,e,n){return t.a.parent===e.parent?t.a:n}function _e(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}_e.prototype=Object.create(ne.prototype);function Wl(t){for(var e=new _e(t,0),n,r=[e],i,o,s,l;n=r.pop();)if(o=n._.children)for(n.children=new Array(l=o.length),s=l-1;s>=0;--s)r.push(i=n.children[s]=new _e(o[s],s)),i.parent=n;return(e.parent=new _e(null,0)).children=[e],e}function Yl(){var t=Gl,e=1,n=1,r=null;function i(a){var c=Wl(a);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)a.eachBefore(u);else{var d=a,f=a,p=a;a.eachBefore(function(S){S.x<d.x&&(d=S),S.x>f.x&&(f=S),S.depth>p.depth&&(p=S)});var x=d===f?1:t(d,f)/2,w=x-d.x,g=e/(f.x+x+w),_=n/(p.depth||1);a.eachBefore(function(S){S.x=(S.x+w)*g,S.y=S.depth*_})}return a}function o(a){var c=a.children,d=a.parent.children,f=a.i?d[a.i-1]:null;if(c){Xl(a);var p=(c[0].z+c[c.length-1].z)/2;f?(a.z=f.z+t(a._,f._),a.m=a.z-p):a.z=p}else f&&(a.z=f.z+t(a._,f._));a.parent.A=l(a,f,a.parent.A||d[0])}function s(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function l(a,c,d){if(c){for(var f=a,p=a,x=c,w=f.parent.children[0],g=f.m,_=p.m,S=x.m,L=w.m,m;x=Ze(x),f=Qe(f),x&&f;)w=Qe(w),p=Ze(p),p.a=a,m=x.z+S-f.z-g+t(x._,f._),m>0&&(Ul(Vl(x,a,d),a,m),g+=m,_+=m),S+=x.m,g+=f.m,L+=w.m,_+=p.m;x&&!Ze(p)&&(p.t=x,p.m+=S-_),f&&!Qe(w)&&(w.t=f,w.m+=g-L,d=a)}return d}function u(a){a.x*=e,a.y=a.depth*n}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}function Yt(t,e,n){this.k=t,this.x=e,this.y=n}Yt.prototype={constructor:Yt,scale:function(t){return t===1?this:new Yt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Yt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Yt.prototype;/*!
 * Intro.js v7.2.0
 * https://introjs.com
 *
 * Copyright (C) 2012-2023 Afshin Mehrabani (@afshinmeh).
 * https://introjs.com
 *
 * Date: Mon, 14 Aug 2023 19:47:14 GMT
 */function Ae(t){return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(t)}function U(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(a){try{u(r.next(a))}catch(c){o(c)}}function l(a){try{u(r.throw(a))}catch(c){o(c)}}function u(a){var c;a.done?i(a.value):(c=a.value,c instanceof n?c:new n(function(d){d(c)})).then(s,l)}u((r=r.apply(t,[])).next())})}function X(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(d){c=[6,d],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([u,a])}}}function fr(t,e,n){var r,i=((r={})[t]=e,r.path="/",r.expires=void 0,r);if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i.expires=o.toUTCString()}var s=[];for(var l in i)s.push("".concat(l,"=").concat(i[l]));return document.cookie=s.join("; "),zr(t)}function zr(t){return(e={},document.cookie.split(";").forEach(function(n){var r=n.split("="),i=r[0],o=r[1];e[i.trim()]=o}),e)[t];var e}function Jl(t,e){e?fr(t._options.dontShowAgainCookie,"true",t._options.dontShowAgainCookieDays):fr(t._options.dontShowAgainCookie,"",-1)}var ge,un=(ge={},function(t,e){return e===void 0&&(e="introjs-stamp"),ge[e]=ge[e]||0,t[e]===void 0&&(t[e]=ge[e]++),t[e]}),gt=new(function(){function t(){this.events_key="introjs_event"}return t.prototype._id=function(e,n,r){return e+un(n)+(r?"_".concat(un(r)):"")},t.prototype.on=function(e,n,r,i,o){var s=this._id(n,r,i),l=function(u){return r(i||e,u||window.event)};"addEventListener"in e?e.addEventListener(n,l,o):"attachEvent"in e&&e.attachEvent("on".concat(n),l),e[this.events_key]=e[this.events_key]||{},e[this.events_key][s]=l},t.prototype.off=function(e,n,r,i,o){var s=this._id(n,r,i),l=e[this.events_key]&&e[this.events_key][s];l&&("removeEventListener"in e?e.removeEventListener(n,l,o):"detachEvent"in e&&e.detachEvent("on".concat(n),l),e[this.events_key][s]=null)},t}()),W=function(t){return typeof t=="function"};function dt(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";n.match(e)||t.setAttribute("class","".concat(n," ").concat(e))}else if(t.classList!==void 0)for(var r=0,i=e.split(" ");r<i.length;r++){var o=i[r];t.classList.add(o)}else t.className.match(e)||(t.className+=" ".concat(e))}function Sn(t,e){var n="";return"currentStyle"in t?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function dr(t,e){if(t){var n=function(r){var i=window.getComputedStyle(r),o=i.position==="absolute",s=/(auto|scroll)/;if(i.position==="fixed")return document.body;for(var l=r;l=l.parentElement;)if(i=window.getComputedStyle(l),(!o||i.position!=="static")&&s.test(i.overflow+i.overflowY+i.overflowX))return l;return document.body}(e);n!==document.body&&(n.scrollTop=e.offsetTop-n.offsetTop)}}function En(){if(window.innerWidth!==void 0)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function pr(t,e,n,r,i){var o;if(e!=="off"&&t&&(o=e==="tooltip"?i.getBoundingClientRect():r.getBoundingClientRect(),!function(l){var u=l.getBoundingClientRect();return u.top>=0&&u.left>=0&&u.bottom+80<=window.innerHeight&&u.right<=window.innerWidth}(r))){var s=En().height;o.bottom-(o.bottom-o.top)<0||r.clientHeight>s?window.scrollBy(0,o.top-(s/2-o.height/2)-n):window.scrollBy(0,o.top-(s/2-o.height/2)+n)}}function Jt(t){t.setAttribute("role","button"),t.tabIndex=0}function je(t){var e=t.parentElement;return!(!e||e.nodeName==="HTML")&&(Sn(t,"position")==="fixed"||je(e))}function Ft(t,e){var n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,o=window.pageXOffset||r.scrollLeft||n.scrollLeft;e=e||n;var s=t.getBoundingClientRect(),l=e.getBoundingClientRect(),u=Sn(e,"position"),a={width:s.width,height:s.height};return e.tagName.toLowerCase()!=="body"&&u==="relative"||u==="sticky"?Object.assign(a,{top:s.top-l.top,left:s.left-l.left}):je(t)?Object.assign(a,{top:s.top,left:s.left}):Object.assign(a,{top:s.top+i,left:s.left+o})}function Cn(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function Et(t,e){var n="";if(t.style.cssText&&(n+=t.style.cssText),typeof e=="string")n+=e;else for(var r in e)n+="".concat(r,":").concat(e[r],";");t.style.cssText=n}function wt(t,e,n){if(n&&e){var r=Ft(e.element,t._targetElement),i=t._options.helperElementPadding;e.element instanceof Element&&je(e.element)?dt(n,"introjs-fixedTooltip"):Cn(n,"introjs-fixedTooltip"),e.position==="floating"&&(i=0),Et(n,{width:"".concat(r.width+i,"px"),height:"".concat(r.height+i,"px"),top:"".concat(r.top-i/2,"px"),left:"".concat(r.left-i/2,"px")})}}function me(t,e,n,r,i){return t.left+e+n.width>r.width?(i.style.left="".concat(r.width-n.width-t.left,"px"),!1):(i.style.left="".concat(e,"px"),!0)}function ye(t,e,n,r){return t.left+t.width-e-n.width<0?(r.style.left="".concat(-t.left,"px"),!1):(r.style.right="".concat(e,"px"),!0)}function ht(t,e){t.includes(e)&&t.splice(t.indexOf(e),1)}function Kl(t,e,n,r){var i=t.slice(),o=En(),s=Ft(n).height+10,l=Ft(n).width+20,u=e.getBoundingClientRect(),a="floating";if(u.bottom+s>o.height&&ht(i,"bottom"),u.top-s<0&&ht(i,"top"),u.right+l>o.width&&ht(i,"right"),u.left-l<0&&ht(i,"left"),r&&(r=r.split("-")[0]),i.length&&(a=i[0],i.includes(r)&&(a=r)),a==="top"||a==="bottom"){var c=void 0,d=[];a==="top"?(c="top-middle-aligned",d=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(c="bottom-middle-aligned",d=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),a=function(f,p,x,w){var g=p/2,_=Math.min(x,window.screen.width);return _-f<p&&(ht(w,"top-left-aligned"),ht(w,"bottom-left-aligned")),(f<g||_-f<g)&&(ht(w,"top-middle-aligned"),ht(w,"bottom-middle-aligned")),f<p&&(ht(w,"top-right-aligned"),ht(w,"bottom-right-aligned")),w.length?w[0]:null}(u.left,l,o.width,d)||c}return a}function Ie(t,e,n,r,i){if(i===void 0&&(i=!1),e){var o,s,l,u,a="";n.style.top="",n.style.right="",n.style.bottom="",n.style.left="",n.style.marginLeft="",n.style.marginTop="",r.style.display="inherit",a=typeof e.tooltipClass=="string"?e.tooltipClass:t._options.tooltipClass,n.className=["introjs-tooltip",a].filter(Boolean).join(" "),n.setAttribute("role","dialog"),(u=e.position)!=="floating"&&t._options.autoPosition&&(u=Kl(t._options.positionPrecedence,e.element,n,u)),s=Ft(e.element),o=Ft(n),l=En(),dt(n,"introjs-".concat(u));var c=s.width/2-o.width/2;switch(u){case"top-right-aligned":r.className="introjs-arrow bottom-right";var d=0;ye(s,d,o,n),n.style.bottom="".concat(s.height+20,"px");break;case"top-middle-aligned":r.className="introjs-arrow bottom-middle",i&&(c+=5),ye(s,c,o,n)&&(n.style.right="",me(s,c,o,l,n)),n.style.bottom="".concat(s.height+20,"px");break;case"top-left-aligned":case"top":r.className="introjs-arrow bottom",me(s,i?0:15,o,l,n),n.style.bottom="".concat(s.height+20,"px");break;case"right":n.style.left="".concat(s.width+20,"px"),s.top+o.height>l.height?(r.className="introjs-arrow left-bottom",n.style.top="-".concat(o.height-s.height-20,"px")):r.className="introjs-arrow left";break;case"left":i||t._options.showStepNumbers!==!0||(n.style.top="15px"),s.top+o.height>l.height?(n.style.top="-".concat(o.height-s.height-20,"px"),r.className="introjs-arrow right-bottom"):r.className="introjs-arrow right",n.style.right="".concat(s.width+20,"px");break;case"floating":r.style.display="none",n.style.left="50%",n.style.top="50%",n.style.marginLeft="-".concat(o.width/2,"px"),n.style.marginTop="-".concat(o.height/2,"px");break;case"bottom-right-aligned":r.className="introjs-arrow top-right",ye(s,d=0,o,n),n.style.top="".concat(s.height+20,"px");break;case"bottom-middle-aligned":r.className="introjs-arrow top-middle",i&&(c+=5),ye(s,c,o,n)&&(n.style.right="",me(s,c,o,l,n)),n.style.top="".concat(s.height+20,"px");break;default:r.className="introjs-arrow top",me(s,0,o,l,n),n.style.top="".concat(s.height+20,"px")}}}function Gr(){for(var t=0,e=Array.from(document.querySelectorAll(".introjs-showElement"));t<e.length;t++)Cn(e[t],/introjs-[a-zA-Z]+/g)}function O(t,e){var n=document.createElement(t);e=e||{};var r=/^(?:role|data-|aria-)/;for(var i in e){var o=e[i];i==="style"&&typeof o!="function"?Et(n,o):typeof o=="string"&&i.match(r)?n.setAttribute(i,o):n[i]=o}return n}function gr(t,e,n){if(n===void 0&&(n=!1),n){var r=e.style.opacity||"1";Et(e,{opacity:"0"}),window.setTimeout(function(){Et(e,{opacity:r})},10)}t.appendChild(e)}function Ur(t,e){return(t+1)/e*100}function Xr(t,e){var n=O("div",{className:"introjs-bullets"});t._options.showBullets===!1&&(n.style.display="none");var r=O("ul");r.setAttribute("role","tablist");for(var i=function(){var a=this.getAttribute("data-step-number");a!=null&&t.goToStep(parseInt(a,10))},o=0;o<t._introItems.length;o++){var s=t._introItems[o].step,l=O("li"),u=O("a");l.setAttribute("role","presentation"),u.setAttribute("role","tab"),u.onclick=i,o===e.step-1&&(u.className="active"),Jt(u),u.innerHTML="&nbsp;",u.setAttribute("data-step-number",s.toString()),l.appendChild(u),r.appendChild(l)}return n.appendChild(r),n}function Vr(t,e,n){var r=t.querySelector(".introjs-progress .introjs-progressbar");if(r){var i=Ur(e,n);r.style.cssText="width:".concat(i,"%;"),r.setAttribute("aria-valuenow",i.toString())}}function Wr(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,s,l,u,a,c,d,f,p,x,w,g,_,S,L,m,I,j,D,F,z,q=this;return X(this,function(G){switch(G.label){case 0:return W(t._introChangeCallback)?[4,t._introChangeCallback.call(t,e.element)]:[3,2];case 1:G.sent(),G.label=2;case 2:return n=document.querySelector(".introjs-helperLayer"),r=document.querySelector(".introjs-tooltipReferenceLayer"),i="introjs-helperLayer",typeof e.highlightClass=="string"&&(i+=" ".concat(e.highlightClass)),typeof t._options.highlightClass=="string"&&(i+=" ".concat(t._options.highlightClass)),n!==null&&r!==null?(u=r.querySelector(".introjs-helperNumberLayer"),a=r.querySelector(".introjs-tooltiptext"),c=r.querySelector(".introjs-tooltip-title"),d=r.querySelector(".introjs-arrow"),f=r.querySelector(".introjs-tooltip"),l=r.querySelector(".introjs-skipbutton"),s=r.querySelector(".introjs-prevbutton"),o=r.querySelector(".introjs-nextbutton"),n.className=i,f.style.opacity="0",f.style.display="none",dr(t._options.scrollToElement,e.element),wt(t,e,n),wt(t,e,r),Gr(),t._lastShowElementTimer&&window.clearTimeout(t._lastShowElementTimer),t._lastShowElementTimer=window.setTimeout(function(){u!==null&&(u.innerHTML="".concat(e.step," ").concat(t._options.stepNumbersOfLabel," ").concat(t._introItems.length)),a.innerHTML=e.intro||"",c.innerHTML=e.title||"",f.style.display="block",Ie(t,e,f,d),function(T,R,V){if(T){var rt=R.querySelector(".introjs-bullets li > a.active"),Q=R.querySelector('.introjs-bullets li > a[data-step-number="'.concat(V.step,'"]'));rt&&Q&&(rt.className="",Q.className="active")}}(t._options.showBullets,r,e),Vr(r,t._currentStep,t._introItems.length),f.style.opacity="1",(o!=null&&/introjs-donebutton/gi.test(o.className)||o!=null)&&o.focus(),pr(t._options.scrollToElement,e.scrollTo,t._options.scrollPadding,e.element,a)},350)):(p=O("div",{className:i}),x=O("div",{className:"introjs-tooltipReferenceLayer"}),w=O("div",{className:"introjs-arrow"}),g=O("div",{className:"introjs-tooltip"}),_=O("div",{className:"introjs-tooltiptext"}),S=O("div",{className:"introjs-tooltip-header"}),L=O("h1",{className:"introjs-tooltip-title"}),m=O("div"),Et(p,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(t._options.overlayOpacity.toString(),") 0 0 0 5000px")}),dr(t._options.scrollToElement,e.element),wt(t,e,p),wt(t,e,x),gr(t._targetElement,p,!0),gr(t._targetElement,x),_.innerHTML=e.intro,L.innerHTML=e.title,m.className="introjs-tooltipbuttons",t._options.showButtons===!1&&(m.style.display="none"),S.appendChild(L),g.appendChild(S),g.appendChild(_),t._options.dontShowAgain&&(I=O("div",{className:"introjs-dontShowAgain"}),(j=O("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(T){t.setDontShowAgain(T.target.checked)},(D=O("label",{htmlFor:"introjs-dontShowAgain"})).innerText=t._options.dontShowAgainLabel,I.appendChild(j),I.appendChild(D),g.appendChild(I)),g.appendChild(Xr(t,e)),g.appendChild(function(T){var R=O("div");R.className="introjs-progress",T._options.showProgress===!1&&(R.style.display="none");var V=O("div",{className:"introjs-progressbar"});T._options.progressBarAdditionalClass&&(V.className+=" "+T._options.progressBarAdditionalClass);var rt=Ur(T._currentStep,T._introItems.length);return V.setAttribute("role","progress"),V.setAttribute("aria-valuemin","0"),V.setAttribute("aria-valuemax","100"),V.setAttribute("aria-valuenow",rt.toString()),V.style.cssText="width:".concat(rt,"%;"),R.appendChild(V),R}(t)),F=O("div"),t._options.showStepNumbers===!0&&(F.className="introjs-helperNumberLayer",F.innerHTML="".concat(e.step," ").concat(t._options.stepNumbersOfLabel," ").concat(t._introItems.length),g.appendChild(F)),g.appendChild(w),x.appendChild(g),(o=O("a")).onclick=function(){return U(q,void 0,void 0,function(){return X(this,function(T){switch(T.label){case 0:return t._introItems.length-1===t._currentStep?[3,2]:[4,Bt(t)];case 1:return T.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(o.className)?W(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"done")]:[3,4]:[3,6];case 3:T.sent(),T.label=4;case 4:return[4,Lt(t,t._targetElement)];case 5:T.sent(),T.label=6;case 6:return[2]}})})},Jt(o),o.innerHTML=t._options.nextLabel,(s=O("a")).onclick=function(){return U(q,void 0,void 0,function(){return X(this,function(T){switch(T.label){case 0:return t._currentStep>0?[4,Te(t)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})})},Jt(s),s.innerHTML=t._options.prevLabel,Jt(l=O("a",{className:"introjs-skipbutton"})),l.innerHTML=t._options.skipLabel,l.onclick=function(){return U(q,void 0,void 0,function(){return X(this,function(T){switch(T.label){case 0:return t._introItems.length-1===t._currentStep&&W(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"skip")]:[3,2];case 1:T.sent(),T.label=2;case 2:return W(t._introSkipCallback)?[4,t._introSkipCallback.call(t,t._currentStep)]:[3,4];case 3:T.sent(),T.label=4;case 4:return[4,Lt(t,t._targetElement)];case 5:return T.sent(),[2]}})})},S.appendChild(l),t._introItems.length>1&&m.appendChild(s),m.appendChild(o),g.appendChild(m),Ie(t,e,g,w),pr(t._options.scrollToElement,e.scrollTo,t._options.scrollPadding,e.element,g)),(z=t._targetElement.querySelector(".introjs-disableInteraction"))&&z.parentNode&&z.parentNode.removeChild(z),e.disableInteraction&&function(T,R){var V=document.querySelector(".introjs-disableInteraction");V===null&&(V=O("div",{className:"introjs-disableInteraction"}),T._targetElement.appendChild(V)),wt(T,R,V)}(t,e),t._currentStep===0&&t._introItems.length>1?(o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton"),o.innerHTML=t._options.nextLabel),t._options.hidePrev===!0?(s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton introjs-hidden")),o!=null&&dt(o,"introjs-fullbutton")):s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton introjs-disabled"))):t._introItems.length-1===t._currentStep||t._introItems.length===1?(s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton")),t._options.hideNext===!0?(o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton introjs-hidden")),s!=null&&dt(s,"introjs-fullbutton")):o!=null&&(t._options.nextToDone===!0?(o.innerHTML=t._options.doneLabel,dt(o,"".concat(t._options.buttonClass," introjs-nextbutton introjs-donebutton"))):o.className="".concat(t._options.buttonClass," introjs-nextbutton introjs-disabled"))):(s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton")),o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton"),o.innerHTML=t._options.nextLabel)),s!=null&&s.setAttribute("role","button"),o!=null&&o.setAttribute("role","button"),l!=null&&l.setAttribute("role","button"),o!=null&&o.focus(),function(T){dt(T,"introjs-showElement");var R=Sn(T,"position");R!=="absolute"&&R!=="relative"&&R!=="sticky"&&R!=="fixed"&&dt(T,"introjs-relativePosition")}(e.element),W(t._introAfterChangeCallback)?[4,t._introAfterChangeCallback.call(t,e.element)]:[3,4];case 3:G.sent(),G.label=4;case 4:return[2]}})})}function Ql(t,e){return U(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return t._currentStep=e-2,t._introItems===void 0?[3,2]:[4,Bt(t)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function Zl(t,e){return U(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return t._currentStepNumber=e,t._introItems===void 0?[3,2]:[4,Bt(t)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function Bt(t){return U(this,void 0,void 0,function(){var e,n,r;return X(this,function(i){switch(i.label){case 0:if(t._direction="forward",t._currentStepNumber!==void 0)for(e=0;e<t._introItems.length;e++)t._introItems[e].step===t._currentStepNumber&&(t._currentStep=e-1,t._currentStepNumber=void 0);return t._currentStep===-1?t._currentStep=0:++t._currentStep,n=t._introItems[t._currentStep],r=!0,W(t._introBeforeChangeCallback)?[4,t._introBeforeChangeCallback.call(t,n&&n.element,t._currentStep,t._direction)]:[3,2];case 1:r=i.sent(),i.label=2;case 2:return r===!1?(--t._currentStep,[2,!1]):t._introItems.length<=t._currentStep?W(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"end")]:[3,4]:[3,6];case 3:i.sent(),i.label=4;case 4:return[4,Lt(t,t._targetElement)];case 5:return i.sent(),[2,!1];case 6:return[4,Wr(t,n)];case 7:return i.sent(),[2,!0]}})})}function Te(t){return U(this,void 0,void 0,function(){var e,n;return X(this,function(r){switch(r.label){case 0:return t._direction="backward",t._currentStep<=0?[2,!1]:(--t._currentStep,e=t._introItems[t._currentStep],n=!0,W(t._introBeforeChangeCallback)?[4,t._introBeforeChangeCallback.call(t,e&&e.element,t._currentStep,t._direction)]:[3,2]);case 1:n=r.sent(),r.label=2;case 2:return n===!1?(++t._currentStep,[2,!1]):[4,Wr(t,e)];case 3:return r.sent(),[2,!0]}})})}function Yr(t,e){return U(this,void 0,void 0,function(){var n,r;return X(this,function(i){switch(i.label){case 0:return(n=e.code===void 0?e.which:e.code)===null&&(n=e.charCode===null?e.keyCode:e.charCode),n!=="Escape"&&n!==27||t._options.exitOnEsc!==!0?[3,2]:[4,Lt(t,t._targetElement)];case 1:return i.sent(),[3,16];case 2:return n!=="ArrowLeft"&&n!==37?[3,4]:[4,Te(t)];case 3:return i.sent(),[3,16];case 4:return n!=="ArrowRight"&&n!==39?[3,6]:[4,Bt(t)];case 5:return i.sent(),[3,16];case 6:return n!=="Enter"&&n!=="NumpadEnter"&&n!==13?[3,16]:(r=e.target||e.srcElement)&&r.className.match("introjs-prevbutton")?[4,Te(t)]:[3,8];case 7:return i.sent(),[3,15];case 8:return r&&r.className.match("introjs-skipbutton")?t._introItems.length-1===t._currentStep&&W(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"skip")]:[3,10]:[3,12];case 9:i.sent(),i.label=10;case 10:return[4,Lt(t,t._targetElement)];case 11:return i.sent(),[3,15];case 12:return r&&r.getAttribute("data-step-number")?(r.click(),[3,15]):[3,13];case 13:return[4,Bt(t)];case 14:i.sent(),i.label=15;case 15:e.preventDefault?e.preventDefault():e.returnValue=!1,i.label=16;case 16:return[2]}})})}function Nn(t){if(t===null||Ae(t)!=="object"||"nodeType"in t)return t;var e={};for(var n in t)"jQuery"in window&&t[n]instanceof window.jQuery?e[n]=t[n]:e[n]=Nn(t[n]);return e}function Dt(t){var e=document.querySelector(".introjs-hints");return e?Array.from(e.querySelectorAll(t)):[]}function kn(t,e){return U(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return n=Dt('.introjs-hint[data-step="'.concat(e,'"]'))[0],Pe(),n&&dt(n,"introjs-hidehint"),W(t._hintCloseCallback)?[4,t._hintCloseCallback.call(t,e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}function tc(t){return U(this,void 0,void 0,function(){var e,n,r,i,o;return X(this,function(s){switch(s.label){case 0:e=Dt(".introjs-hint"),n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],(o=i.getAttribute("data-step"))?[4,kn(t,parseInt(o,10))]:[3,3]):[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function ec(t){return U(this,void 0,void 0,function(){var e,n,r,i,o;return X(this,function(s){switch(s.label){case 0:if(!(e=Dt(".introjs-hint"))||!e.length)return[3,1];for(n=0,r=e;n<r.length;n++)i=r[n],(o=i.getAttribute("data-step"))&&Jr(parseInt(o,10));return[3,3];case 1:return[4,Zr(t,t._targetElement)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Jr(t){var e=Dt('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&Cn(e,/introjs-hidehint/g)}function mr(t){var e=Dt('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&e.parentNode&&e.parentNode.removeChild(e)}function nc(t){return U(this,void 0,void 0,function(){var e,n,r,i,o,s,l;return X(this,function(u){switch(u.label){case 0:for((e=document.querySelector(".introjs-hints"))===null&&(e=O("div",{className:"introjs-hints"})),n=function(f){return function(p){var x=p||window.event;x&&x.stopPropagation&&x.stopPropagation(),x&&x.cancelBubble!==null&&(x.cancelBubble=!0),Qr(t,f)}},r=0;r<t._hintItems.length;r++){if(i=t._hintItems[r],document.querySelector('.introjs-hint[data-step="'.concat(r,'"]')))return[2];Jt(o=O("a",{className:"introjs-hint"})),o.onclick=n(r),i.hintAnimation||dt(o,"introjs-hint-no-anim"),je(i.element)&&dt(o,"introjs-fixedhint"),s=O("div",{className:"introjs-hint-dot"}),l=O("div",{className:"introjs-hint-pulse"}),o.appendChild(s),o.appendChild(l),o.setAttribute("data-step",r.toString()),i.hintTargetElement=i.element,i.element=o,Kr(i.hintPosition,o,i.hintTargetElement),e.appendChild(o)}return document.body.appendChild(e),W(t._hintsAddedCallback)?[4,t._hintsAddedCallback.call(t)]:[3,2];case 1:u.sent(),u.label=2;case 2:return t._options.hintAutoRefreshInterval>=0&&(t._hintsAutoRefreshFunction=(a=function(){return Fe(t)},c=t._options.hintAutoRefreshInterval,function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];window.clearTimeout(d),d=window.setTimeout(function(){a(f)},c)}),gt.on(window,"scroll",t._hintsAutoRefreshFunction,t,!0)),[2]}var a,c,d})})}function Kr(t,e,n){if(n!==void 0){var r=Ft(n),i=20,o=20;switch(t){default:case"top-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top,"px");break;case"top-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top,"px");break;case"bottom-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"bottom-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"middle-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"middle-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"middle-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"bottom-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"top-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top,"px")}}}function Qr(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,s,l,u,a,c,d,f;return X(this,function(p){switch(p.label){case 0:return n=document.querySelector('.introjs-hint[data-step="'.concat(e,'"]')),r=t._hintItems[e],W(t._hintClickCallback)?[4,t._hintClickCallback.call(t,n,r,e)]:[3,2];case 1:p.sent(),p.label=2;case 2:return(i=Pe())!==void 0&&parseInt(i,10)===e||(o=O("div",{className:"introjs-tooltip"}),s=O("div"),l=O("div"),u=O("div"),o.onclick=function(x){x.stopPropagation?x.stopPropagation():x.cancelBubble=!0},s.className="introjs-tooltiptext",(a=O("p")).innerHTML=r.hint||"",s.appendChild(a),t._options.hintShowButton&&((c=O("a")).className=t._options.buttonClass,c.setAttribute("role","button"),c.innerHTML=t._options.hintButtonLabel,c.onclick=function(){return kn(t,e)},s.appendChild(c)),l.className="introjs-arrow",o.appendChild(l),o.appendChild(s),d=n.getAttribute("data-step")||"",t._currentStep=parseInt(d,10),f=t._hintItems[t._currentStep],u.className="introjs-tooltipReferenceLayer introjs-hintReference",u.setAttribute("data-step",d),wt(t,f,u),u.appendChild(o),document.body.appendChild(u),Ie(t,f,o,l,!0)),[2]}})})}function Pe(){var t=document.querySelector(".introjs-hintReference");if(t&&t.parentNode){var e=t.getAttribute("data-step");return e?(t.parentNode.removeChild(t),e):void 0}}function Zr(t,e){return U(this,void 0,void 0,function(){var n,r,i,o,s,l,u,a,c,d;return X(this,function(f){switch(f.label){case 0:if(t._hintItems=[],t._options.hints&&t._options.hints.length>0)for(n=0,r=t._options.hints;n<r.length;n++)i=r[n],typeof(o=Nn(i)).element=="string"&&(o.element=document.querySelector(o.element)),o.hintPosition=o.hintPosition||t._options.hintPosition,o.hintAnimation=o.hintAnimation||t._options.hintAnimation,o.element!==null&&t._hintItems.push(o);else{if(!(s=Array.from(e.querySelectorAll("*[data-hint]")))||!s.length)return[2,!1];for(l=0,u=s;l<u.length;l++)a=u[l],c=a.getAttribute("data-hint-animation"),d=t._options.hintAnimation,c&&(d=c==="true"),t._hintItems.push({element:a,hint:a.getAttribute("data-hint")||"",hintPosition:a.getAttribute("data-hint-position")||t._options.hintPosition,hintAnimation:d,tooltipClass:a.getAttribute("data-tooltip-class")||void 0,position:a.getAttribute("data-position")||t._options.tooltipPosition})}return[4,nc(t)];case 1:return f.sent(),gt.on(document,"click",Pe,t,!1),gt.on(window,"resize",Fe,t,!0),[2,!0]}})})}function Fe(t){for(var e=0,n=t._hintItems;e<n.length;e++){var r=n[e],i=r.hintTargetElement;Kr(r.hintPosition,r.element,i)}}function ti(t,e){var n=Array.from(e.querySelectorAll("*[data-intro]")),r=[];if(t._options.steps&&t._options.steps.length)for(var i=0,o=t._options.steps;i<o.length;i++){var s=Nn(f=o[i]);if(s.step=r.length+1,s.title=s.title||"",typeof s.element=="string"&&(s.element=document.querySelector(s.element)||void 0),s.element===void 0||s.element===null){var l=document.querySelector(".introjsFloatingElement");l===null&&(l=O("div",{className:"introjsFloatingElement"}),document.body.appendChild(l)),s.element=l,s.position="floating"}s.position=s.position||t._options.tooltipPosition,s.scrollTo=s.scrollTo||t._options.scrollTo,s.disableInteraction===void 0&&(s.disableInteraction=t._options.disableInteraction),s.element!==null&&r.push(s)}else{var u=void 0;if(n.length<1)return[];for(var a=0,c=n;a<c.length;a++){var d=c[a];if((!t._options.group||d.getAttribute("data-intro-group")===t._options.group)&&d.style.display!=="none"){var f=parseInt(d.getAttribute("data-step")||"",10);u=t._options.disableInteraction,d.hasAttribute("data-disable-interaction")&&(u=!!d.getAttribute("data-disable-interaction")),f>0&&(r[f-1]={step:f,element:d,title:d.getAttribute("data-title")||"",intro:d.getAttribute("data-intro")||"",tooltipClass:d.getAttribute("data-tooltip-class")||void 0,highlightClass:d.getAttribute("data-highlight-class")||void 0,position:d.getAttribute("data-position")||t._options.tooltipPosition,scrollTo:d.getAttribute("data-scroll-to")||t._options.scrollTo,disableInteraction:u})}}for(var p=0,x=0,w=n;x<w.length;x++)if(d=w[x],(!t._options.group||d.getAttribute("data-intro-group")===t._options.group)&&d.getAttribute("data-step")===null){for(;r[p]!==void 0;)p++;u=d.hasAttribute("data-disable-interaction")?!!d.getAttribute("data-disable-interaction"):t._options.disableInteraction,r[p]={element:d,title:d.getAttribute("data-title")||"",intro:d.getAttribute("data-intro")||"",step:p+1,tooltipClass:d.getAttribute("data-tooltip-class")||void 0,highlightClass:d.getAttribute("data-highlight-class")||void 0,position:d.getAttribute("data-position")||t._options.tooltipPosition,scrollTo:d.getAttribute("data-scroll-to")||t._options.scrollTo,disableInteraction:u}}}for(var g=[],_=0;_<r.length;_++)r[_]&&g.push(r[_]);return(r=g).sort(function(S,L){return S.step-L.step}),r}function ei(t,e){var n=t._currentStep;if(n!=null&&n!=-1){var r=t._introItems[n],i=document.querySelector(".introjs-tooltipReferenceLayer"),o=document.querySelector(".introjs-helperLayer"),s=document.querySelector(".introjs-disableInteraction");wt(t,r,o),wt(t,r,i),wt(t,r,s),e&&(t._introItems=ti(t,t._targetElement),function(a,c){if(a._options.showBullets){var d=document.querySelector(".introjs-bullets");d&&d.parentNode&&d.parentNode.replaceChild(Xr(a,c),d)}}(t,r),Vr(i,n,t._introItems.length));var l=document.querySelector(".introjs-arrow"),u=document.querySelector(".introjs-tooltip");return u&&l&&Ie(t,t._introItems[n],u,l),Fe(t),t}}function ni(t){ei(t)}function Xt(t,e){if(e===void 0&&(e=!1),t&&t.parentElement){var n=t.parentElement;e?(Et(t,{opacity:"0"}),window.setTimeout(function(){try{n.removeChild(t)}catch{}},500)):n.removeChild(t)}}function Lt(t,e,n){return n===void 0&&(n=!1),U(this,void 0,void 0,function(){var r,i,o,s;return X(this,function(l){switch(l.label){case 0:return r=!0,t._introBeforeExitCallback===void 0?[3,2]:[4,t._introBeforeExitCallback.call(t,e)];case 1:r=l.sent(),l.label=2;case 2:if(!n&&r===!1)return[2];if((i=Array.from(e.querySelectorAll(".introjs-overlay")))&&i.length)for(o=0,s=i;o<s.length;o++)Xt(s[o]);return Xt(e.querySelector(".introjs-helperLayer"),!0),Xt(e.querySelector(".introjs-tooltipReferenceLayer")),Xt(e.querySelector(".introjs-disableInteraction")),Xt(document.querySelector(".introjsFloatingElement")),Gr(),gt.off(window,"keydown",Yr,t,!0),gt.off(window,"resize",ni,t,!0),W(t._introExitCallback)?[4,t._introExitCallback.call(t)]:[3,4];case 3:l.sent(),l.label=4;case 4:return t._currentStep=-1,[2]}})})}function rc(t,e){return U(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return t.isActive()?W(t._introStartCallback)?[4,t._introStartCallback.call(t,e)]:[3,2]:[2,!1];case 1:r.sent(),r.label=2;case 2:return(n=ti(t,e)).length===0?[2,!1]:(t._introItems=n,function(i,o){var s=this,l=O("div",{className:"introjs-overlay"});Et(l,{top:0,bottom:0,left:0,right:0,position:"fixed"}),o.appendChild(l),i._options.exitOnOverlayClick===!0&&(Et(l,{cursor:"pointer"}),l.onclick=function(){return U(s,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return[4,Lt(i,o)];case 1:return u.sent(),[2]}})})})}(t,e),[4,Bt(t)]);case 3:r.sent(),e.addEventListener,t._options.keyboardNavigation&&gt.on(window,"keydown",Yr,t,!0),gt.on(window,"resize",ni,t,!0),r.label=4;case 4:return[2,!1]}})})}function yr(t,e,n){return t[e]=n,t}var tn=function(){function t(e){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=e,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return t.prototype.isActive=function(){return(!this._options.dontShowAgain||(e=zr(this._options.dontShowAgainCookie))===""||e!=="true")&&this._options.isActive;var e},t.prototype.clone=function(){return new t(this._targetElement)},t.prototype.setOption=function(e,n){return this._options=yr(this._options,e,n),this},t.prototype.setOptions=function(e){return this._options=function(n,r){for(var i=0,o=Object.entries(r);i<o.length;i++){var s=o[i];n=yr(n,s[0],s[1])}return n}(this._options,e),this},t.prototype.start=function(){return U(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,rc(this,this._targetElement)];case 1:return e.sent(),[2,this]}})})},t.prototype.goToStep=function(e){return U(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,Ql(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.addStep=function(e){return this._options.steps||(this._options.steps=[]),this._options.steps.push(e),this},t.prototype.addSteps=function(e){if(!e.length)return this;for(var n=0;n<e.length;n++)this.addStep(e[n]);return this},t.prototype.goToStepNumber=function(e){return U(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,Zl(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.nextStep=function(){return U(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,Bt(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.previousStep=function(){return U(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,Te(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.currentStep=function(){return this._currentStep},t.prototype.exit=function(e){return U(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,Lt(this,this._targetElement,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.refresh=function(e){return ei(this,e),this},t.prototype.setDontShowAgain=function(e){return Jl(this,e),this},t.prototype.onbeforechange=function(e){if(!W(e))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},t.prototype.onchange=function(e){if(!W(e))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},t.prototype.onafterchange=function(e){if(!W(e))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},t.prototype.oncomplete=function(e){if(!W(e))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},t.prototype.onhintsadded=function(e){if(!W(e))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=e,this},t.prototype.onhintclick=function(e){if(!W(e))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=e,this},t.prototype.onhintclose=function(e){if(!W(e))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=e,this},t.prototype.onstart=function(e){if(!W(e))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=e,this},t.prototype.onexit=function(e){if(!W(e))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this},t.prototype.onskip=function(e){if(!W(e))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=e,this},t.prototype.onbeforeexit=function(e){if(!W(e))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=e,this},t.prototype.addHints=function(){return U(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,Zr(this,this._targetElement)];case 1:return e.sent(),[2,this]}})})},t.prototype.hideHint=function(e){return U(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,kn(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.hideHints=function(){return U(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,tc(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.showHint=function(e){return Jr(e),this},t.prototype.showHints=function(){return U(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,ec(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.removeHints=function(){return function(e){for(var n=0,r=Dt(".introjs-hint");n<r.length;n++){var i=r[n].getAttribute("data-step");i&&mr(parseInt(i,10))}gt.off(document,"click",Pe,e,!1),gt.off(window,"resize",Fe,e,!0),e._hintsAutoRefreshFunction&&gt.off(window,"scroll",e._hintsAutoRefreshFunction,e,!0)}(this),this},t.prototype.removeHint=function(e){return mr(e),this},t.prototype.showHintDialog=function(e){return U(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,Qr(this,e)];case 1:return n.sent(),[2,this]}})})},t}(),hn=function t(e){var n;if(Ae(e)==="object")n=new tn(e);else if(typeof e=="string"){var r=document.querySelector(e);if(!r)throw new Error("There is no element with given selector.");n=new tn(r)}else n=new tn(document.body);return t.instances[un(n,"introjs-instance")]=n,n};hn.version="7.2.0",hn.instances={};document.addEventListener("DOMContentLoaded",function(){let t=[],e=[],n=0,r={},i=null,o={},s=[],l=-1,u=[],a=!1,c=0,d=null,f=parseInt(document.getElementById("speedSlider").value,10),p=!0,x=!1,w=!0;const g=24,_=20,S=document.getElementById("stepsList"),L=document.getElementById("graphSvg");let m=L.clientWidth,I=L.clientHeight;const j=ft("#graphSvg").attr("width",m).attr("height",I),D=j.append("g").attr("class","links"),F=j.append("g").attr("class","nodes"),z=j.append("g").attr("class","labels"),q=document.getElementById("currentStepToast"),G=new bootstrap.Toast(q,{autohide:!1,animation:!1}),T=bl(t).force("link",pl(e).id(h=>h.id).distance(50).strength(.5)).force("charge",Sl().strength(-500)).force("collide",fl(g+1)).force("center",lr(m/2,I/2)).on("tick",()=>{De(),t.forEach(oe),Ct()});let R,V,rt;function Q(){R=D.selectAll(".link").data(e,v=>`${v.source.id}-${v.target.id}`),R.exit().remove(),R=R.enter().append("line").attr("class","link").merge(R),rt=z.selectAll(".link-label").data(e.filter(v=>v.weight!==void 0),v=>`${v.source.id}-${v.target.id}`),rt.exit().remove(),rt=rt.enter().append("text").attr("class","link-label").attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(v=>v.weight).merge(rt),V=F.selectAll(".node-group").data(t,v=>v.id),V.exit().remove();const y=V.enter().append("g").attr("class","node-group").call(ds().on("drag",(v,E)=>{De(),E.x=v.x,E.y=v.y,oe(E),Ct()}));y.append("circle").attr("class","outer-circle").attr("r",g),y.append("circle").attr("class","inner-circle").attr("r",_).on("click",(v,E)=>{v.stopPropagation();const C=ft(v.currentTarget);C.classed("activated",!C.classed("activated"))}),y.append("text").attr("class","node-label").attr("x",0).attr("y",-10).attr("text-anchor","middle").attr("dominant-baseline","central").text(v=>v.id),y.append("text").attr("class","heuristic-label").attr("x",0).attr("y",10).attr("text-anchor","middle").style("pointer-events","none").text(v=>v.h!==void 0?`h: ${v.h}`:""),y.append("text").attr("class","cost-label").attr("x",0).attr("y",g+12).attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").style("font-weight","bold").text(v=>v.cost!==void 0?`Cost: ${v.cost}`:""),V=y.merge(V),Ct(),ci(),Ge()}function Rt(h){if(ze(),li(),h<1){t=[],e=[],T.nodes(t),T.force("link").links(e),Q(),T.alpha(0).stop();return}const y=document.getElementById("includeWeights").checked;t=Array.from({length:h},(A,k)=>({id:k,x:Math.random()*(m-2*g)+g,y:Math.random()*(I-2*g)+g}));let v=t.map(A=>A.id);for(let A=v.length-1;A>0;A--){const k=Math.floor(Math.random()*(A+1));[v[A],v[k]]=[v[k],v[A]]}let E=[];for(let A=1;A<v.length;A++){const k=v[Math.floor(Math.random()*A)],$=v[A];E.push({source:k,target:$,weight:y?Math.floor(Math.random()*20)+1:void 0})}let C=new Array(h).fill(0);E.forEach(({source:A,target:k})=>{C[A]++,C[k]++});let N=[];for(let A=0;A<h;A++)for(let k=A+1;k<h;k++)E.some($=>$.source===A&&$.target===k||$.source===k&&$.target===A)||N.push({source:A,target:k});for(let A=N.length-1;A>0;A--){const k=Math.floor(Math.random()*(A+1));[N[A],N[k]]=[N[k],N[A]]}const P=.2;N.forEach(A=>{const{source:k,target:$}=A;if(C[k]<3&&C[$]<3){let b=C.filter(M=>M===3).length,B=0;if(C[k]===2&&B++,C[$]===2&&B++,(b+B)/h>P)return;E.push({source:k,target:$,weight:y?Math.floor(Math.random()*20)+1:void 0}),C[k]++,C[$]++}}),e=E.map(A=>({source:t[A.source],target:t[A.target],weight:A.weight})),n=h,_t(),T.nodes(t),T.force("link").links(e),T.alpha(1).restart(),Q()}function Ct(){R.attr("x1",h=>K(h.source).x).attr("y1",h=>K(h.source).y).attr("x2",h=>K(h.target).x).attr("y2",h=>K(h.target).y),rt.attr("x",h=>{let y=K(h.source),v=K(h.target);return(y.x+v.x)/2}).attr("y",h=>{let y=K(h.source),v=K(h.target);return(y.y+v.y)/2}),V.attr("transform",h=>`translate(${h.x}, ${h.y})`)}function _t(){r={},t.forEach(h=>r[h.id]=[]),e.forEach(h=>{const y=h.source.id,v=h.target.id;r[y].push(v),r[v].push(y)})}function K(h){return typeof h=="object"?h:t.find(y=>y.id===h)}function oe(h){h.x=Math.max(g,Math.min(m-g,h.x)),h.y=Math.max(g,Math.min(I-g,h.y))}function De(){const h=L.getBoundingClientRect();m=h.width,I=h.height}function se(){De(),j.attr("width",m).attr("height",I),T.force("center",lr(m/2,I/2)).alpha(.5).restart(),t.forEach(oe),Ct()}function ri(h,y){const v={};Object.entries(h).forEach(([C,N])=>{(v[N]||(v[N]=[])).push(+C)});function E(C){return{id:C,children:(v[C]||[]).map(E)}}return E(y)}function ae(h){const y=ft("#searchTreePanelSvg");if(y.selectAll("*").remove(),!h)return;const v=document.getElementById("searchTreePanelSvg"),E=v.clientWidth,C=v.clientHeight;if(E===0||C===0)return;const N=+document.getElementById("startNodeSelect").value,P=bn(ri(h.parents,N));P.each(b=>{const B=h.nodes.find(M=>M.id===b.data.id);b.data.discoveryIndex=(B==null?void 0:B.discoveryIndex)??1/0}),P.sort((b,B)=>b.data.discoveryIndex-B.data.discoveryIndex),Yl().size([E-2*g,C-3*g])(P);const A=b=>Math.max(g,Math.min(E-g,b.x+g)),k=b=>Math.max(g,Math.min(C-g,b.y+g));y.selectAll(".link").data(P.links()).enter().append("line").attr("class","link").attr("x1",b=>A(b.source)).attr("y1",b=>k(b.source)).attr("x2",b=>A(b.target)).attr("y2",b=>k(b.target)).classed("path-highlight-link",b=>{var B;return((B=h.path)==null?void 0:B.includes(b.source.data.id))&&h.path.includes(b.target.data.id)});const $=y.selectAll(".node-group").data(P.descendants()).enter().append("g").attr("class","node-group").classed("highlighted",b=>h.highlightedNodes.includes(b.data.id)).classed("goal-highlight",b=>h.goal&&b.data.id===+h.goal).classed("path-highlight",b=>{var B;return(B=h.path)==null?void 0:B.includes(b.data.id)}).classed("current-highlight",b=>h.currentNode===b.data.id).attr("transform",b=>`translate(${A(b)},${k(b)})`);$.append("circle").attr("class","outer-circle").attr("r",g),$.append("circle").attr("class","inner-circle").attr("r",_),$.append("text").attr("class","node-label").attr("x",0).attr("y",-4).attr("text-anchor","middle").text(b=>b.data.id),$.append("text").attr("class","cost-label").attr("x",-24).attr("y",g+12).attr("text-anchor","start").attr("dominant-baseline","middle").style("font-weight","bold").style("pointer-events","none").text(b=>{const B=h.nodes.find(M=>M.id===b.data.id);return(B==null?void 0:B.cost)!==void 0?`Cost: ${B.cost}`:""}),$.append("text").attr("class","heuristic-label").attr("x",0).attr("y",10).attr("text-anchor","middle").text(b=>{const B=h.nodes.find(M=>M.id===b.data.id);return(B==null?void 0:B.h)!==void 0?`H: ${B.h}`:""}),y.selectAll(".link-weight-label").data(P.links()).enter().append("text").attr("class","link-weight-label").attr("x",b=>(b.source.x+b.target.x)/2+g).attr("y",b=>(b.source.y+b.target.y)/2+g).attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(b=>{const B=b.source.data.id,M=b.target.data.id,H=h.links.find(Z=>Z.source.id===B&&Z.target.id===M||Z.source.id===M&&Z.target.id===B);return(H==null?void 0:H.weight)!==void 0?H.weight:""}),Y("#searchTreePanelSvg .link-weight-label").style("display",p?"block":"none"),Y("#searchTreePanelSvg .heuristic-label").style("display",x?"block":"none"),bi(h)}const An=document.getElementById("tree-tab");An&&An.addEventListener("shown.bs.tab",()=>{});const ii=document.getElementById("searchTreePanelSvg");new ResizeObserver(()=>In()).observe(ii);let Re;function In(){Re&&clearTimeout(Re),Re=setTimeout(()=>{var y;const h=(y=s[l])==null?void 0:y.snapshot;h&&ae(h)},200)}function oi(h,y){const v=t.find(E=>E.id===h);v&&(v.cost=y),Y(".node-group").filter(E=>E.id===h).select(".cost-label").text(y!==void 0?`Cost: ${y}`:"")}function He(h,y){const v=t.find(E=>E.id===h);v&&(v.cost=y)}function Oe(h,y){Y(".node-group").filter(v=>v.id===h).select(".cost-label").text(y!==void 0?`Cost: ${y}`:"")}function si(h,y,v){const E=[];Y(".node-group.highlighted").each(function(P){E.push(P.id)});const C=document.getElementById("goalNodeSelect"),N=C?C.value:null;return{nodes:JSON.parse(JSON.stringify(t)),links:JSON.parse(JSON.stringify(e)),adjacency:JSON.parse(JSON.stringify(r)),parents:JSON.parse(JSON.stringify(o)),highlightedNodes:E,goal:N,path:i,currentStep:h,expanded:[...y],currentNode:v}}function Tn(h,y){ai({message:h,snapshot:y})}function ai(h){const y=document.createElement("li"),v=document.createElement("button");v.textContent=h.message,v.classList.add("step-button"),h.snapshot?v.addEventListener("click",()=>{it(),qe(h.snapshot),l=Array.from(S.children).indexOf(y)}):v.disabled=!0,y.appendChild(v),S.appendChild(y)}function ct(){s=[],l=-1,S.innerHTML=""}function ut(h,y){const v=setTimeout(h,y);return u.push(v),v}function J(h,y){const v=y[y.length-1],E=si(h,y,v),C=q.querySelector(".toast-body");ut(()=>{Tn(h,E),ae(E),C.textContent=h,G.show(),s.push({message:h,snapshot:E}),l=s.length-1},c),c+=f}function it(){u.forEach(h=>clearTimeout(h)),u=[],c=0,ze(),Pn(),Ln(),G.hide(),i=null,a&&Tn("Algorithm Stopped."),a=!1}function qe(h){if(it(),ze(),Pn(),h.nodes.forEach(y=>{const v=t.find(E=>E.id===y.id);v&&(v.cost=y.cost,oi(v.id,y.cost),h.highlightedNodes.includes(v.id)&&Ht(v.id),h.goal&&+h.goal===v.id&&le(v.id))}),h.path&&Ot(h.path),h.currentStep){const y=q.querySelector(".toast-body");y.textContent=h.currentStep,G.show()}ae(h)}function Bn(h){if(!t.find(N=>N.id===h))return;const v=Math.min(...e.map(N=>N.weight??1/0)),E={};t.forEach(N=>E[N.id]=1/0),E[h]=0;const C=[h];for(;C.length;){const N=C.shift();r[N].forEach(P=>{E[P]===1/0&&(E[P]=E[N]+1,C.push(P))})}t.forEach(N=>{N.h=Number.isFinite(E[N.id])?E[N.id]*v:0,Y(".node-group").filter(P=>P.id===N.id).select(".heuristic-label").text(`H: ${N.h}`)}),Q()}function ze(){t.forEach(h=>{h.cost=void 0}),Y(".node-group").select(".cost-label").text("")}function li(){e=[],D.selectAll(".link").remove(),z.selectAll(".link-label").remove()}function Ln(){ft("#searchTreePanelSvg").selectAll("*").remove(),document.getElementById("nodesExpanded").textContent=0,document.getElementById("nodesDiscovered").textContent=0,document.getElementById("currentDepth").textContent=0,document.getElementById("stepsToGoal").textContent="N/A",document.getElementById("finalCost").textContent="N/A"}const $n=document.getElementById("startNodeSelect"),Mn=document.getElementById("node1Select"),jn=document.getElementById("node2Select");function ci(){$n.innerHTML="",Mn.innerHTML="",jn.innerHTML="",t.forEach(h=>{const y=document.createElement("option");y.value=h.id,y.textContent=h.id,$n.appendChild(y);const v=document.createElement("option");v.value=h.id,v.textContent=h.id,Mn.appendChild(v);const E=document.createElement("option");E.value=h.id,E.textContent=h.id,jn.appendChild(E)})}function Ge(){const h=document.getElementById("goalNodeSelect"),y=h.value;h.innerHTML="";const v=document.createElement("option");v.value="",v.textContent="None",h.appendChild(v),t.forEach(E=>{const C=document.createElement("option");C.value=E.id,C.textContent=E.id,String(E.id)===y&&(C.selected=!0),h.appendChild(C)})}function Ht(h){Y(".node-group").classed("current-highlight",!1),Y(".node-group").filter(y=>y.id===h).classed("highlighted",!0).classed("current-highlight",!0)}function Pn(){Y(".node-group").classed("highlighted",!1).classed("path-highlight",!1),Y(".link").classed("path-highlight-link",!1)}function Ot(h){if(!(!h||h.length===0)){h.forEach(y=>{Y(".node-group").filter(v=>v.id===y).classed("path-highlight",!0)});for(let y=0;y<h.length-1;y++)Y(".link").filter(v=>{let E=v.source.id,C=v.target.id;return E===h[y]&&C===h[y+1]||E===h[y+1]&&C===h[y]}).classed("path-highlight-link",!0)}}function qt(){Y(".node-group").classed("goal-highlight",!1)}function le(h){Y(".node-group").filter(y=>y.id===h).classed("goal-highlight",!0)}function ui(h){const y={id:n,x:Math.random()*(m-2*g)+g,y:Math.random()*(I-2*g)+g};t.push(y),h.forEach(v=>{const E=K(v);!E||E.id===y.id||e.push({source:E,target:y,weight:w?Math.floor(Math.random()*20)+1:void 0})}),n++,_t(),T.nodes(t),T.force("link").links(e),T.alpha(0).stop(),Q(),Ge()}function hi(h){t=t.filter(y=>y.id!==h),e=e.filter(y=>{const v=y.source.id,E=y.target.id;return v!==h&&E!==h}),_t(),T.nodes(t),T.force("link").links(e),T.alpha(0).stop(),Q()}function ce(h){const y=t.find(v=>v.id===h);return(y==null?void 0:y.h)??0}function Fn(){Ve(!0)}function Dn(){Ve(!1)}function fi(){Xe(!0)}function Ue(){Xe(!1)}function Xe(h){x=h,Y(".heuristic-label").style("display",h?"block":"none"),Y("#searchTreePanelSvg .heuristic-label").style("display",h?"block":"none"),document.getElementById("toggleHeuristicSwitch").checked=h}function Ve(h){p=h,Y(".link-label").style("display",h?"block":"none"),Y("#searchTreePanelSvg .link-weight-label").style("display",h?"block":"none");const y=document.getElementById("toggleWeightsSwitch");y.checked=h,y.nextElementSibling.textContent=h?"Hide Weights":"Show Weights"}function di(h,y){it(),ct(),Dn(),Ue(),a=!0,i=null,t.forEach(k=>{k.discoveryIndex=void 0});let v=0;const E=new Set,C=[h],N=[];E.add(h);const P={};o=P;function A(){var $;if(!a)return;if(c=0,C.length===0){J("BFS: Finished without reaching a goal",N),a=!1;return}const k=C.shift();if(N.push(k),Ht(k),k===y){let b=[k];for(;b[0]!==h;)b.unshift(P[b[0]]);i=b,Ot(i),J(`BFS: Goal Node ${y} found! 
Path: ${i.join(" -> ")}`,N),a=!1;return}if(k===h){J(`BFS: Root Node ${h}`,N);const b=K(h);b&&b.discoveryIndex===void 0&&(b.discoveryIndex=v++)}else J(`BFS: Moving to Node ${k}`,N);($=r[k])==null||$.forEach(b=>{if(!E.has(b)){E.add(b),C.push(b),b in P||(P[b]=k);const B=K(b);B&&B.discoveryIndex===void 0&&(B.discoveryIndex=v++),J(`BFS: Discovered Node ${b}. Adding to queue.`,N)}}),J(`BFS: Queue: [${C.join(", ")}] | Discovered: [${[...E].join(", ")}]`,N),ut(A,c)}A()}function pi(h,y){it(),ct(),Dn(),Ue(),a=!0,i=null,t.forEach(k=>{k.discoveryIndex=void 0});let v=0;const E=new Set,C=[h],N=[];E.add(h);const P={};o=P;function A(){if(!a)return;if(c=0,C.length===0){J("DFS: Finished without reaching a goal",N),a=!1;return}const k=C.pop();if(N.push(k),k===h){const b=K(h);b&&b.discoveryIndex===void 0&&(b.discoveryIndex=v++)}if(Ht(k),k===y){let b=[k];for(;b[0]!==h;)b.unshift(P[b[0]]);i=b,Ot(i),J(`DFS: Goal Node ${y} found! 
Path: ${i.join(" -> ")}`,N),a=!1;return}J(k===h?`DFS: Root Node ${h}`:`DFS: Visiting Node ${k}`,N);const $=r[k]||[];for(let b=$.length-1;b>=0;b--){const B=$[b];if(!E.has(B)){E.add(B),C.push(B),B in P||(P[B]=k);const M=K(B);M&&M.discoveryIndex===void 0&&(M.discoveryIndex=v++),J(`DFS: Discovered Node ${B}. Adding to stack.`,N)}}J(`DFS: Stack: [${C.join(", ")}] | Visited: [${[...E].join(", ")}]`,N),ut(A,c)}A()}function gi(h,y){if(it(),ct(),Fn(),Ue(),a=!0,i=null,e.some(b=>b.weight===void 0)){alert("Error: Graph must be fully weighted to run Uniform Cost Search (UCS).");return}t.forEach(b=>{b.discoveryIndex=void 0});let v=0;const E=K(h);E&&E.discoveryIndex===void 0&&(E.discoveryIndex=v++);let C=[{node:h,cost:0}],N=new Set,P={};o=P;let A={};A[h]=0;const k=[];function $(){if(!a)return;if(c=0,C.length===0){J("UCS: No path found. Frontier empty.",k),a=!1;return}C.sort((H,Z)=>H.cost-Z.cost);let b=C.shift(),B=b.node,M=b.cost;if(M>A[B]){J(`UCS: Skipping node [${B}] with cost ${M} (better cost is ${A[B]}).`,k),ut($,c);return}if(N.add(B),Ht(B),He(B,M),k.push(B),ut(()=>Oe(B,M),c-1),J(`UCS: Expanding node [${B}] with cost ${M}.`,k),B===y){let H=[B];for(;H[0]!==h;)H.unshift(P[H[0]]);i=H,Ot(i),J(`UCS: Goal node [${y}] reached! Path: ${i.join(" -> ")}, Total cost: ${M}.`,k),a=!1;return}(r[B]||[]).forEach(H=>{let Z=e.find(Nt=>{const yt=Nt.source.id,Gn=Nt.target.id;return yt===B&&Gn===H||Gn===B&&yt===H});if(!Z)return;let st=M+Z.weight;if(A[H]===void 0||st<A[H]){let Nt=A[H]!==void 0?A[H]:"none";A[H]=st,P[H]=B;const yt=K(H);yt&&yt.discoveryIndex===void 0&&(yt.discoveryIndex=v++),C.push({node:H,cost:st}),He(H,st),ut(()=>Oe(H,st),c-1),J(`UCS: Found node [${H}], Updating cost from ${Nt} to ${st}.`,k),N.has(H)&&(J(`UCS: Reopening node [${H}] (cost improved).`,k),N.delete(H))}}),ut($,c)}$()}function mi(h,y){if(it(),ct(),Fn(),fi(),a=!0,i=null,isNaN(y)){alert("Please select a goal node before running A*.");return}if(e.some($=>$.weight===void 0)){alert("Error: Graph must be fully weighted to run AStar.");return}t.forEach($=>{$.discoveryIndex=void 0});let v=0;const E=K(h);E&&E.discoveryIndex===void 0&&(E.discoveryIndex=v++);const C=[{node:h,g:0}],N={[h]:0},P={};o=P;const A=new Set;function k(){var B;if(!a)return;if(c=0,C.length===0){J("A*: No path found.",[...A]),a=!1;return}C.sort((M,H)=>M.g+ce(M.node)-(H.g+ce(H.node)));const{node:$,g:b}=C.shift();if(b>N[$]){ut(k,c);return}if(Ht($),He($,b),A.add($),J(`A*: Expanding node ${$} (f=${(b+ce($)).toFixed(2)})`,[...A]),$===y){const M=[$];for(;M[0]!==h;)M.unshift(P[M[0]]);i=M,Ot(M),J(`A*: Goal reached! Path: ${M.join(" -> ")}`,[...A]),a=!1;return}(B=r[$])==null||B.forEach(M=>{const H=e.find(st=>{const Nt=st.source.id,yt=st.target.id;return Nt===$&&yt===M||yt===$&&Nt===M});if(!H)return;const Z=b+H.weight;if(N[M]===void 0||Z<N[M]){N[M]=Z,P[M]=$;const st=K(M);st&&st.discoveryIndex===void 0&&(st.discoveryIndex=v++),C.push({node:M,g:Z}),ut(()=>Oe(M,Z),c-1),J(`A*: Discovered ${M}, g=${Z.toFixed(2)}, f=${(Z+ce(M)).toFixed(2)}`,[...A])}}),ut(k,c)}k()}const Rn=document.getElementById("nodeCountInput");document.getElementById("generateGraphForm").addEventListener("submit",h=>{it(),ct(),qt(),h.preventDefault();let y=parseInt(Rn.value,10);y<1||(Rt(y),Rn.value="")}),document.getElementById("tutorialBtn").addEventListener("click",()=>{hn().setOptions({steps:[{element:"#generateGraphForm",intro:"Enter how many nodes you want and click Generate to build a new random graph.",position:"right"},{element:"#weightDiv",intro:"Toggle this to show or hide edge weights on the graph.",position:"right"},{element:"#heuristicToggleDiv",intro:"Toggle heuristics (hvalues) on each node  useful for A* search.",position:"right"},{element:"#AddNodeDiv",intro:"Click Add or Delete to modify nodes. Activate a parent by clicking its inner circle first.",position:"right"},{element:"#updateLinkForm",intro:"Use these controls to create, update, or remove an edge between two nodes.",position:"top"},{element:"#selectStartDiv",intro:"Choose your starting node for all searches.",position:"top"},{element:"#selectGoalDiv",intro:"Choose your goal node (or click Set Random Goal).",position:"top"},{element:"#algorithmDropdown",intro:"Pick a search algorithm (BFS, DFS, UCS, or A*).",position:"bottom"},{element:"#runAlgorithmBtn",intro:"Run the selected algorithm  watch the traversal animate!",position:"bottom"},{element:"#speedControls",intro:"Adjust how fast each step of the algorithm plays.",position:"top"},{element:".backStep",intro:"Step backwards through the algorithm history.",position:"top"},{element:".forwardStep",intro:"Step forwards through the algorithm history.",position:"top"},{element:"#toggleSidebar",intro:"Hide or show the sidebar to give more room to the graph.",position:"left"},{element:"#toggleTreeBtn",intro:"Open the Search Tree panel to see the traversal tree.",position:"left"},{element:"#mainGraph",intro:"This is the interactive graph area  drag nodes around or click them to activate.",position:"top"},{element:"#searchTreePanel",intro:"This is the Search Tree panel  it visualizes the traversal tree and shows stats about nodes expanded, discovered, depth, cost, etc.",position:"left"}],showStepNumbers:!0,exitOnOverlayClick:!0,exitOnEsc:!0,nextLabel:"Next",prevLabel:"Back",doneLabel:"Finish",overlayOpacity:.5,tooltipClass:"customTooltip"}).start()}),document.getElementById("addNodeForm").addEventListener("submit",h=>{it(),ct(),h.preventDefault();const v=Y(".node-group").filter(function(E){return ft(this).select(".inner-circle").classed("activated")}).data().map(E=>E.id);ui(v),Y(".inner-circle").classed("activated",!1)}),document.getElementById("toggleRandomizeWeightsSwitch").addEventListener("change",h=>w=h.target.checked),document.getElementById("sortGraphBtn").addEventListener("click",()=>{T.alpha(1).restart()}),document.getElementById("deleteNodeForm").addEventListener("submit",h=>{it(),ct(),h.preventDefault();const y=Y(".node-group").filter(function(v){return ft(this).select(".inner-circle").classed("activated")}).data();if(y.length===0){alert("Please activate at least one node to delete by clicking on its inner circle.");return}y.forEach(v=>{hi(v.id)}),Y(".inner-circle").classed("activated",!1)});const Hn=document.getElementById("speedSlider");Hn.addEventListener("input",function(){f=parseInt(Hn.value,10)}),document.getElementById("restartBtn").addEventListener("click",()=>{it(),ct(),qt(),Ge(),Ln()});const zt=document.getElementById("goalNodeSelect");zt.addEventListener("change",()=>{it(),qt();const h=parseInt(zt.value,10);le(h)}),document.getElementById("randomGoalBtn").addEventListener("click",()=>{if(it(),qt(),t.length===0)return;const h=t[Math.floor(Math.random()*t.length)];zt.value=h.id;const y=parseInt(zt.value,10);Bn(y),le(y),alert(`Randomly selected goal: ${h.id}`)}),document.getElementById("toggleWeightsSwitch").addEventListener("change",h=>Ve(h.target.checked)),document.getElementById("toggleHeuristicSwitch").addEventListener("change",h=>Xe(h.target.checked)),document.querySelectorAll(".backStep").forEach(h=>h.addEventListener("click",()=>{l>0?(l--,qe(s[l].snapshot)):alert("No previous step available.")})),document.querySelectorAll(".forwardStep").forEach(h=>h.addEventListener("click",()=>{l<s.length-1?(l++,qe(s[l].snapshot)):alert("No next step available.")})),document.querySelectorAll(".dropdown-item").forEach(h=>{h.addEventListener("click",function(y){y.preventDefault(),d=this.getAttribute("data-algorithm"),document.getElementById("algorithmDropdown").innerText=this.innerText})}),document.getElementById("runAlgorithmBtn").addEventListener("click",function(){const h=parseInt(document.getElementById("startNodeSelect").value,10),y=parseInt(document.getElementById("goalNodeSelect").value,10);switch(d){case"bfs":di(h,y);break;case"dfs":pi(h,y);break;case"ucs":gi(h,y);break;case"aStar":mi(h,y);break;default:alert("No algorithm selected.")}}),document.getElementById("updateLinkBtn").addEventListener("click",function(){const h=parseInt(document.getElementById("node1Select").value,10),y=parseInt(document.getElementById("node2Select").value,10);if(h===y){alert("Cannot create a link from a node to itself.");return}let v=parseFloat(document.getElementById("newWeightInput").value);isNaN(v)&&(v=void 0);let E=!1;if(e.forEach(C=>{const N=C.source.id,P=C.target.id;(N===h&&P===y||N===y&&P===h)&&(C.weight=v,E=!0)}),E){const C=z.selectAll(".link-label").data(e.filter(N=>N.weight!==void 0),N=>`${N.source.id}-${N.target.id}`);C.exit().remove(),C.enter().append("text").attr("class","link-label").attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").merge(C).text(N=>N.weight),it(),ct(),Q(),alert("Link weight updated.")}else e.push({source:t[h],target:t[y],weight:v}),_t(),Q(),alert("Link did not exist, so it was created.")}),document.getElementById("removeLinkBtn").addEventListener("click",()=>{it(),ct();const h=parseInt(document.getElementById("node1Select").value,10),y=parseInt(document.getElementById("node2Select").value,10),v=e.findIndex(E=>{const C=E.source.id,N=E.target.id;return C===h&&N===y||C===y&&N===h});v!==-1?(e.splice(v,1),_t(),Q(),alert(`Link between ${h} and ${y} removed.`)):alert("No link exists between those two nodes.")}),document.getElementById("getInfoBtn").addEventListener("click",()=>{let h="";switch(d){case"bfs":h=`
            <h3>BreadthFirst Search (BFS)</h3>
            <p><strong>Description:</strong> 
            BFS explores the graph level by level, starting from the source node. It first visits all the neighbors of the source, then moves on to the neighbors of the neighbors, and so on. This guarantees that the first time a node is encountered, it's via the shortest possible path in terms of the number of edges. BFS is particularly useful for finding the shortest path in an unweighted graph, as it always explores all possible paths at the current depth before moving to the next level.</p>
            
            <img src="/assets/BFS.png" alt="BFS illustration" width="300">
            
            <p><strong>Example:</strong> Consider a graph with nodes 1, 2, 3, and 4:
            Graph: 0  1, 0  2, 1  3
            
            Starting from node 0:
            - First, BFS explores nodes 1 and 2 (since they are at the same level from 0).
            - Then it moves on to node 3, visiting 1  3.
            
            The order of visits would be: 0  1, 0  2, 1  3.
            </p>
                        `;break;case"dfs":h=`
                <h3>DepthFirst Search (DFS)</h3>
                <p><strong>Description:</strong> 
                DFS is a traversal algorithm that explores as far along a branch as possible before backtracking. It uses a stack (either implicitly via recursion or explicitly) to keep track of which nodes to visit next. DFS doesn't guarantee finding the shortest path, as it may explore deep branches that aren't the most efficient way to reach the goal. It can be useful for exploring all possible paths or when you need to visit all nodes.</p>
                
               <img src="/assets/DFS.png" alt="DFS illustration" width="300">
                
                <p><strong>Example:</strong> In the same graph as BFS:
                Graph: 0  1, 0  2, 1  3, 2  3
                
                If DFS starts at node 0, it may explore:
                - First, it goes from 0  1  3 (going deep along the branch).
                - After backtracking to 0, it then visits 2  3.
                
                The order of visits could be: 0  1  3  2  3.
                </p>
                        `;break;case"ucs":h=`
                <h3>Uniform Cost Search (UCS)</h3>
                <p><strong>Description:</strong> 
                UCS is similar to BFS but differs in that it takes edge costs into account. It always expands the node with the lowest total cost first. This ensures that the search explores paths with the least cumulative cost, rather than the shortest number of edges as in BFS. UCS is ideal when you want to find the least-cost path in a weighted graph.</p>
                
                <img src="/assets/UCS.png" alt="UCS illustration" width="300">
                
                <p><strong>Example:</strong> Consider a graph with the following edge costs:
                Graph: 0  1 (cost 1), 0  2 (cost 5), 1  3 (cost 5), 2  3 (cost 2)
                
                If UCS starts from node 0:
                - UCS would first explore 0  1 (cost 1), then move on to 0  2 (cost 5).
                - Next, UCS would explore 1  3 (cost 6 total) and 2  3 (cost 7 total).
                - The optimal path is 0  1  3 (cost 6) rather than 0  2  3 (cost 7).
                
                The order of visits would be: 0  1  3  2.
                </p>
                        `;break;case"aStar":h=`
                <h3>A* Search</h3>
                <p><strong>Description:</strong> 
                A* is a more advanced search algorithm that combines path cost and a heuristic estimate of the remaining distance to the goal. It evaluates nodes based on both the actual cost to reach the node and the estimated cost from the node to the goal, making it more efficient than UCS and BFS in many cases. A* is optimal and complete, meaning it will find the shortest path if one exists, as long as the heuristic is admissible (i.e., it doesn't overestimate the cost to the goal).</p>
                
                <img src="/assets/ASTAR.png" alt="ASTAR illustration" width="300">
                
                <p><strong>Example:</strong> Consider a graph with the following edges and heuristic values (straight-line distance to goal D):
                Graph: 0  1 (cost 1), 0  2 (cost 5), 1  3 (cost 5), 2  3 (cost 2)
                Heuristic: h(0) = 3, h(1) = 1, h(2) = 4, h(3) = 0
                
                Starting from node A:
                - A* first evaluates the node with the smallest sum of path cost and heuristic (0  1 + h(1) = 1 + 1 = 2).
                - Then it moves to 1  3 (cost 6 total).
                - Despite 0  2 being cheaper in terms of path cost, A* prefers 0  1  3 because its heuristic suggests 3 is closer via 1.
                
                The order of visits would be: 0  2  3.
                </p>
                      `;break;default:h="<p>Please select an algorithm from the dropdown to see information.</p>"}document.getElementById("algInfoContent").innerHTML=h,new bootstrap.Modal(document.getElementById("algInfoModal")).show()});const yi=document.querySelector(".main-container"),Gt=document.getElementById("sidebar"),On=document.getElementById("toggleSidebar");On.addEventListener("click",()=>{Gt.classList.toggle("sidebar--hidden"),ue.classList.toggle("sidebar--hidden"),On.textContent=Gt.classList.contains("sidebar--hidden")?"Show Sidebar":"Hide Sidebar",se()});const ue=document.getElementById("sidebarResizer");ue.addEventListener("pointerdown",()=>{document.addEventListener("pointermove",qn),document.addEventListener("pointerup",vi,{once:!0})});let We;function qn(h){We&&cancelAnimationFrame(We),We=requestAnimationFrame(()=>{const y=yi.getBoundingClientRect().left;let v=h.clientX-y;v=Math.max(150,Math.min(v,600)),Gt.style.width=`${v}px`,se()})}function vi(){document.removeEventListener("pointermove",qn)}const wi=document.getElementById("toggleToastSwitch"),xi=document.getElementById("currentStepToast").parentElement;wi.addEventListener("change",function(){xi.style.display=this.checked?"block":"none"});const _i=document.getElementById("searchTreePanel"),zn=document.getElementById("toggleTreeBtn");zn.addEventListener("click",()=>{var v;const h=_i.classList.toggle("open");zn.textContent=h?"":"",h?(Gt.classList.add("sidebar--hidden"),ue.classList.add("sidebar--hidden")):(Gt.classList.remove("sidebar--hidden"),ue.classList.remove("sidebar--hidden")),document.querySelector(".main-content").classList.toggle("shift",h),Q(),se();const y=(v=s[l])==null?void 0:v.snapshot;y&&ae(y)});function bi(h){var A,k;const y=document.getElementById("searchTreeStats");if(!h){y.style.display="none";return}y.style.display="block";const v=Number(document.getElementById("startNodeSelect").value),E=Object.keys(h.parents).map(Number),C=new Set(E.concat(v)),N=h.path?h.path.length-1:"N/A";if(document.getElementById("nodesExpanded").textContent=String(((A=h.expanded)==null?void 0:A.length)??0),document.getElementById("nodesDiscovered").textContent=String(C.size),document.getElementById("stepsToGoal").textContent=N,((k=h.path)==null?void 0:k.length)>0){const $=Number(h.goal),b=h.nodes.find(B=>B.id===$);document.getElementById("finalCost").textContent=(b==null?void 0:b.cost)??"N/A"}else document.getElementById("finalCost").textContent="N/A";let P="N/A";if(h.currentNode!=null){P=0;let $=h.currentNode;for(;h.parents[$]!==void 0;)P++,$=h.parents[$]}document.getElementById("currentDepth").textContent=P}document.getElementById("goalNodeSelect").addEventListener("change",()=>{qt();const h=parseInt(zt.value,10);isNaN(h)||(le(h),Bn(h))}),document.getElementById("graph-tab").addEventListener("shown.bs.tab",()=>{m=L.clientWidth,I=L.clientHeight,t.forEach(oe),Ct()}),window.addEventListener("resize",()=>{se(),Q(),In()});function Si(){Rt(8)}Si()});
