(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var wi={value:()=>{}};function Be(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ve(n)}function ve(t){this._=t}function xi(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ve.prototype=Be.prototype={constructor:ve,on:function(t,e){var n=this._,r=xi(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=_i(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=qn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=qn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ve(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function _i(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function qn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=wi,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ze="http://www.w3.org/1999/xhtml";const zn={svg:"http://www.w3.org/2000/svg",xhtml:Ze,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Le(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),zn.hasOwnProperty(e)?{space:zn[e],local:t}:t}function bi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ze&&e.documentElement.namespaceURI===Ze?e.createElement(t):e.createElementNS(n,t)}}function Si(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gr(t){var e=Le(t);return(e.local?Si:bi)(e)}function Ei(){}function un(t){return t==null?Ei:function(){return this.querySelector(t)}}function Ci(t){typeof t!="function"&&(t=un(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),c,a,u=0;u<s;++u)(c=o[u])&&(a=t.call(c,c.__data__,u,o))&&("__data__"in c&&(a.__data__=c.__data__),l[u]=a);return new et(r,this._parents)}function mr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ni(){return[]}function yr(t){return t==null?Ni:function(){return this.querySelectorAll(t)}}function ki(t){return function(){return mr(t.apply(this,arguments))}}function Ai(t){typeof t=="function"?t=ki(t):t=yr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,c,a=0;a<l;++a)(c=s[a])&&(r.push(t.call(c,c.__data__,a,s)),i.push(c));return new et(r,i)}function vr(t){return function(){return this.matches(t)}}function wr(t){return function(e){return e.matches(t)}}var Ii=Array.prototype.find;function Ti(t){return function(){return Ii.call(this.children,t)}}function Bi(){return this.firstElementChild}function Li(t){return this.select(t==null?Bi:Ti(typeof t=="function"?t:wr(t)))}var $i=Array.prototype.filter;function Mi(){return Array.from(this.children)}function ji(t){return function(){return $i.call(this.children,t)}}function Pi(t){return this.selectAll(t==null?Mi:ji(typeof t=="function"?t:wr(t)))}function Di(t){typeof t!="function"&&(t=vr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],c,a=0;a<s;++a)(c=o[a])&&t.call(c,c.__data__,a,o)&&l.push(c);return new et(r,this._parents)}function xr(t){return new Array(t.length)}function Fi(){return new et(this._enter||this._groups.map(xr),this._parents)}function be(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}be.prototype={constructor:be,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ri(t){return function(){return t}}function Hi(t,e,n,r,i,o){for(var s=0,l,c=e.length,a=o.length;s<a;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new be(t,o[s]);for(;s<c;++s)(l=e[s])&&(i[s]=l)}function Oi(t,e,n,r,i,o,s){var l,c,a=new Map,u=e.length,p=o.length,d=new Array(u),f;for(l=0;l<u;++l)(c=e[l])&&(d[l]=f=s.call(c,c.__data__,l,e)+"",a.has(f)?i[l]=c:a.set(f,c));for(l=0;l<p;++l)f=s.call(t,o[l],l,o)+"",(c=a.get(f))?(r[l]=c,c.__data__=o[l],a.delete(f)):n[l]=new be(t,o[l]);for(l=0;l<u;++l)(c=e[l])&&a.get(d[l])===c&&(i[l]=c)}function qi(t){return t.__data__}function zi(t,e){if(!arguments.length)return Array.from(this,qi);var n=e?Oi:Hi,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ri(t));for(var o=i.length,s=new Array(o),l=new Array(o),c=new Array(o),a=0;a<o;++a){var u=r[a],p=i[a],d=p.length,f=Gi(t.call(u,u&&u.__data__,a,r)),x=f.length,w=l[a]=new Array(x),v=s[a]=new Array(x),_=c[a]=new Array(d);n(u,p,w,v,_,f,e);for(var b=0,B=0,m,T;b<x;++b)if(m=w[b]){for(b>=B&&(B=b+1);!(T=v[B])&&++B<x;);m._next=T||null}}return s=new et(s,r),s._enter=l,s._exit=c,s}function Gi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ui(){return new et(this._exit||this._groups.map(xr),this._parents)}function Xi(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Vi(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),c=0;c<s;++c)for(var a=n[c],u=r[c],p=a.length,d=l[c]=new Array(p),f,x=0;x<p;++x)(f=a[x]||u[x])&&(d[x]=f);for(;c<i;++c)l[c]=n[c];return new et(l,this._parents)}function Wi(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Yi(t){t||(t=Ji);function e(p,d){return p&&d?t(p.__data__,d.__data__):!p-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,c=i[o]=new Array(l),a,u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new et(i,this._parents).order()}function Ji(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ki(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Qi(){return Array.from(this)}function Zi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function to(){let t=0;for(const e of this)++t;return t}function eo(){return!this.node()}function no(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function ro(t){return function(){this.removeAttribute(t)}}function io(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oo(t,e){return function(){this.setAttribute(t,e)}}function so(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ao(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function lo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function co(t,e){var n=Le(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?io:ro:typeof e=="function"?n.local?lo:ao:n.local?so:oo)(n,e))}function _r(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function uo(t){return function(){this.style.removeProperty(t)}}function ho(t,e,n){return function(){this.style.setProperty(t,e,n)}}function fo(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function po(t,e,n){return arguments.length>1?this.each((e==null?uo:typeof e=="function"?fo:ho)(t,e,n??"")):jt(this.node(),t)}function jt(t,e){return t.style.getPropertyValue(e)||_r(t).getComputedStyle(t,null).getPropertyValue(e)}function go(t){return function(){delete this[t]}}function mo(t,e){return function(){this[t]=e}}function yo(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function vo(t,e){return arguments.length>1?this.each((e==null?go:typeof e=="function"?yo:mo)(t,e)):this.node()[t]}function br(t){return t.trim().split(/^|\s+/)}function hn(t){return t.classList||new Sr(t)}function Sr(t){this._node=t,this._names=br(t.getAttribute("class")||"")}Sr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Er(t,e){for(var n=hn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Cr(t,e){for(var n=hn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function wo(t){return function(){Er(this,t)}}function xo(t){return function(){Cr(this,t)}}function _o(t,e){return function(){(e.apply(this,arguments)?Er:Cr)(this,t)}}function bo(t,e){var n=br(t+"");if(arguments.length<2){for(var r=hn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?_o:e?wo:xo)(n,e))}function So(){this.textContent=""}function Eo(t){return function(){this.textContent=t}}function Co(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function No(t){return arguments.length?this.each(t==null?So:(typeof t=="function"?Co:Eo)(t)):this.node().textContent}function ko(){this.innerHTML=""}function Ao(t){return function(){this.innerHTML=t}}function Io(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function To(t){return arguments.length?this.each(t==null?ko:(typeof t=="function"?Io:Ao)(t)):this.node().innerHTML}function Bo(){this.nextSibling&&this.parentNode.appendChild(this)}function Lo(){return this.each(Bo)}function $o(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mo(){return this.each($o)}function jo(t){var e=typeof t=="function"?t:gr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Po(){return null}function Do(t,e){var n=typeof t=="function"?t:gr(t),r=e==null?Po:typeof e=="function"?e:un(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Fo(){var t=this.parentNode;t&&t.removeChild(this)}function Ro(){return this.each(Fo)}function Ho(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Oo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function qo(t){return this.select(t?Oo:Ho)}function zo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Go(t){return function(e){t.call(this,e,this.__data__)}}function Uo(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Xo(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Vo(t,e,n){return function(){var r=this.__on,i,o=Go(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Wo(t,e,n){var r=Uo(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,a=l.length,u;c<a;++c)for(i=0,u=l[c];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(l=e?Vo:Xo,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function Nr(t,e,n){var r=_r(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Yo(t,e){return function(){return Nr(this,t,e)}}function Jo(t,e){return function(){return Nr(this,t,e.apply(this,arguments))}}function Ko(t,e){return this.each((typeof e=="function"?Jo:Yo)(t,e))}function*Qo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var fn=[null];function et(t,e){this._groups=t,this._parents=e}function re(){return new et([[document.documentElement]],fn)}function Zo(){return this}et.prototype=re.prototype={constructor:et,select:Ci,selectAll:Ai,selectChild:Li,selectChildren:Pi,filter:Di,data:zi,enter:Fi,exit:Ui,join:Xi,merge:Vi,selection:Zo,order:Wi,sort:Yi,call:Ki,nodes:Qi,node:Zi,size:to,empty:eo,each:no,attr:co,style:po,property:vo,classed:bo,text:No,html:To,raise:Lo,lower:Mo,append:jo,insert:Do,remove:Ro,clone:qo,datum:zo,on:Wo,dispatch:Ko,[Symbol.iterator]:Qo};function ht(t){return typeof t=="string"?new et([[document.querySelector(t)]],[document.documentElement]):new et([[t]],fn)}function ts(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Gn(t,e){if(t=ts(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function J(t){return typeof t=="string"?new et([document.querySelectorAll(t)],[document.documentElement]):new et([mr(t)],fn)}const es={passive:!1},Kt={capture:!0,passive:!1};function Ve(t){t.stopImmediatePropagation()}function $t(t){t.preventDefault(),t.stopImmediatePropagation()}function ns(t){var e=t.document.documentElement,n=ht(t).on("dragstart.drag",$t,Kt);"onselectstart"in e?n.on("selectstart.drag",$t,Kt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function rs(t,e){var n=t.document.documentElement,r=ht(t).on("dragstart.drag",null);e&&(r.on("click.drag",$t,Kt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const he=t=>()=>t;function tn(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:c,dy:a,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:u}})}tn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function is(t){return!t.ctrlKey&&!t.button}function os(){return this.parentNode}function ss(t,e){return e??{x:t.x,y:t.y}}function as(){return navigator.maxTouchPoints||"ontouchstart"in this}function ls(){var t=is,e=os,n=ss,r=as,i={},o=Be("start","drag","end"),s=0,l,c,a,u,p=0;function d(m){m.on("mousedown.drag",f).filter(r).on("touchstart.drag",v).on("touchmove.drag",_,es).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(m,T){if(!(u||!t.call(this,m,T))){var F=B(this,e.call(this,m,T),m,T,"mouse");F&&(ht(m.view).on("mousemove.drag",x,Kt).on("mouseup.drag",w,Kt),ns(m.view),Ve(m),a=!1,l=m.clientX,c=m.clientY,F("start",m))}}function x(m){if($t(m),!a){var T=m.clientX-l,F=m.clientY-c;a=T*T+F*F>p}i.mouse("drag",m)}function w(m){ht(m.view).on("mousemove.drag mouseup.drag",null),rs(m.view,a),$t(m),i.mouse("end",m)}function v(m,T){if(t.call(this,m,T)){var F=m.changedTouches,j=e.call(this,m,T),P=F.length,U,H;for(U=0;U<P;++U)(H=B(this,j,m,T,F[U].identifier,F[U]))&&(Ve(m),H("start",m,F[U]))}}function _(m){var T=m.changedTouches,F=T.length,j,P;for(j=0;j<F;++j)(P=i[T[j].identifier])&&($t(m),P("drag",m,T[j]))}function b(m){var T=m.changedTouches,F=T.length,j,P;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),j=0;j<F;++j)(P=i[T[j].identifier])&&(Ve(m),P("end",m,T[j]))}function B(m,T,F,j,P,U){var H=o.copy(),q=Gn(U||F,T),L,G,O;if((O=n.call(m,new tn("beforestart",{sourceEvent:F,target:d,identifier:P,active:s,x:q[0],y:q[1],dx:0,dy:0,dispatch:H}),j))!=null)return L=O.x-q[0]||0,G=O.y-q[1]||0,function it(xt,Rt,oe){var Et=q,Lt;switch(xt){case"start":i[P]=it,Lt=s++;break;case"end":delete i[P],--s;case"drag":q=Gn(oe||Rt,T),Lt=s;break}H.call(xt,m,new tn(xt,{sourceEvent:Rt,subject:O,target:d,identifier:P,active:Lt,x:q[0]+L,y:q[1]+G,dx:q[0]-Et[0],dy:q[1]-Et[1],dispatch:H}),j)}}return d.filter=function(m){return arguments.length?(t=typeof m=="function"?m:he(!!m),d):t},d.container=function(m){return arguments.length?(e=typeof m=="function"?m:he(m),d):e},d.subject=function(m){return arguments.length?(n=typeof m=="function"?m:he(m),d):n},d.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:he(!!m),d):r},d.on=function(){var m=o.on.apply(o,arguments);return m===o?d:m},d.clickDistance=function(m){return arguments.length?(p=(m=+m)*m,d):Math.sqrt(p)},d}function dn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ie(){}var Qt=.7,Se=1/Qt,Mt="\\s*([+-]?\\d+)\\s*",Zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cs=/^#([0-9a-f]{3,8})$/,us=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),hs=new RegExp(`^rgb\\(${dt},${dt},${dt}\\)$`),fs=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${Zt}\\)$`),ds=new RegExp(`^rgba\\(${dt},${dt},${dt},${Zt}\\)$`),ps=new RegExp(`^hsl\\(${Zt},${dt},${dt}\\)$`),gs=new RegExp(`^hsla\\(${Zt},${dt},${dt},${Zt}\\)$`),Un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dn(ie,te,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xn,formatHex:Xn,formatHex8:ms,formatHsl:ys,formatRgb:Vn,toString:Vn});function Xn(){return this.rgb().formatHex()}function ms(){return this.rgb().formatHex8()}function ys(){return Ar(this).formatHsl()}function Vn(){return this.rgb().formatRgb()}function te(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=cs.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Wn(e):n===3?new rt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=us.exec(t))?new rt(e[1],e[2],e[3],1):(e=hs.exec(t))?new rt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fs.exec(t))?fe(e[1],e[2],e[3],e[4]):(e=ds.exec(t))?fe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ps.exec(t))?Kn(e[1],e[2]/100,e[3]/100,1):(e=gs.exec(t))?Kn(e[1],e[2]/100,e[3]/100,e[4]):Un.hasOwnProperty(t)?Wn(Un[t]):t==="transparent"?new rt(NaN,NaN,NaN,0):null}function Wn(t){return new rt(t>>16&255,t>>8&255,t&255,1)}function fe(t,e,n,r){return r<=0&&(t=e=n=NaN),new rt(t,e,n,r)}function vs(t){return t instanceof ie||(t=te(t)),t?(t=t.rgb(),new rt(t.r,t.g,t.b,t.opacity)):new rt}function en(t,e,n,r){return arguments.length===1?vs(t):new rt(t,e,n,r??1)}function rt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dn(rt,en,kr(ie,{brighter(t){return t=t==null?Se:Math.pow(Se,t),new rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qt:Math.pow(Qt,t),new rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rt(kt(this.r),kt(this.g),kt(this.b),Ee(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yn,formatHex:Yn,formatHex8:ws,formatRgb:Jn,toString:Jn}));function Yn(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function ws(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jn(){const t=Ee(this.opacity);return`${t===1?"rgb(":"rgba("}${kt(this.r)}, ${kt(this.g)}, ${kt(this.b)}${t===1?")":`, ${t})`}`}function Ee(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function kt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nt(t){return t=kt(t),(t<16?"0":"")+t.toString(16)}function Kn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new st(t,e,n,r)}function Ar(t){if(t instanceof st)return new st(t.h,t.s,t.l,t.opacity);if(t instanceof ie||(t=te(t)),!t)return new st;if(t instanceof st)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new st(s,l,c,t.opacity)}function xs(t,e,n,r){return arguments.length===1?Ar(t):new st(t,e,n,r??1)}function st(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dn(st,xs,kr(ie,{brighter(t){return t=t==null?Se:Math.pow(Se,t),new st(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qt:Math.pow(Qt,t),new st(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new rt(We(t>=240?t-240:t+120,i,r),We(t,i,r),We(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new st(Qn(this.h),de(this.s),de(this.l),Ee(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ee(this.opacity);return`${t===1?"hsl(":"hsla("}${Qn(this.h)}, ${de(this.s)*100}%, ${de(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Qn(t){return t=(t||0)%360,t<0?t+360:t}function de(t){return Math.max(0,Math.min(1,t||0))}function We(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ir=t=>()=>t;function _s(t,e){return function(n){return t+n*e}}function bs(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ss(t){return(t=+t)==1?Tr:function(e,n){return n-e?bs(e,n,t):Ir(isNaN(e)?n:e)}}function Tr(t,e){var n=e-t;return n?_s(t,n):Ir(isNaN(t)?e:t)}const Zn=function t(e){var n=Ss(e);function r(i,o){var s=n((i=en(i)).r,(o=en(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),a=Tr(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=l(u),i.b=c(u),i.opacity=a(u),i+""}}return r.gamma=t,r}(1);function _t(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var nn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ye=new RegExp(nn.source,"g");function Es(t){return function(){return t}}function Cs(t){return function(e){return t(e)+""}}function Ns(t,e){var n=nn.lastIndex=Ye.lastIndex=0,r,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=nn.exec(t))&&(i=Ye.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:_t(r,i)})),n=Ye.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?Cs(c[0].x):Es(e):(e=c.length,function(a){for(var u=0,p;u<e;++u)l[(p=c[u]).i]=p.x(a);return l.join("")})}var tr=180/Math.PI,rn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Br(t,e,n,r,i,o){var s,l,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*tr,skewX:Math.atan(c)*tr,scaleX:s,scaleY:l}}var pe;function ks(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?rn:Br(e.a,e.b,e.c,e.d,e.e,e.f)}function As(t){return t==null||(pe||(pe=document.createElementNS("http://www.w3.org/2000/svg","g")),pe.setAttribute("transform",t),!(t=pe.transform.baseVal.consolidate()))?rn:(t=t.matrix,Br(t.a,t.b,t.c,t.d,t.e,t.f))}function Lr(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function o(a,u,p,d,f,x){if(a!==p||u!==d){var w=f.push("translate(",null,e,null,n);x.push({i:w-4,x:_t(a,p)},{i:w-2,x:_t(u,d)})}else(p||d)&&f.push("translate("+p+e+d+n)}function s(a,u,p,d){a!==u?(a-u>180?u+=360:u-a>180&&(a+=360),d.push({i:p.push(i(p)+"rotate(",null,r)-2,x:_t(a,u)})):u&&p.push(i(p)+"rotate("+u+r)}function l(a,u,p,d){a!==u?d.push({i:p.push(i(p)+"skewX(",null,r)-2,x:_t(a,u)}):u&&p.push(i(p)+"skewX("+u+r)}function c(a,u,p,d,f,x){if(a!==p||u!==d){var w=f.push(i(f)+"scale(",null,",",null,")");x.push({i:w-4,x:_t(a,p)},{i:w-2,x:_t(u,d)})}else(p!==1||d!==1)&&f.push(i(f)+"scale("+p+","+d+")")}return function(a,u){var p=[],d=[];return a=t(a),u=t(u),o(a.translateX,a.translateY,u.translateX,u.translateY,p,d),s(a.rotate,u.rotate,p,d),l(a.skewX,u.skewX,p,d),c(a.scaleX,a.scaleY,u.scaleX,u.scaleY,p,d),a=u=null,function(f){for(var x=-1,w=d.length,v;++x<w;)p[(v=d[x]).i]=v.x(f);return p.join("")}}}var Is=Lr(ks,"px, ","px)","deg)"),Ts=Lr(As,", ",")",")"),Pt=0,Vt=0,Ut=0,$r=1e3,Ce,Wt,Ne=0,It=0,$e=0,ee=typeof performance=="object"&&performance.now?performance:Date,Mr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pn(){return It||(Mr(Bs),It=ee.now()+$e)}function Bs(){It=0}function ke(){this._call=this._time=this._next=null}ke.prototype=gn.prototype={constructor:ke,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?pn():+n)+(e==null?0:+e),!this._next&&Wt!==this&&(Wt?Wt._next=this:Ce=this,Wt=this),this._call=t,this._time=n,on()},stop:function(){this._call&&(this._call=null,this._time=1/0,on())}};function gn(t,e,n){var r=new ke;return r.restart(t,e,n),r}function Ls(){pn(),++Pt;for(var t=Ce,e;t;)(e=It-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Pt}function er(){It=(Ne=ee.now())+$e,Pt=Vt=0;try{Ls()}finally{Pt=0,Ms(),It=0}}function $s(){var t=ee.now(),e=t-Ne;e>$r&&($e-=e,Ne=t)}function Ms(){for(var t,e=Ce,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ce=n);Wt=t,on(r)}function on(t){if(!Pt){Vt&&(Vt=clearTimeout(Vt));var e=t-It;e>24?(t<1/0&&(Vt=setTimeout(er,t-ee.now()-$e)),Ut&&(Ut=clearInterval(Ut))):(Ut||(Ne=ee.now(),Ut=setInterval($s,$r)),Pt=1,Mr(er))}}function nr(t,e,n){var r=new ke;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var js=Be("start","end","cancel","interrupt"),Ps=[],jr=0,rr=1,sn=2,we=3,ir=4,an=5,xe=6;function Me(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Ds(t,n,{name:e,index:r,group:i,on:js,tween:Ps,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:jr})}function mn(t,e){var n=at(t,e);if(n.state>jr)throw new Error("too late; already scheduled");return n}function gt(t,e){var n=at(t,e);if(n.state>we)throw new Error("too late; already running");return n}function at(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ds(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=gn(o,0,n.time);function o(a){n.state=rr,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var u,p,d,f;if(n.state!==rr)return c();for(u in r)if(f=r[u],f.name===n.name){if(f.state===we)return nr(s);f.state===ir?(f.state=xe,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=xe,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if(nr(function(){n.state===we&&(n.state=ir,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=sn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===sn){for(n.state=we,i=new Array(d=n.tween.length),u=0,p=-1;u<d;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=f);i.length=p+1}}function l(a){for(var u=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(c),n.state=an,1),p=-1,d=i.length;++p<d;)i[p].call(t,u);n.state===an&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=xe,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function Fs(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>sn&&r.state<an,r.state=xe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Rs(t){return this.each(function(){Fs(this,t)})}function Hs(t,e){var n,r;return function(){var i=gt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Os(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=gt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},c=0,a=i.length;c<a;++c)if(i[c].name===e){i[c]=l;break}c===a&&i.push(l)}o.tween=i}}function qs(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=at(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Hs:Os)(n,t,e))}function yn(t,e,n){var r=t._id;return t.each(function(){var i=gt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return at(i,r).value[e]}}function Pr(t,e){var n;return(typeof e=="number"?_t:e instanceof te?Zn:(n=te(e))?(e=n,Zn):Ns)(t,e)}function zs(t){return function(){this.removeAttribute(t)}}function Gs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Us(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Xs(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Vs(t,e,n){var r,i,o;return function(){var s,l=n(this),c;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=l+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,l)))}}function Ws(t,e,n){var r,i,o;return function(){var s,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=l+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,l)))}}function Ys(t,e){var n=Le(t),r=n==="transform"?Ts:Pr;return this.attrTween(t,typeof e=="function"?(n.local?Ws:Vs)(n,r,yn(this,"attr."+t,e)):e==null?(n.local?Gs:zs)(n):(n.local?Xs:Us)(n,r,e))}function Js(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ks(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Qs(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ks(t,o)),n}return i._value=e,i}function Zs(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Js(t,o)),n}return i._value=e,i}function ta(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Le(t);return this.tween(n,(r.local?Qs:Zs)(r,e))}function ea(t,e){return function(){mn(this,t).delay=+e.apply(this,arguments)}}function na(t,e){return e=+e,function(){mn(this,t).delay=e}}function ra(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ea:na)(e,t)):at(this.node(),e).delay}function ia(t,e){return function(){gt(this,t).duration=+e.apply(this,arguments)}}function oa(t,e){return e=+e,function(){gt(this,t).duration=e}}function sa(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ia:oa)(e,t)):at(this.node(),e).duration}function aa(t,e){if(typeof e!="function")throw new Error;return function(){gt(this,t).ease=e}}function la(t){var e=this._id;return arguments.length?this.each(aa(e,t)):at(this.node(),e).ease}function ca(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;gt(this,t).ease=n}}function ua(t){if(typeof t!="function")throw new Error;return this.each(ca(this._id,t))}function ha(t){typeof t!="function"&&(t=vr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],c,a=0;a<s;++a)(c=o[a])&&t.call(c,c.__data__,a,o)&&l.push(c);return new wt(r,this._parents,this._name,this._id)}function fa(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var c=e[l],a=n[l],u=c.length,p=s[l]=new Array(u),d,f=0;f<u;++f)(d=c[f]||a[f])&&(p[f]=d);for(;l<r;++l)s[l]=e[l];return new wt(s,this._parents,this._name,this._id)}function da(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function pa(t,e,n){var r,i,o=da(e)?mn:gt;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function ga(t,e){var n=this._id;return arguments.length<2?at(this.node(),n).on.on(t):this.each(pa(n,t,e))}function ma(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ya(){return this.on("end.remove",ma(this._id))}function va(t){var e=this._name,n=this._id;typeof t!="function"&&(t=un(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],c=l.length,a=o[s]=new Array(c),u,p,d=0;d<c;++d)(u=l[d])&&(p=t.call(u,u.__data__,d,l))&&("__data__"in u&&(p.__data__=u.__data__),a[d]=p,Me(a[d],e,n,d,a,at(u,n)));return new wt(o,this._parents,e,n)}function wa(t){var e=this._name,n=this._id;typeof t!="function"&&(t=yr(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var c=r[l],a=c.length,u,p=0;p<a;++p)if(u=c[p]){for(var d=t.call(u,u.__data__,p,c),f,x=at(u,n),w=0,v=d.length;w<v;++w)(f=d[w])&&Me(f,e,n,w,d,x);o.push(d),s.push(u)}return new wt(o,s,e,n)}var xa=re.prototype.constructor;function _a(){return new xa(this._groups,this._parents)}function ba(t,e){var n,r,i;return function(){var o=jt(this,t),s=(this.style.removeProperty(t),jt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function Dr(t){return function(){this.style.removeProperty(t)}}function Sa(t,e,n){var r,i=n+"",o;return function(){var s=jt(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Ea(t,e,n){var r,i,o;return function(){var s=jt(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),jt(this,t))),s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,l))}}function Ca(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var c=gt(this,t),a=c.on,u=c.value[o]==null?l||(l=Dr(e)):void 0;(a!==n||i!==u)&&(r=(n=a).copy()).on(s,i=u),c.on=r}}function Na(t,e,n){var r=(t+="")=="transform"?Is:Pr;return e==null?this.styleTween(t,ba(t,r)).on("end.style."+t,Dr(t)):typeof e=="function"?this.styleTween(t,Ea(t,r,yn(this,"style."+t,e))).each(Ca(this._id,t)):this.styleTween(t,Sa(t,r,e),n).on("end.style."+t,null)}function ka(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Aa(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&ka(t,s,n)),r}return o._value=e,o}function Ia(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Aa(t,e,n??""))}function Ta(t){return function(){this.textContent=t}}function Ba(t){return function(){var e=t(this);this.textContent=e??""}}function La(t){return this.tween("text",typeof t=="function"?Ba(yn(this,"text",t)):Ta(t==null?"":t+""))}function $a(t){return function(e){this.textContent=t.call(this,e)}}function Ma(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&$a(i)),e}return r._value=t,r}function ja(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ma(t))}function Pa(){for(var t=this._name,e=this._id,n=Fr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,c,a=0;a<l;++a)if(c=s[a]){var u=at(c,e);Me(c,t,n,a,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new wt(r,this._parents,t,n)}function Da(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},c={value:function(){--i===0&&o()}};n.each(function(){var a=gt(this,r),u=a.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),a.on=e}),i===0&&o()})}var Fa=0;function wt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Fr(){return++Fa}var yt=re.prototype;wt.prototype={constructor:wt,select:va,selectAll:wa,selectChild:yt.selectChild,selectChildren:yt.selectChildren,filter:ha,merge:fa,selection:_a,transition:Pa,call:yt.call,nodes:yt.nodes,node:yt.node,size:yt.size,empty:yt.empty,each:yt.each,on:ga,attr:Ys,attrTween:ta,style:Na,styleTween:Ia,text:La,textTween:ja,remove:ya,tween:qs,delay:ra,duration:sa,ease:la,easeVarying:ua,end:Da,[Symbol.iterator]:yt[Symbol.iterator]};function Ra(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ha={time:null,delay:0,duration:250,ease:Ra};function Oa(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function qa(t){var e,n;t instanceof wt?(e=t._id,t=t._name):(e=Fr(),(n=Ha).time=pn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,c,a=0;a<l;++a)(c=s[a])&&Me(c,t,e,a,s,n||Oa(c,e));return new wt(r,this._parents,t,e)}re.prototype.interrupt=Rs;re.prototype.transition=qa;function or(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,s=n.length,l,c=0,a=0;for(o=0;o<s;++o)l=n[o],c+=l.x,a+=l.y;for(c=(c/s-t)*r,a=(a/s-e)*r,o=0;o<s;++o)l=n[o],l.x-=c,l.y-=a}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function za(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Rr(this.cover(e,n),e,n,t)}function Rr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,s={data:r},l=t._x0,c=t._y0,a=t._x1,u=t._y1,p,d,f,x,w,v,_,b;if(!o)return t._root=s,t;for(;o.length;)if((w=e>=(p=(l+a)/2))?l=p:a=p,(v=n>=(d=(c+u)/2))?c=d:u=d,i=o,!(o=o[_=v<<1|w]))return i[_]=s,t;if(f=+t._x.call(null,o.data),x=+t._y.call(null,o.data),e===f&&n===x)return s.next=o,i?i[_]=s:t._root=s,t;do i=i?i[_]=new Array(4):t._root=new Array(4),(w=e>=(p=(l+a)/2))?l=p:a=p,(v=n>=(d=(c+u)/2))?c=d:u=d;while((_=v<<1|w)===(b=(x>=d)<<1|f>=p));return i[b]=o,i[_]=s,t}function Ga(t){var e,n,r=t.length,i,o,s=new Array(r),l=new Array(r),c=1/0,a=1/0,u=-1/0,p=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,l[n]=o,i<c&&(c=i),i>u&&(u=i),o<a&&(a=o),o>p&&(p=o));if(c>u||a>p)return this;for(this.cover(c,a).cover(u,p),n=0;n<r;++n)Rr(this,s[n],l[n],t[n]);return this}function Ua(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s=i-n||1,l=this._root,c,a;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,c=new Array(4),c[a]=l,l=c,s*=2,a){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Xa(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Va(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function tt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Wa(t,e,n){var r,i=this._x0,o=this._y0,s,l,c,a,u=this._x1,p=this._y1,d=[],f=this._root,x,w;for(f&&d.push(new tt(f,i,o,u,p)),n==null?n=1/0:(i=t-n,o=e-n,u=t+n,p=e+n,n*=n);x=d.pop();)if(!(!(f=x.node)||(s=x.x0)>u||(l=x.y0)>p||(c=x.x1)<i||(a=x.y1)<o))if(f.length){var v=(s+c)/2,_=(l+a)/2;d.push(new tt(f[3],v,_,c,a),new tt(f[2],s,_,v,a),new tt(f[1],v,l,c,_),new tt(f[0],s,l,v,_)),(w=(e>=_)<<1|t>=v)&&(x=d[d.length-1],d[d.length-1]=d[d.length-1-w],d[d.length-1-w]=x)}else{var b=t-+this._x.call(null,f.data),B=e-+this._y.call(null,f.data),m=b*b+B*B;if(m<n){var T=Math.sqrt(n=m);i=t-T,o=e-T,u=t+T,p=e+T,r=f.data}}return r}function Ya(t){if(isNaN(u=+this._x.call(null,t))||isNaN(p=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,s=this._x0,l=this._y0,c=this._x1,a=this._y1,u,p,d,f,x,w,v,_;if(!n)return this;if(n.length)for(;;){if((x=u>=(d=(s+c)/2))?s=d:c=d,(w=p>=(f=(l+a)/2))?l=f:a=f,e=n,!(n=n[v=w<<1|x]))return this;if(!n.length)break;(e[v+1&3]||e[v+2&3]||e[v+3&3])&&(r=e,_=v)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[v]=o:delete e[v],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[_]=n:this._root=n),this):(this._root=o,this)}function Ja(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Ka(){return this._root}function Qa(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Za(t){var e=[],n,r=this._root,i,o,s,l,c;for(r&&e.push(new tt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,s=n.y0,l=n.x1,c=n.y1)&&r.length){var a=(o+l)/2,u=(s+c)/2;(i=r[3])&&e.push(new tt(i,a,u,l,c)),(i=r[2])&&e.push(new tt(i,o,u,a,c)),(i=r[1])&&e.push(new tt(i,a,s,l,u)),(i=r[0])&&e.push(new tt(i,o,s,a,u))}return this}function tl(t){var e=[],n=[],r;for(this._root&&e.push(new tt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,s=r.x0,l=r.y0,c=r.x1,a=r.y1,u=(s+c)/2,p=(l+a)/2;(o=i[0])&&e.push(new tt(o,s,l,u,p)),(o=i[1])&&e.push(new tt(o,u,l,c,p)),(o=i[2])&&e.push(new tt(o,s,p,u,a)),(o=i[3])&&e.push(new tt(o,u,p,c,a))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function el(t){return t[0]}function nl(t){return arguments.length?(this._x=t,this):this._x}function rl(t){return t[1]}function il(t){return arguments.length?(this._y=t,this):this._y}function vn(t,e,n){var r=new wn(e??el,n??rl,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function wn(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function sr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var nt=vn.prototype=wn.prototype;nt.copy=function(){var t=new wn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=sr(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=sr(r));return t};nt.add=za;nt.addAll=Ga;nt.cover=Ua;nt.data=Xa;nt.extent=Va;nt.find=Wa;nt.remove=Ya;nt.removeAll=Ja;nt.root=Ka;nt.size=Qa;nt.visit=Za;nt.visitAfter=tl;nt.x=nl;nt.y=il;function At(t){return function(){return t}}function bt(t){return(t()-.5)*1e-6}function ol(t){return t.x+t.vx}function sl(t){return t.y+t.vy}function al(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=At(t==null?1:+t));function s(){for(var a,u=e.length,p,d,f,x,w,v,_=0;_<o;++_)for(p=vn(e,ol,sl).visitAfter(l),a=0;a<u;++a)d=e[a],w=n[d.index],v=w*w,f=d.x+d.vx,x=d.y+d.vy,p.visit(b);function b(B,m,T,F,j){var P=B.data,U=B.r,H=w+U;if(P){if(P.index>d.index){var q=f-P.x-P.vx,L=x-P.y-P.vy,G=q*q+L*L;G<H*H&&(q===0&&(q=bt(r),G+=q*q),L===0&&(L=bt(r),G+=L*L),G=(H-(G=Math.sqrt(G)))/G*i,d.vx+=(q*=G)*(H=(U*=U)/(v+U)),d.vy+=(L*=G)*H,P.vx-=q*(H=1-H),P.vy-=L*H)}return}return m>f+H||F<f-H||T>x+H||j<x-H}}function l(a){if(a.data)return a.r=n[a.data.index];for(var u=a.r=0;u<4;++u)a[u]&&a[u].r>a.r&&(a.r=a[u].r)}function c(){if(e){var a,u=e.length,p;for(n=new Array(u),a=0;a<u;++a)p=e[a],n[p.index]=+t(p,a,e)}}return s.initialize=function(a,u){e=a,r=u,c()},s.iterations=function(a){return arguments.length?(o=+a,s):o},s.strength=function(a){return arguments.length?(i=+a,s):i},s.radius=function(a){return arguments.length?(t=typeof a=="function"?a:At(+a),c(),s):t},s}function ll(t){return t.index}function ar(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function cl(t){var e=ll,n=p,r,i=At(30),o,s,l,c,a,u=1;t==null&&(t=[]);function p(v){return 1/Math.min(l[v.source.index],l[v.target.index])}function d(v){for(var _=0,b=t.length;_<u;++_)for(var B=0,m,T,F,j,P,U,H;B<b;++B)m=t[B],T=m.source,F=m.target,j=F.x+F.vx-T.x-T.vx||bt(a),P=F.y+F.vy-T.y-T.vy||bt(a),U=Math.sqrt(j*j+P*P),U=(U-o[B])/U*v*r[B],j*=U,P*=U,F.vx-=j*(H=c[B]),F.vy-=P*H,T.vx+=j*(H=1-H),T.vy+=P*H}function f(){if(s){var v,_=s.length,b=t.length,B=new Map(s.map((T,F)=>[e(T,F,s),T])),m;for(v=0,l=new Array(_);v<b;++v)m=t[v],m.index=v,typeof m.source!="object"&&(m.source=ar(B,m.source)),typeof m.target!="object"&&(m.target=ar(B,m.target)),l[m.source.index]=(l[m.source.index]||0)+1,l[m.target.index]=(l[m.target.index]||0)+1;for(v=0,c=new Array(b);v<b;++v)m=t[v],c[v]=l[m.source.index]/(l[m.source.index]+l[m.target.index]);r=new Array(b),x(),o=new Array(b),w()}}function x(){if(s)for(var v=0,_=t.length;v<_;++v)r[v]=+n(t[v],v,t)}function w(){if(s)for(var v=0,_=t.length;v<_;++v)o[v]=+i(t[v],v,t)}return d.initialize=function(v,_){s=v,a=_,f()},d.links=function(v){return arguments.length?(t=v,f(),d):t},d.id=function(v){return arguments.length?(e=v,d):e},d.iterations=function(v){return arguments.length?(u=+v,d):u},d.strength=function(v){return arguments.length?(n=typeof v=="function"?v:At(+v),x(),d):n},d.distance=function(v){return arguments.length?(i=typeof v=="function"?v:At(+v),w(),d):i},d}const ul=1664525,hl=1013904223,lr=4294967296;function fl(){let t=1;return()=>(t=(ul*t+hl)%lr)/lr}function dl(t){return t.x}function pl(t){return t.y}var gl=10,ml=Math.PI*(3-Math.sqrt(5));function yl(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,l=new Map,c=gn(p),a=Be("tick","end"),u=fl();t==null&&(t=[]);function p(){d(),a.call("tick",e),n<r&&(c.stop(),a.call("end",e))}function d(w){var v,_=t.length,b;w===void 0&&(w=1);for(var B=0;B<w;++B)for(n+=(o-n)*i,l.forEach(function(m){m(n)}),v=0;v<_;++v)b=t[v],b.fx==null?b.x+=b.vx*=s:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=s:(b.y=b.fy,b.vy=0);return e}function f(){for(var w=0,v=t.length,_;w<v;++w){if(_=t[w],_.index=w,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var b=gl*Math.sqrt(.5+w),B=w*ml;_.x=b*Math.cos(B),_.y=b*Math.sin(B)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function x(w){return w.initialize&&w.initialize(t,u),w}return f(),e={tick:d,restart:function(){return c.restart(p),e},stop:function(){return c.stop(),e},nodes:function(w){return arguments.length?(t=w,f(),l.forEach(x),e):t},alpha:function(w){return arguments.length?(n=+w,e):n},alphaMin:function(w){return arguments.length?(r=+w,e):r},alphaDecay:function(w){return arguments.length?(i=+w,e):+i},alphaTarget:function(w){return arguments.length?(o=+w,e):o},velocityDecay:function(w){return arguments.length?(s=1-w,e):1-s},randomSource:function(w){return arguments.length?(u=w,l.forEach(x),e):u},force:function(w,v){return arguments.length>1?(v==null?l.delete(w):l.set(w,x(v)),e):l.get(w)},find:function(w,v,_){var b=0,B=t.length,m,T,F,j,P;for(_==null?_=1/0:_*=_,b=0;b<B;++b)j=t[b],m=w-j.x,T=v-j.y,F=m*m+T*T,F<_&&(P=j,_=F);return P},on:function(w,v){return arguments.length>1?(a.on(w,v),e):a.on(w)}}}function vl(){var t,e,n,r,i=At(-30),o,s=1,l=1/0,c=.81;function a(f){var x,w=t.length,v=vn(t,dl,pl).visitAfter(p);for(r=f,x=0;x<w;++x)e=t[x],v.visit(d)}function u(){if(t){var f,x=t.length,w;for(o=new Array(x),f=0;f<x;++f)w=t[f],o[w.index]=+i(w,f,t)}}function p(f){var x=0,w,v,_=0,b,B,m;if(f.length){for(b=B=m=0;m<4;++m)(w=f[m])&&(v=Math.abs(w.value))&&(x+=w.value,_+=v,b+=v*w.x,B+=v*w.y);f.x=b/_,f.y=B/_}else{w=f,w.x=w.data.x,w.y=w.data.y;do x+=o[w.data.index];while(w=w.next)}f.value=x}function d(f,x,w,v){if(!f.value)return!0;var _=f.x-e.x,b=f.y-e.y,B=v-x,m=_*_+b*b;if(B*B/c<m)return m<l&&(_===0&&(_=bt(n),m+=_*_),b===0&&(b=bt(n),m+=b*b),m<s&&(m=Math.sqrt(s*m)),e.vx+=_*f.value*r/m,e.vy+=b*f.value*r/m),!0;if(f.length||m>=l)return;(f.data!==e||f.next)&&(_===0&&(_=bt(n),m+=_*_),b===0&&(b=bt(n),m+=b*b),m<s&&(m=Math.sqrt(s*m)));do f.data!==e&&(B=o[f.data.index]*r/m,e.vx+=_*B,e.vy+=b*B);while(f=f.next)}return a.initialize=function(f,x){t=f,n=x,u()},a.strength=function(f){return arguments.length?(i=typeof f=="function"?f:At(+f),u(),a):i},a.distanceMin=function(f){return arguments.length?(s=f*f,a):Math.sqrt(s)},a.distanceMax=function(f){return arguments.length?(l=f*f,a):Math.sqrt(l)},a.theta=function(f){return arguments.length?(c=f*f,a):Math.sqrt(c)},a}function wl(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function xl(){return this.eachAfter(wl)}function _l(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function bl(t,e){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(t.call(e,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function Sl(t,e){for(var n=this,r=[n],i=[],o,s,l,c=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,l=o.length;s<l;++s)r.push(o[s]);for(;n=i.pop();)t.call(e,n,++c,this);return this}function El(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function Cl(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Nl(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function kl(t){for(var e=this,n=Al(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Al(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Il(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Tl(){return Array.from(this)}function Bl(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Ll(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*$l(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function xn(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Pl)):e===void 0&&(e=jl);for(var n=new ne(t),r,i=[n],o,s,l,c;r=i.pop();)if((s=e(r.data))&&(c=(s=Array.from(s)).length))for(r.children=s,l=c-1;l>=0;--l)i.push(o=s[l]=new ne(s[l])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(Fl)}function Ml(){return xn(this).eachBefore(Dl)}function jl(t){return t.children}function Pl(t){return Array.isArray(t)?t[1]:null}function Dl(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Fl(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ne(t){this.data=t,this.depth=this.height=0,this.parent=null}ne.prototype=xn.prototype={constructor:ne,count:xl,each:_l,eachAfter:Sl,eachBefore:bl,find:El,sum:Cl,sort:Nl,path:kl,ancestors:Il,descendants:Tl,leaves:Bl,links:Ll,copy:Ml,[Symbol.iterator]:$l};function Rl(t,e){return t.parent===e.parent?1:2}function Je(t){var e=t.children;return e?e[0]:t.t}function Ke(t){var e=t.children;return e?e[e.length-1]:t.t}function Hl(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Ol(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function ql(t,e,n){return t.a.parent===e.parent?t.a:n}function _e(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}_e.prototype=Object.create(ne.prototype);function zl(t){for(var e=new _e(t,0),n,r=[e],i,o,s,l;n=r.pop();)if(o=n._.children)for(n.children=new Array(l=o.length),s=l-1;s>=0;--s)r.push(i=n.children[s]=new _e(o[s],s)),i.parent=n;return(e.parent=new _e(null,0)).children=[e],e}function Gl(){var t=Rl,e=1,n=1,r=null;function i(a){var u=zl(a);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),r)a.eachBefore(c);else{var p=a,d=a,f=a;a.eachBefore(function(b){b.x<p.x&&(p=b),b.x>d.x&&(d=b),b.depth>f.depth&&(f=b)});var x=p===d?1:t(p,d)/2,w=x-p.x,v=e/(d.x+x+w),_=n/(f.depth||1);a.eachBefore(function(b){b.x=(b.x+w)*v,b.y=b.depth*_})}return a}function o(a){var u=a.children,p=a.parent.children,d=a.i?p[a.i-1]:null;if(u){Ol(a);var f=(u[0].z+u[u.length-1].z)/2;d?(a.z=d.z+t(a._,d._),a.m=a.z-f):a.z=f}else d&&(a.z=d.z+t(a._,d._));a.parent.A=l(a,d,a.parent.A||p[0])}function s(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function l(a,u,p){if(u){for(var d=a,f=a,x=u,w=d.parent.children[0],v=d.m,_=f.m,b=x.m,B=w.m,m;x=Ke(x),d=Je(d),x&&d;)w=Je(w),f=Ke(f),f.a=a,m=x.z+b-d.z-v+t(x._,d._),m>0&&(Hl(ql(x,a,p),a,m),v+=m,_+=m),b+=x.m,v+=d.m,B+=w.m,_+=f.m;x&&!Ke(f)&&(f.t=x,f.m+=b-_),d&&!Je(w)&&(w.t=d,w.m+=v-B,p=a)}return p}function c(a){a.x*=e,a.y=a.depth*n}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}function Yt(t,e,n){this.k=t,this.x=e,this.y=n}Yt.prototype={constructor:Yt,scale:function(t){return t===1?this:new Yt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Yt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Yt.prototype;/*!
 * Intro.js v7.2.0
 * https://introjs.com
 *
 * Copyright (C) 2012-2023 Afshin Mehrabani (@afshinmeh).
 * https://introjs.com
 *
 * Date: Mon, 14 Aug 2023 19:47:14 GMT
 */function Ae(t){return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(t)}function X(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(a){try{c(r.next(a))}catch(u){o(u)}}function l(a){try{c(r.throw(a))}catch(u){o(u)}}function c(a){var u;a.done?i(a.value):(u=a.value,u instanceof n?u:new n(function(p){p(u)})).then(s,l)}c((r=r.apply(t,[])).next())})}function V(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,r=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){s=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(u[0]===6&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(p){u=[6,p],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([c,a])}}}function cr(t,e,n){var r,i=((r={})[t]=e,r.path="/",r.expires=void 0,r);if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i.expires=o.toUTCString()}var s=[];for(var l in i)s.push("".concat(l,"=").concat(i[l]));return document.cookie=s.join("; "),Hr(t)}function Hr(t){return(e={},document.cookie.split(";").forEach(function(n){var r=n.split("="),i=r[0],o=r[1];e[i.trim()]=o}),e)[t];var e}function Ul(t,e){e?cr(t._options.dontShowAgainCookie,"true",t._options.dontShowAgainCookieDays):cr(t._options.dontShowAgainCookie,"",-1)}var ge,ln=(ge={},function(t,e){return e===void 0&&(e="introjs-stamp"),ge[e]=ge[e]||0,t[e]===void 0&&(t[e]=ge[e]++),t[e]}),pt=new(function(){function t(){this.events_key="introjs_event"}return t.prototype._id=function(e,n,r){return e+ln(n)+(r?"_".concat(ln(r)):"")},t.prototype.on=function(e,n,r,i,o){var s=this._id(n,r,i),l=function(c){return r(i||e,c||window.event)};"addEventListener"in e?e.addEventListener(n,l,o):"attachEvent"in e&&e.attachEvent("on".concat(n),l),e[this.events_key]=e[this.events_key]||{},e[this.events_key][s]=l},t.prototype.off=function(e,n,r,i,o){var s=this._id(n,r,i),l=e[this.events_key]&&e[this.events_key][s];l&&("removeEventListener"in e?e.removeEventListener(n,l,o):"detachEvent"in e&&e.detachEvent("on".concat(n),l),e[this.events_key][s]=null)},t}()),W=function(t){return typeof t=="function"};function ft(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";n.match(e)||t.setAttribute("class","".concat(n," ").concat(e))}else if(t.classList!==void 0)for(var r=0,i=e.split(" ");r<i.length;r++){var o=i[r];t.classList.add(o)}else t.className.match(e)||(t.className+=" ".concat(e))}function _n(t,e){var n="";return"currentStyle"in t?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function ur(t,e){if(t){var n=function(r){var i=window.getComputedStyle(r),o=i.position==="absolute",s=/(auto|scroll)/;if(i.position==="fixed")return document.body;for(var l=r;l=l.parentElement;)if(i=window.getComputedStyle(l),(!o||i.position!=="static")&&s.test(i.overflow+i.overflowY+i.overflowX))return l;return document.body}(e);n!==document.body&&(n.scrollTop=e.offsetTop-n.offsetTop)}}function bn(){if(window.innerWidth!==void 0)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function hr(t,e,n,r,i){var o;if(e!=="off"&&t&&(o=e==="tooltip"?i.getBoundingClientRect():r.getBoundingClientRect(),!function(l){var c=l.getBoundingClientRect();return c.top>=0&&c.left>=0&&c.bottom+80<=window.innerHeight&&c.right<=window.innerWidth}(r))){var s=bn().height;o.bottom-(o.bottom-o.top)<0||r.clientHeight>s?window.scrollBy(0,o.top-(s/2-o.height/2)-n):window.scrollBy(0,o.top-(s/2-o.height/2)+n)}}function Jt(t){t.setAttribute("role","button"),t.tabIndex=0}function je(t){var e=t.parentElement;return!(!e||e.nodeName==="HTML")&&(_n(t,"position")==="fixed"||je(e))}function Dt(t,e){var n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,o=window.pageXOffset||r.scrollLeft||n.scrollLeft;e=e||n;var s=t.getBoundingClientRect(),l=e.getBoundingClientRect(),c=_n(e,"position"),a={width:s.width,height:s.height};return e.tagName.toLowerCase()!=="body"&&c==="relative"||c==="sticky"?Object.assign(a,{top:s.top-l.top,left:s.left-l.left}):je(t)?Object.assign(a,{top:s.top,left:s.left}):Object.assign(a,{top:s.top+i,left:s.left+o})}function Sn(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function St(t,e){var n="";if(t.style.cssText&&(n+=t.style.cssText),typeof e=="string")n+=e;else for(var r in e)n+="".concat(r,":").concat(e[r],";");t.style.cssText=n}function vt(t,e,n){if(n&&e){var r=Dt(e.element,t._targetElement),i=t._options.helperElementPadding;e.element instanceof Element&&je(e.element)?ft(n,"introjs-fixedTooltip"):Sn(n,"introjs-fixedTooltip"),e.position==="floating"&&(i=0),St(n,{width:"".concat(r.width+i,"px"),height:"".concat(r.height+i,"px"),top:"".concat(r.top-i/2,"px"),left:"".concat(r.left-i/2,"px")})}}function me(t,e,n,r,i){return t.left+e+n.width>r.width?(i.style.left="".concat(r.width-n.width-t.left,"px"),!1):(i.style.left="".concat(e,"px"),!0)}function ye(t,e,n,r){return t.left+t.width-e-n.width<0?(r.style.left="".concat(-t.left,"px"),!1):(r.style.right="".concat(e,"px"),!0)}function ut(t,e){t.includes(e)&&t.splice(t.indexOf(e),1)}function Xl(t,e,n,r){var i=t.slice(),o=bn(),s=Dt(n).height+10,l=Dt(n).width+20,c=e.getBoundingClientRect(),a="floating";if(c.bottom+s>o.height&&ut(i,"bottom"),c.top-s<0&&ut(i,"top"),c.right+l>o.width&&ut(i,"right"),c.left-l<0&&ut(i,"left"),r&&(r=r.split("-")[0]),i.length&&(a=i[0],i.includes(r)&&(a=r)),a==="top"||a==="bottom"){var u=void 0,p=[];a==="top"?(u="top-middle-aligned",p=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(u="bottom-middle-aligned",p=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),a=function(d,f,x,w){var v=f/2,_=Math.min(x,window.screen.width);return _-d<f&&(ut(w,"top-left-aligned"),ut(w,"bottom-left-aligned")),(d<v||_-d<v)&&(ut(w,"top-middle-aligned"),ut(w,"bottom-middle-aligned")),d<f&&(ut(w,"top-right-aligned"),ut(w,"bottom-right-aligned")),w.length?w[0]:null}(c.left,l,o.width,p)||u}return a}function Ie(t,e,n,r,i){if(i===void 0&&(i=!1),e){var o,s,l,c,a="";n.style.top="",n.style.right="",n.style.bottom="",n.style.left="",n.style.marginLeft="",n.style.marginTop="",r.style.display="inherit",a=typeof e.tooltipClass=="string"?e.tooltipClass:t._options.tooltipClass,n.className=["introjs-tooltip",a].filter(Boolean).join(" "),n.setAttribute("role","dialog"),(c=e.position)!=="floating"&&t._options.autoPosition&&(c=Xl(t._options.positionPrecedence,e.element,n,c)),s=Dt(e.element),o=Dt(n),l=bn(),ft(n,"introjs-".concat(c));var u=s.width/2-o.width/2;switch(c){case"top-right-aligned":r.className="introjs-arrow bottom-right";var p=0;ye(s,p,o,n),n.style.bottom="".concat(s.height+20,"px");break;case"top-middle-aligned":r.className="introjs-arrow bottom-middle",i&&(u+=5),ye(s,u,o,n)&&(n.style.right="",me(s,u,o,l,n)),n.style.bottom="".concat(s.height+20,"px");break;case"top-left-aligned":case"top":r.className="introjs-arrow bottom",me(s,i?0:15,o,l,n),n.style.bottom="".concat(s.height+20,"px");break;case"right":n.style.left="".concat(s.width+20,"px"),s.top+o.height>l.height?(r.className="introjs-arrow left-bottom",n.style.top="-".concat(o.height-s.height-20,"px")):r.className="introjs-arrow left";break;case"left":i||t._options.showStepNumbers!==!0||(n.style.top="15px"),s.top+o.height>l.height?(n.style.top="-".concat(o.height-s.height-20,"px"),r.className="introjs-arrow right-bottom"):r.className="introjs-arrow right",n.style.right="".concat(s.width+20,"px");break;case"floating":r.style.display="none",n.style.left="50%",n.style.top="50%",n.style.marginLeft="-".concat(o.width/2,"px"),n.style.marginTop="-".concat(o.height/2,"px");break;case"bottom-right-aligned":r.className="introjs-arrow top-right",ye(s,p=0,o,n),n.style.top="".concat(s.height+20,"px");break;case"bottom-middle-aligned":r.className="introjs-arrow top-middle",i&&(u+=5),ye(s,u,o,n)&&(n.style.right="",me(s,u,o,l,n)),n.style.top="".concat(s.height+20,"px");break;default:r.className="introjs-arrow top",me(s,0,o,l,n),n.style.top="".concat(s.height+20,"px")}}}function Or(){for(var t=0,e=Array.from(document.querySelectorAll(".introjs-showElement"));t<e.length;t++)Sn(e[t],/introjs-[a-zA-Z]+/g)}function z(t,e){var n=document.createElement(t);e=e||{};var r=/^(?:role|data-|aria-)/;for(var i in e){var o=e[i];i==="style"&&typeof o!="function"?St(n,o):typeof o=="string"&&i.match(r)?n.setAttribute(i,o):n[i]=o}return n}function fr(t,e,n){if(n===void 0&&(n=!1),n){var r=e.style.opacity||"1";St(e,{opacity:"0"}),window.setTimeout(function(){St(e,{opacity:r})},10)}t.appendChild(e)}function qr(t,e){return(t+1)/e*100}function zr(t,e){var n=z("div",{className:"introjs-bullets"});t._options.showBullets===!1&&(n.style.display="none");var r=z("ul");r.setAttribute("role","tablist");for(var i=function(){var a=this.getAttribute("data-step-number");a!=null&&t.goToStep(parseInt(a,10))},o=0;o<t._introItems.length;o++){var s=t._introItems[o].step,l=z("li"),c=z("a");l.setAttribute("role","presentation"),c.setAttribute("role","tab"),c.onclick=i,o===e.step-1&&(c.className="active"),Jt(c),c.innerHTML="&nbsp;",c.setAttribute("data-step-number",s.toString()),l.appendChild(c),r.appendChild(l)}return n.appendChild(r),n}function Gr(t,e,n){var r=t.querySelector(".introjs-progress .introjs-progressbar");if(r){var i=qr(e,n);r.style.cssText="width:".concat(i,"%;"),r.setAttribute("aria-valuenow",i.toString())}}function Ur(t,e){return X(this,void 0,void 0,function(){var n,r,i,o,s,l,c,a,u,p,d,f,x,w,v,_,b,B,m,T,F,j,P,U,H=this;return V(this,function(q){switch(q.label){case 0:return W(t._introChangeCallback)?[4,t._introChangeCallback.call(t,e.element)]:[3,2];case 1:q.sent(),q.label=2;case 2:return n=document.querySelector(".introjs-helperLayer"),r=document.querySelector(".introjs-tooltipReferenceLayer"),i="introjs-helperLayer",typeof e.highlightClass=="string"&&(i+=" ".concat(e.highlightClass)),typeof t._options.highlightClass=="string"&&(i+=" ".concat(t._options.highlightClass)),n!==null&&r!==null?(c=r.querySelector(".introjs-helperNumberLayer"),a=r.querySelector(".introjs-tooltiptext"),u=r.querySelector(".introjs-tooltip-title"),p=r.querySelector(".introjs-arrow"),d=r.querySelector(".introjs-tooltip"),l=r.querySelector(".introjs-skipbutton"),s=r.querySelector(".introjs-prevbutton"),o=r.querySelector(".introjs-nextbutton"),n.className=i,d.style.opacity="0",d.style.display="none",ur(t._options.scrollToElement,e.element),vt(t,e,n),vt(t,e,r),Or(),t._lastShowElementTimer&&window.clearTimeout(t._lastShowElementTimer),t._lastShowElementTimer=window.setTimeout(function(){c!==null&&(c.innerHTML="".concat(e.step," ").concat(t._options.stepNumbersOfLabel," ").concat(t._introItems.length)),a.innerHTML=e.intro||"",u.innerHTML=e.title||"",d.style.display="block",Ie(t,e,d,p),function(L,G,O){if(L){var it=G.querySelector(".introjs-bullets li > a.active"),xt=G.querySelector('.introjs-bullets li > a[data-step-number="'.concat(O.step,'"]'));it&&xt&&(it.className="",xt.className="active")}}(t._options.showBullets,r,e),Gr(r,t._currentStep,t._introItems.length),d.style.opacity="1",(o!=null&&/introjs-donebutton/gi.test(o.className)||o!=null)&&o.focus(),hr(t._options.scrollToElement,e.scrollTo,t._options.scrollPadding,e.element,a)},350)):(f=z("div",{className:i}),x=z("div",{className:"introjs-tooltipReferenceLayer"}),w=z("div",{className:"introjs-arrow"}),v=z("div",{className:"introjs-tooltip"}),_=z("div",{className:"introjs-tooltiptext"}),b=z("div",{className:"introjs-tooltip-header"}),B=z("h1",{className:"introjs-tooltip-title"}),m=z("div"),St(f,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(t._options.overlayOpacity.toString(),") 0 0 0 5000px")}),ur(t._options.scrollToElement,e.element),vt(t,e,f),vt(t,e,x),fr(t._targetElement,f,!0),fr(t._targetElement,x),_.innerHTML=e.intro,B.innerHTML=e.title,m.className="introjs-tooltipbuttons",t._options.showButtons===!1&&(m.style.display="none"),b.appendChild(B),v.appendChild(b),v.appendChild(_),t._options.dontShowAgain&&(T=z("div",{className:"introjs-dontShowAgain"}),(F=z("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(L){t.setDontShowAgain(L.target.checked)},(j=z("label",{htmlFor:"introjs-dontShowAgain"})).innerText=t._options.dontShowAgainLabel,T.appendChild(F),T.appendChild(j),v.appendChild(T)),v.appendChild(zr(t,e)),v.appendChild(function(L){var G=z("div");G.className="introjs-progress",L._options.showProgress===!1&&(G.style.display="none");var O=z("div",{className:"introjs-progressbar"});L._options.progressBarAdditionalClass&&(O.className+=" "+L._options.progressBarAdditionalClass);var it=qr(L._currentStep,L._introItems.length);return O.setAttribute("role","progress"),O.setAttribute("aria-valuemin","0"),O.setAttribute("aria-valuemax","100"),O.setAttribute("aria-valuenow",it.toString()),O.style.cssText="width:".concat(it,"%;"),G.appendChild(O),G}(t)),P=z("div"),t._options.showStepNumbers===!0&&(P.className="introjs-helperNumberLayer",P.innerHTML="".concat(e.step," ").concat(t._options.stepNumbersOfLabel," ").concat(t._introItems.length),v.appendChild(P)),v.appendChild(w),x.appendChild(v),(o=z("a")).onclick=function(){return X(H,void 0,void 0,function(){return V(this,function(L){switch(L.label){case 0:return t._introItems.length-1===t._currentStep?[3,2]:[4,Tt(t)];case 1:return L.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(o.className)?W(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"done")]:[3,4]:[3,6];case 3:L.sent(),L.label=4;case 4:return[4,Bt(t,t._targetElement)];case 5:L.sent(),L.label=6;case 6:return[2]}})})},Jt(o),o.innerHTML=t._options.nextLabel,(s=z("a")).onclick=function(){return X(H,void 0,void 0,function(){return V(this,function(L){switch(L.label){case 0:return t._currentStep>0?[4,Te(t)]:[3,2];case 1:L.sent(),L.label=2;case 2:return[2]}})})},Jt(s),s.innerHTML=t._options.prevLabel,Jt(l=z("a",{className:"introjs-skipbutton"})),l.innerHTML=t._options.skipLabel,l.onclick=function(){return X(H,void 0,void 0,function(){return V(this,function(L){switch(L.label){case 0:return t._introItems.length-1===t._currentStep&&W(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"skip")]:[3,2];case 1:L.sent(),L.label=2;case 2:return W(t._introSkipCallback)?[4,t._introSkipCallback.call(t,t._currentStep)]:[3,4];case 3:L.sent(),L.label=4;case 4:return[4,Bt(t,t._targetElement)];case 5:return L.sent(),[2]}})})},b.appendChild(l),t._introItems.length>1&&m.appendChild(s),m.appendChild(o),v.appendChild(m),Ie(t,e,v,w),hr(t._options.scrollToElement,e.scrollTo,t._options.scrollPadding,e.element,v)),(U=t._targetElement.querySelector(".introjs-disableInteraction"))&&U.parentNode&&U.parentNode.removeChild(U),e.disableInteraction&&function(L,G){var O=document.querySelector(".introjs-disableInteraction");O===null&&(O=z("div",{className:"introjs-disableInteraction"}),L._targetElement.appendChild(O)),vt(L,G,O)}(t,e),t._currentStep===0&&t._introItems.length>1?(o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton"),o.innerHTML=t._options.nextLabel),t._options.hidePrev===!0?(s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton introjs-hidden")),o!=null&&ft(o,"introjs-fullbutton")):s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton introjs-disabled"))):t._introItems.length-1===t._currentStep||t._introItems.length===1?(s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton")),t._options.hideNext===!0?(o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton introjs-hidden")),s!=null&&ft(s,"introjs-fullbutton")):o!=null&&(t._options.nextToDone===!0?(o.innerHTML=t._options.doneLabel,ft(o,"".concat(t._options.buttonClass," introjs-nextbutton introjs-donebutton"))):o.className="".concat(t._options.buttonClass," introjs-nextbutton introjs-disabled"))):(s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton")),o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton"),o.innerHTML=t._options.nextLabel)),s!=null&&s.setAttribute("role","button"),o!=null&&o.setAttribute("role","button"),l!=null&&l.setAttribute("role","button"),o!=null&&o.focus(),function(L){ft(L,"introjs-showElement");var G=_n(L,"position");G!=="absolute"&&G!=="relative"&&G!=="sticky"&&G!=="fixed"&&ft(L,"introjs-relativePosition")}(e.element),W(t._introAfterChangeCallback)?[4,t._introAfterChangeCallback.call(t,e.element)]:[3,4];case 3:q.sent(),q.label=4;case 4:return[2]}})})}function Vl(t,e){return X(this,void 0,void 0,function(){return V(this,function(n){switch(n.label){case 0:return t._currentStep=e-2,t._introItems===void 0?[3,2]:[4,Tt(t)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function Wl(t,e){return X(this,void 0,void 0,function(){return V(this,function(n){switch(n.label){case 0:return t._currentStepNumber=e,t._introItems===void 0?[3,2]:[4,Tt(t)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function Tt(t){return X(this,void 0,void 0,function(){var e,n,r;return V(this,function(i){switch(i.label){case 0:if(t._direction="forward",t._currentStepNumber!==void 0)for(e=0;e<t._introItems.length;e++)t._introItems[e].step===t._currentStepNumber&&(t._currentStep=e-1,t._currentStepNumber=void 0);return t._currentStep===-1?t._currentStep=0:++t._currentStep,n=t._introItems[t._currentStep],r=!0,W(t._introBeforeChangeCallback)?[4,t._introBeforeChangeCallback.call(t,n&&n.element,t._currentStep,t._direction)]:[3,2];case 1:r=i.sent(),i.label=2;case 2:return r===!1?(--t._currentStep,[2,!1]):t._introItems.length<=t._currentStep?W(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"end")]:[3,4]:[3,6];case 3:i.sent(),i.label=4;case 4:return[4,Bt(t,t._targetElement)];case 5:return i.sent(),[2,!1];case 6:return[4,Ur(t,n)];case 7:return i.sent(),[2,!0]}})})}function Te(t){return X(this,void 0,void 0,function(){var e,n;return V(this,function(r){switch(r.label){case 0:return t._direction="backward",t._currentStep<=0?[2,!1]:(--t._currentStep,e=t._introItems[t._currentStep],n=!0,W(t._introBeforeChangeCallback)?[4,t._introBeforeChangeCallback.call(t,e&&e.element,t._currentStep,t._direction)]:[3,2]);case 1:n=r.sent(),r.label=2;case 2:return n===!1?(++t._currentStep,[2,!1]):[4,Ur(t,e)];case 3:return r.sent(),[2,!0]}})})}function Xr(t,e){return X(this,void 0,void 0,function(){var n,r;return V(this,function(i){switch(i.label){case 0:return(n=e.code===void 0?e.which:e.code)===null&&(n=e.charCode===null?e.keyCode:e.charCode),n!=="Escape"&&n!==27||t._options.exitOnEsc!==!0?[3,2]:[4,Bt(t,t._targetElement)];case 1:return i.sent(),[3,16];case 2:return n!=="ArrowLeft"&&n!==37?[3,4]:[4,Te(t)];case 3:return i.sent(),[3,16];case 4:return n!=="ArrowRight"&&n!==39?[3,6]:[4,Tt(t)];case 5:return i.sent(),[3,16];case 6:return n!=="Enter"&&n!=="NumpadEnter"&&n!==13?[3,16]:(r=e.target||e.srcElement)&&r.className.match("introjs-prevbutton")?[4,Te(t)]:[3,8];case 7:return i.sent(),[3,15];case 8:return r&&r.className.match("introjs-skipbutton")?t._introItems.length-1===t._currentStep&&W(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"skip")]:[3,10]:[3,12];case 9:i.sent(),i.label=10;case 10:return[4,Bt(t,t._targetElement)];case 11:return i.sent(),[3,15];case 12:return r&&r.getAttribute("data-step-number")?(r.click(),[3,15]):[3,13];case 13:return[4,Tt(t)];case 14:i.sent(),i.label=15;case 15:e.preventDefault?e.preventDefault():e.returnValue=!1,i.label=16;case 16:return[2]}})})}function En(t){if(t===null||Ae(t)!=="object"||"nodeType"in t)return t;var e={};for(var n in t)"jQuery"in window&&t[n]instanceof window.jQuery?e[n]=t[n]:e[n]=En(t[n]);return e}function Ft(t){var e=document.querySelector(".introjs-hints");return e?Array.from(e.querySelectorAll(t)):[]}function Cn(t,e){return X(this,void 0,void 0,function(){var n;return V(this,function(r){switch(r.label){case 0:return n=Ft('.introjs-hint[data-step="'.concat(e,'"]'))[0],Pe(),n&&ft(n,"introjs-hidehint"),W(t._hintCloseCallback)?[4,t._hintCloseCallback.call(t,e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}function Yl(t){return X(this,void 0,void 0,function(){var e,n,r,i,o;return V(this,function(s){switch(s.label){case 0:e=Ft(".introjs-hint"),n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],(o=i.getAttribute("data-step"))?[4,Cn(t,parseInt(o,10))]:[3,3]):[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function Jl(t){return X(this,void 0,void 0,function(){var e,n,r,i,o;return V(this,function(s){switch(s.label){case 0:if(!(e=Ft(".introjs-hint"))||!e.length)return[3,1];for(n=0,r=e;n<r.length;n++)i=r[n],(o=i.getAttribute("data-step"))&&Vr(parseInt(o,10));return[3,3];case 1:return[4,Jr(t,t._targetElement)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Vr(t){var e=Ft('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&Sn(e,/introjs-hidehint/g)}function dr(t){var e=Ft('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&e.parentNode&&e.parentNode.removeChild(e)}function Kl(t){return X(this,void 0,void 0,function(){var e,n,r,i,o,s,l;return V(this,function(c){switch(c.label){case 0:for((e=document.querySelector(".introjs-hints"))===null&&(e=z("div",{className:"introjs-hints"})),n=function(d){return function(f){var x=f||window.event;x&&x.stopPropagation&&x.stopPropagation(),x&&x.cancelBubble!==null&&(x.cancelBubble=!0),Yr(t,d)}},r=0;r<t._hintItems.length;r++){if(i=t._hintItems[r],document.querySelector('.introjs-hint[data-step="'.concat(r,'"]')))return[2];Jt(o=z("a",{className:"introjs-hint"})),o.onclick=n(r),i.hintAnimation||ft(o,"introjs-hint-no-anim"),je(i.element)&&ft(o,"introjs-fixedhint"),s=z("div",{className:"introjs-hint-dot"}),l=z("div",{className:"introjs-hint-pulse"}),o.appendChild(s),o.appendChild(l),o.setAttribute("data-step",r.toString()),i.hintTargetElement=i.element,i.element=o,Wr(i.hintPosition,o,i.hintTargetElement),e.appendChild(o)}return document.body.appendChild(e),W(t._hintsAddedCallback)?[4,t._hintsAddedCallback.call(t)]:[3,2];case 1:c.sent(),c.label=2;case 2:return t._options.hintAutoRefreshInterval>=0&&(t._hintsAutoRefreshFunction=(a=function(){return De(t)},u=t._options.hintAutoRefreshInterval,function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];window.clearTimeout(p),p=window.setTimeout(function(){a(d)},u)}),pt.on(window,"scroll",t._hintsAutoRefreshFunction,t,!0)),[2]}var a,u,p})})}function Wr(t,e,n){if(n!==void 0){var r=Dt(n),i=20,o=20;switch(t){default:case"top-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top,"px");break;case"top-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top,"px");break;case"bottom-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"bottom-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"middle-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"middle-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"middle-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"bottom-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"top-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top,"px")}}}function Yr(t,e){return X(this,void 0,void 0,function(){var n,r,i,o,s,l,c,a,u,p,d;return V(this,function(f){switch(f.label){case 0:return n=document.querySelector('.introjs-hint[data-step="'.concat(e,'"]')),r=t._hintItems[e],W(t._hintClickCallback)?[4,t._hintClickCallback.call(t,n,r,e)]:[3,2];case 1:f.sent(),f.label=2;case 2:return(i=Pe())!==void 0&&parseInt(i,10)===e||(o=z("div",{className:"introjs-tooltip"}),s=z("div"),l=z("div"),c=z("div"),o.onclick=function(x){x.stopPropagation?x.stopPropagation():x.cancelBubble=!0},s.className="introjs-tooltiptext",(a=z("p")).innerHTML=r.hint||"",s.appendChild(a),t._options.hintShowButton&&((u=z("a")).className=t._options.buttonClass,u.setAttribute("role","button"),u.innerHTML=t._options.hintButtonLabel,u.onclick=function(){return Cn(t,e)},s.appendChild(u)),l.className="introjs-arrow",o.appendChild(l),o.appendChild(s),p=n.getAttribute("data-step")||"",t._currentStep=parseInt(p,10),d=t._hintItems[t._currentStep],c.className="introjs-tooltipReferenceLayer introjs-hintReference",c.setAttribute("data-step",p),vt(t,d,c),c.appendChild(o),document.body.appendChild(c),Ie(t,d,o,l,!0)),[2]}})})}function Pe(){var t=document.querySelector(".introjs-hintReference");if(t&&t.parentNode){var e=t.getAttribute("data-step");return e?(t.parentNode.removeChild(t),e):void 0}}function Jr(t,e){return X(this,void 0,void 0,function(){var n,r,i,o,s,l,c,a,u,p;return V(this,function(d){switch(d.label){case 0:if(t._hintItems=[],t._options.hints&&t._options.hints.length>0)for(n=0,r=t._options.hints;n<r.length;n++)i=r[n],typeof(o=En(i)).element=="string"&&(o.element=document.querySelector(o.element)),o.hintPosition=o.hintPosition||t._options.hintPosition,o.hintAnimation=o.hintAnimation||t._options.hintAnimation,o.element!==null&&t._hintItems.push(o);else{if(!(s=Array.from(e.querySelectorAll("*[data-hint]")))||!s.length)return[2,!1];for(l=0,c=s;l<c.length;l++)a=c[l],u=a.getAttribute("data-hint-animation"),p=t._options.hintAnimation,u&&(p=u==="true"),t._hintItems.push({element:a,hint:a.getAttribute("data-hint")||"",hintPosition:a.getAttribute("data-hint-position")||t._options.hintPosition,hintAnimation:p,tooltipClass:a.getAttribute("data-tooltip-class")||void 0,position:a.getAttribute("data-position")||t._options.tooltipPosition})}return[4,Kl(t)];case 1:return d.sent(),pt.on(document,"click",Pe,t,!1),pt.on(window,"resize",De,t,!0),[2,!0]}})})}function De(t){for(var e=0,n=t._hintItems;e<n.length;e++){var r=n[e],i=r.hintTargetElement;Wr(r.hintPosition,r.element,i)}}function Kr(t,e){var n=Array.from(e.querySelectorAll("*[data-intro]")),r=[];if(t._options.steps&&t._options.steps.length)for(var i=0,o=t._options.steps;i<o.length;i++){var s=En(d=o[i]);if(s.step=r.length+1,s.title=s.title||"",typeof s.element=="string"&&(s.element=document.querySelector(s.element)||void 0),s.element===void 0||s.element===null){var l=document.querySelector(".introjsFloatingElement");l===null&&(l=z("div",{className:"introjsFloatingElement"}),document.body.appendChild(l)),s.element=l,s.position="floating"}s.position=s.position||t._options.tooltipPosition,s.scrollTo=s.scrollTo||t._options.scrollTo,s.disableInteraction===void 0&&(s.disableInteraction=t._options.disableInteraction),s.element!==null&&r.push(s)}else{var c=void 0;if(n.length<1)return[];for(var a=0,u=n;a<u.length;a++){var p=u[a];if((!t._options.group||p.getAttribute("data-intro-group")===t._options.group)&&p.style.display!=="none"){var d=parseInt(p.getAttribute("data-step")||"",10);c=t._options.disableInteraction,p.hasAttribute("data-disable-interaction")&&(c=!!p.getAttribute("data-disable-interaction")),d>0&&(r[d-1]={step:d,element:p,title:p.getAttribute("data-title")||"",intro:p.getAttribute("data-intro")||"",tooltipClass:p.getAttribute("data-tooltip-class")||void 0,highlightClass:p.getAttribute("data-highlight-class")||void 0,position:p.getAttribute("data-position")||t._options.tooltipPosition,scrollTo:p.getAttribute("data-scroll-to")||t._options.scrollTo,disableInteraction:c})}}for(var f=0,x=0,w=n;x<w.length;x++)if(p=w[x],(!t._options.group||p.getAttribute("data-intro-group")===t._options.group)&&p.getAttribute("data-step")===null){for(;r[f]!==void 0;)f++;c=p.hasAttribute("data-disable-interaction")?!!p.getAttribute("data-disable-interaction"):t._options.disableInteraction,r[f]={element:p,title:p.getAttribute("data-title")||"",intro:p.getAttribute("data-intro")||"",step:f+1,tooltipClass:p.getAttribute("data-tooltip-class")||void 0,highlightClass:p.getAttribute("data-highlight-class")||void 0,position:p.getAttribute("data-position")||t._options.tooltipPosition,scrollTo:p.getAttribute("data-scroll-to")||t._options.scrollTo,disableInteraction:c}}}for(var v=[],_=0;_<r.length;_++)r[_]&&v.push(r[_]);return(r=v).sort(function(b,B){return b.step-B.step}),r}function Qr(t,e){var n=t._currentStep;if(n!=null&&n!=-1){var r=t._introItems[n],i=document.querySelector(".introjs-tooltipReferenceLayer"),o=document.querySelector(".introjs-helperLayer"),s=document.querySelector(".introjs-disableInteraction");vt(t,r,o),vt(t,r,i),vt(t,r,s),e&&(t._introItems=Kr(t,t._targetElement),function(a,u){if(a._options.showBullets){var p=document.querySelector(".introjs-bullets");p&&p.parentNode&&p.parentNode.replaceChild(zr(a,u),p)}}(t,r),Gr(i,n,t._introItems.length));var l=document.querySelector(".introjs-arrow"),c=document.querySelector(".introjs-tooltip");return c&&l&&Ie(t,t._introItems[n],c,l),De(t),t}}function Zr(t){Qr(t)}function Xt(t,e){if(e===void 0&&(e=!1),t&&t.parentElement){var n=t.parentElement;e?(St(t,{opacity:"0"}),window.setTimeout(function(){try{n.removeChild(t)}catch{}},500)):n.removeChild(t)}}function Bt(t,e,n){return n===void 0&&(n=!1),X(this,void 0,void 0,function(){var r,i,o,s;return V(this,function(l){switch(l.label){case 0:return r=!0,t._introBeforeExitCallback===void 0?[3,2]:[4,t._introBeforeExitCallback.call(t,e)];case 1:r=l.sent(),l.label=2;case 2:if(!n&&r===!1)return[2];if((i=Array.from(e.querySelectorAll(".introjs-overlay")))&&i.length)for(o=0,s=i;o<s.length;o++)Xt(s[o]);return Xt(e.querySelector(".introjs-helperLayer"),!0),Xt(e.querySelector(".introjs-tooltipReferenceLayer")),Xt(e.querySelector(".introjs-disableInteraction")),Xt(document.querySelector(".introjsFloatingElement")),Or(),pt.off(window,"keydown",Xr,t,!0),pt.off(window,"resize",Zr,t,!0),W(t._introExitCallback)?[4,t._introExitCallback.call(t)]:[3,4];case 3:l.sent(),l.label=4;case 4:return t._currentStep=-1,[2]}})})}function Ql(t,e){return X(this,void 0,void 0,function(){var n;return V(this,function(r){switch(r.label){case 0:return t.isActive()?W(t._introStartCallback)?[4,t._introStartCallback.call(t,e)]:[3,2]:[2,!1];case 1:r.sent(),r.label=2;case 2:return(n=Kr(t,e)).length===0?[2,!1]:(t._introItems=n,function(i,o){var s=this,l=z("div",{className:"introjs-overlay"});St(l,{top:0,bottom:0,left:0,right:0,position:"fixed"}),o.appendChild(l),i._options.exitOnOverlayClick===!0&&(St(l,{cursor:"pointer"}),l.onclick=function(){return X(s,void 0,void 0,function(){return V(this,function(c){switch(c.label){case 0:return[4,Bt(i,o)];case 1:return c.sent(),[2]}})})})}(t,e),[4,Tt(t)]);case 3:r.sent(),e.addEventListener,t._options.keyboardNavigation&&pt.on(window,"keydown",Xr,t,!0),pt.on(window,"resize",Zr,t,!0),r.label=4;case 4:return[2,!1]}})})}function pr(t,e,n){return t[e]=n,t}var Qe=function(){function t(e){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=e,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return t.prototype.isActive=function(){return(!this._options.dontShowAgain||(e=Hr(this._options.dontShowAgainCookie))===""||e!=="true")&&this._options.isActive;var e},t.prototype.clone=function(){return new t(this._targetElement)},t.prototype.setOption=function(e,n){return this._options=pr(this._options,e,n),this},t.prototype.setOptions=function(e){return this._options=function(n,r){for(var i=0,o=Object.entries(r);i<o.length;i++){var s=o[i];n=pr(n,s[0],s[1])}return n}(this._options,e),this},t.prototype.start=function(){return X(this,void 0,void 0,function(){return V(this,function(e){switch(e.label){case 0:return[4,Ql(this,this._targetElement)];case 1:return e.sent(),[2,this]}})})},t.prototype.goToStep=function(e){return X(this,void 0,void 0,function(){return V(this,function(n){switch(n.label){case 0:return[4,Vl(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.addStep=function(e){return this._options.steps||(this._options.steps=[]),this._options.steps.push(e),this},t.prototype.addSteps=function(e){if(!e.length)return this;for(var n=0;n<e.length;n++)this.addStep(e[n]);return this},t.prototype.goToStepNumber=function(e){return X(this,void 0,void 0,function(){return V(this,function(n){switch(n.label){case 0:return[4,Wl(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.nextStep=function(){return X(this,void 0,void 0,function(){return V(this,function(e){switch(e.label){case 0:return[4,Tt(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.previousStep=function(){return X(this,void 0,void 0,function(){return V(this,function(e){switch(e.label){case 0:return[4,Te(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.currentStep=function(){return this._currentStep},t.prototype.exit=function(e){return X(this,void 0,void 0,function(){return V(this,function(n){switch(n.label){case 0:return[4,Bt(this,this._targetElement,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.refresh=function(e){return Qr(this,e),this},t.prototype.setDontShowAgain=function(e){return Ul(this,e),this},t.prototype.onbeforechange=function(e){if(!W(e))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},t.prototype.onchange=function(e){if(!W(e))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},t.prototype.onafterchange=function(e){if(!W(e))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},t.prototype.oncomplete=function(e){if(!W(e))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},t.prototype.onhintsadded=function(e){if(!W(e))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=e,this},t.prototype.onhintclick=function(e){if(!W(e))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=e,this},t.prototype.onhintclose=function(e){if(!W(e))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=e,this},t.prototype.onstart=function(e){if(!W(e))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=e,this},t.prototype.onexit=function(e){if(!W(e))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this},t.prototype.onskip=function(e){if(!W(e))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=e,this},t.prototype.onbeforeexit=function(e){if(!W(e))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=e,this},t.prototype.addHints=function(){return X(this,void 0,void 0,function(){return V(this,function(e){switch(e.label){case 0:return[4,Jr(this,this._targetElement)];case 1:return e.sent(),[2,this]}})})},t.prototype.hideHint=function(e){return X(this,void 0,void 0,function(){return V(this,function(n){switch(n.label){case 0:return[4,Cn(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.hideHints=function(){return X(this,void 0,void 0,function(){return V(this,function(e){switch(e.label){case 0:return[4,Yl(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.showHint=function(e){return Vr(e),this},t.prototype.showHints=function(){return X(this,void 0,void 0,function(){return V(this,function(e){switch(e.label){case 0:return[4,Jl(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.removeHints=function(){return function(e){for(var n=0,r=Ft(".introjs-hint");n<r.length;n++){var i=r[n].getAttribute("data-step");i&&dr(parseInt(i,10))}pt.off(document,"click",Pe,e,!1),pt.off(window,"resize",De,e,!0),e._hintsAutoRefreshFunction&&pt.off(window,"scroll",e._hintsAutoRefreshFunction,e,!0)}(this),this},t.prototype.removeHint=function(e){return dr(e),this},t.prototype.showHintDialog=function(e){return X(this,void 0,void 0,function(){return V(this,function(n){switch(n.label){case 0:return[4,Yr(this,e)];case 1:return n.sent(),[2,this]}})})},t}(),cn=function t(e){var n;if(Ae(e)==="object")n=new Qe(e);else if(typeof e=="string"){var r=document.querySelector(e);if(!r)throw new Error("There is no element with given selector.");n=new Qe(r)}else n=new Qe(document.body);return t.instances[ln(n,"introjs-instance")]=n,n};cn.version="7.2.0",cn.instances={};document.addEventListener("DOMContentLoaded",function(){let t=[],e=[],n=0,r={},i=null,o=[],s=-1,l={},c=null;const a=24,u=20,p=document.getElementById("stepsList");let d=[],f=!1;const x=document.getElementById("graphSvg");let w=x.clientWidth,v=x.clientHeight;const _=ht("#graphSvg");_.attr("width",w).attr("height",v);const b=_.append("g").attr("class","links"),B=_.append("g").attr("class","nodes"),m=_.append("g").attr("class","labels"),T=document.getElementById("currentStepToast"),F=new bootstrap.Toast(T,{autohide:!1,animation:!1}),j=yl(t).force("link",cl(e).id(h=>h.id).distance(50).strength(.5)).force("charge",vl().strength(-500)).force("collide",al(a+1)).force("center",or(w/2,v/2)).on("tick",()=>{ze(),t.forEach(it),L()});let P,U,H;function q(){P=b.selectAll(".link").data(e,g=>`${g.source.id}-${g.target.id}`),P.exit().remove(),P=P.enter().append("line").attr("class","link").merge(P),H=m.selectAll(".link-label").data(e.filter(g=>g.weight!==void 0),g=>`${g.source.id}-${g.target.id}`),H.exit().remove(),H=H.enter().append("text").attr("class","link-label").attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(g=>g.weight).merge(H),U=B.selectAll(".node-group").data(t,g=>g.id),U.exit().remove();const y=U.enter().append("g").attr("class","node-group").call(ls().on("drag",(g,S)=>{ze(),S.x=g.x,S.y=g.y,it(S),L()}));y.append("circle").attr("class","outer-circle").attr("r",a),y.append("circle").attr("class","inner-circle").attr("r",u).on("click",(g,S)=>{g.stopPropagation();const C=ht(g.currentTarget);C.classed("activated",!C.classed("activated"))}),y.append("text").attr("class","node-label").attr("x",0).attr("y",-10).attr("text-anchor","middle").attr("dominant-baseline","central").text(g=>g.id),y.append("text").attr("class","cost-label").attr("x",0).attr("y",a+12).attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(g=>g.cost!==void 0?`Cost: ${g.cost}`:""),y.append("text").attr("class","heuristic-label").attr("x",0).attr("y",10).attr("text-anchor","middle").style("pointer-events","none").text(g=>g.h!==void 0?`h: ${g.h}`:""),U=y.merge(U),L(),ri(),Oe()}function L(){P.attr("x1",h=>O(h.source).x).attr("y1",h=>O(h.source).y).attr("x2",h=>O(h.target).x).attr("y2",h=>O(h.target).y),H.attr("x",h=>{let y=O(h.source),g=O(h.target);return(y.x+g.x)/2}).attr("y",h=>{let y=O(h.source),g=O(h.target);return(y.y+g.y)/2}),U.attr("transform",h=>`translate(${h.x}, ${h.y})`)}function G(){r={},t.forEach(h=>r[h.id]=[]),e.forEach(h=>{const y=h.source.id,g=h.target.id;r[y].push(g),r[g].push(y)})}function O(h){return typeof h=="object"?h:t.find(y=>y.id===h)}function it(h){h.x=Math.max(a,Math.min(w-a,h.x)),h.y=Math.max(a,Math.min(v-a,h.y))}function xt(h,y){const g={};Object.entries(h).forEach(([C,N])=>{(g[N]||(g[N]=[])).push(+C)});function S(C){return{id:C,children:(g[C]||[]).map(S)}}return S(y)}function Rt(h){if(qe(),ai(),h<1){t=[],e=[],j.nodes(t),j.force("link").links(e),q(),j.alpha(0).stop();return}const y=document.getElementById("includeWeights").checked;t=Array.from({length:h},(A,k)=>({id:k,x:Math.random()*(w-2*a)+a,y:Math.random()*(v-2*a)+a}));let g=t.map(A=>A.id);for(let A=g.length-1;A>0;A--){const k=Math.floor(Math.random()*(A+1));[g[A],g[k]]=[g[k],g[A]]}let S=[];for(let A=1;A<g.length;A++){const k=g[Math.floor(Math.random()*A)],M=g[A];S.push({source:k,target:M,weight:y?Math.floor(Math.random()*20)+1:void 0})}let C=new Array(h).fill(0);S.forEach(({source:A,target:k})=>{C[A]++,C[k]++});let N=[];for(let A=0;A<h;A++)for(let k=A+1;k<h;k++)S.some(M=>M.source===A&&M.target===k||M.source===k&&M.target===A)||N.push({source:A,target:k});for(let A=N.length-1;A>0;A--){const k=Math.floor(Math.random()*(A+1));[N[A],N[k]]=[N[k],N[A]]}const D=.2;N.forEach(A=>{const{source:k,target:M}=A;if(C[k]<3&&C[M]<3){let $=C.filter(I=>I===3).length,E=0;if(C[k]===2&&E++,C[M]===2&&E++,($+E)/h>D)return;S.push({source:k,target:M,weight:y?Math.floor(Math.random()*20)+1:void 0}),C[k]++,C[M]++}}),e=S.map(A=>({source:t[A.source],target:t[A.target],weight:A.weight})),n=h,G(),j.nodes(t),j.force("link").links(e),j.alpha(1).restart(),q()}function oe(){ht("#searchTreePanelSvg").selectAll("*").remove(),document.getElementById("nodesExpanded").textContent=0,document.getElementById("nodesDiscovered").textContent=0,document.getElementById("currentDepth").textContent=0,document.getElementById("stepsToGoal").textContent="N/A",document.getElementById("finalCost").textContent="N/A"}function Et(h){const y=ht("#searchTreePanelSvg");if(y.selectAll("*").remove(),!h)return;const g=document.getElementById("searchTreePanelSvg"),S=g.clientWidth,C=g.clientHeight;if(S===0||C===0)return;const N=+document.getElementById("startNodeSelect").value,D=xn(xt(h.parents,N));D.each(E=>{const I=h.nodes.find(R=>R.id===E.data.id);E.data.discoveryIndex=(I==null?void 0:I.discoveryIndex)??1/0}),D.sort((E,I)=>E.data.discoveryIndex-I.data.discoveryIndex),Gl().size([S-2*a,C-3*a])(D);const A=E=>Math.max(a,Math.min(S-a,E.x+a)),k=E=>Math.max(a,Math.min(C-a,E.y+a));y.selectAll(".link").data(D.links()).enter().append("line").attr("class","link").attr("x1",E=>A(E.source)).attr("y1",E=>k(E.source)).attr("x2",E=>A(E.target)).attr("y2",E=>k(E.target)).classed("path-highlight-link",E=>{var I;return((I=h.path)==null?void 0:I.includes(E.source.data.id))&&h.path.includes(E.target.data.id)});const M=y.selectAll(".node-group").data(D.descendants()).enter().append("g").attr("class","node-group").classed("highlighted",E=>h.highlightedNodes.includes(E.data.id)).classed("goal-highlight",E=>h.goal&&E.data.id===+h.goal).classed("path-highlight",E=>{var I;return(I=h.path)==null?void 0:I.includes(E.data.id)}).classed("current-highlight",E=>h.currentNode===E.data.id).attr("transform",E=>`translate(${A(E)},${k(E)})`);M.append("circle").attr("class","outer-circle").attr("r",a),M.append("circle").attr("class","inner-circle").attr("r",u),M.append("text").attr("class","node-label").attr("x",0).attr("y",-4).attr("text-anchor","middle").text(E=>E.data.id),M.append("text").attr("class","cost-label").attr("x",-24).attr("y",a+12).attr("text-anchor","start").attr("dominant-baseline","middle").style("font-weight","bold").style("pointer-events","none").text(E=>{const I=h.nodes.find(R=>R.id===E.data.id);return(I==null?void 0:I.cost)!==void 0?`C: ${I.cost}`:""}),M.append("text").attr("class","heuristic-label").attr("x",0).attr("y",10).attr("text-anchor","middle").text(E=>{const I=h.nodes.find(R=>R.id===E.data.id);return(I==null?void 0:I.h)!==void 0?`H: ${I.h}`:""}),y.selectAll(".link-weight-label").data(D.links()).enter().append("text").attr("class","link-weight-label").attr("x",E=>(E.source.x+E.target.x)/2+a).attr("y",E=>(E.source.y+E.target.y)/2+a).attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(E=>{const I=E.source.data.id,R=E.target.data.id,Z=h.links.find(K=>K.source.id===I&&K.target.id===R||K.source.id===R&&K.target.id===I);return(Z==null?void 0:Z.weight)!==void 0?Z.weight:""});const $=document.getElementById("toggleWeightsSwitch").checked;J("#searchTreePanelSvg .link-weight-label").style("display",$?"block":"none"),yi(h)}const Lt=document.getElementById("tree-tab");Lt&&Lt.addEventListener("shown.bs.tab",()=>{kn&&Et(kn)});function ti(h,y){const g=t.find(S=>S.id===h);g&&(g.cost=y),J(".node-group").filter(S=>S.id===h).select(".cost-label").text(y!==void 0?`Cost: ${y}`:"")}function Fe(h,y){const g=t.find(S=>S.id===h);g&&(g.cost=y)}function Re(h,y){J(".node-group").filter(g=>g.id===h).select(".cost-label").text(y!==void 0?`Cost: ${y}`:"")}function ei(h,y,g){const S=[];J(".node-group.highlighted").each(function(D){S.push(D.id)});const C=document.getElementById("goalNodeSelect"),N=C?C.value:null;return{nodes:JSON.parse(JSON.stringify(t)),links:JSON.parse(JSON.stringify(e)),adjacency:JSON.parse(JSON.stringify(r)),parents:JSON.parse(JSON.stringify(l)),highlightedNodes:S,goal:N,path:i,currentStep:h,expanded:[...y],currentNode:g}}function Nn(h,y){ni({message:h,snapshot:y})}function ni(h){const y=document.createElement("li"),g=document.createElement("button");g.textContent=h.message,g.classList.add("step-button"),h.snapshot?g.addEventListener("click",()=>{ot(),He(h.snapshot),s=Array.from(p.children).indexOf(y)}):g.disabled=!0,y.appendChild(g),p.appendChild(y)}function lt(){o=[],s=-1,p.innerHTML=""}function ct(h,y){const g=setTimeout(h,y);return d.push(g),g}let Q=0;function Y(h,y){const g=y[y.length-1],S=ei(h,y,g),C=T.querySelector(".toast-body");ct(()=>{Nn(h,S),Et(S),C.textContent=h,F.show(),o.push({message:h,snapshot:S}),s=o.length-1},Q),Q+=Dn}function ot(){d.forEach(h=>clearTimeout(h)),d=[],Q=0,qe(),Ln(),oe(),F.hide(),i=null,f&&Nn("Algorithm Stopped."),f=!1}let kn=null;function He(h){if(ot(),qe(),Ln(),h.nodes.forEach(y=>{const g=t.find(S=>S.id===y.id);g&&(g.cost=y.cost,ti(g.id,y.cost),h.highlightedNodes.includes(g.id)&&Ht(g.id),h.goal&&+h.goal===g.id&&se(g.id))}),h.path&&Ot(h.path),h.currentStep){const y=T.querySelector(".toast-body");y.textContent=h.currentStep,F.show()}Et(h)}function An(h){if(!t.find(N=>N.id===h))return;const g=Math.min(...e.map(N=>N.weight??1/0)),S={};t.forEach(N=>S[N.id]=1/0),S[h]=0;const C=[h];for(;C.length;){const N=C.shift();r[N].forEach(D=>{S[D]===1/0&&(S[D]=S[N]+1,C.push(D))})}t.forEach(N=>{N.h=Number.isFinite(S[N.id])?S[N.id]*g:0,J(".node-group").filter(D=>D.id===N.id).select(".heuristic-label").text(`H: ${N.h}`)}),q()}const In=document.getElementById("startNodeSelect"),Tn=document.getElementById("node1Select"),Bn=document.getElementById("node2Select");function ri(){In.innerHTML="",Tn.innerHTML="",Bn.innerHTML="",t.forEach(h=>{const y=document.createElement("option");y.value=h.id,y.textContent=h.id,In.appendChild(y);const g=document.createElement("option");g.value=h.id,g.textContent=h.id,Tn.appendChild(g);const S=document.createElement("option");S.value=h.id,S.textContent=h.id,Bn.appendChild(S)})}function Oe(){const h=document.getElementById("goalNodeSelect"),y=h.value;h.innerHTML="";const g=document.createElement("option");g.value="",g.textContent="None",h.appendChild(g),t.forEach(S=>{const C=document.createElement("option");C.value=S.id,C.textContent=S.id,String(S.id)===y&&(C.selected=!0),h.appendChild(C)})}function Ht(h){J(".node-group").classed("current-highlight",!1),J(".node-group").filter(y=>y.id===h).classed("highlighted",!0).classed("current-highlight",!0)}function Ln(){J(".node-group").classed("highlighted",!1).classed("path-highlight",!1),J(".link").classed("path-highlight-link",!1)}function Ot(h){if(!(!h||h.length===0)){h.forEach(y=>{J(".node-group").filter(g=>g.id===y).classed("path-highlight",!0)});for(let y=0;y<h.length-1;y++)J(".link").filter(g=>{let S=g.source.id,C=g.target.id;return S===h[y]&&C===h[y+1]||S===h[y+1]&&C===h[y]}).classed("path-highlight-link",!0)}}function qt(){J(".node-group").classed("goal-highlight",!1)}function se(h){J(".node-group").filter(y=>y.id===h).classed("goal-highlight",!0)}function ii(h){const y={id:n,x:Math.random()*(w-2*a)+a,y:Math.random()*(v-2*a)+a};t.push(y),h.forEach(g=>{e.push({source:t[g],target:y,weight:void 0})}),n++,G(),j.nodes(t),j.force("link").links(e),j.alpha(0).stop(),q(),Oe()}function oi(h){t=t.filter(y=>y.id!==h),e=e.filter(y=>{const g=y.source.id,S=y.target.id;return g!==h&&S!==h}),G(),j.nodes(t),j.force("link").links(e),j.alpha(0).stop(),q()}function ae(h){const y=t.find(g=>g.id===h);return(y==null?void 0:y.h)??0}function $n(){Ue(!0)}function Mn(){Ue(!1)}function jn(){J(".heuristic-label").style("display","block"),document.getElementById("toggleHeuristicSwitch").checked=!0}function le(){J(".heuristic-label").style("display","none"),document.getElementById("toggleHeuristicSwitch").checked=!1}function si(h){h?jn():le()}function qe(){t.forEach(h=>{h.cost=void 0}),J(".node-group").select(".cost-label").text("")}function ai(){e=[],b.selectAll(".link").remove(),m.selectAll(".link-label").remove()}function ze(){const h=x.getBoundingClientRect();w=h.width,v=h.height}function ce(){ze(),_.attr("width",w).attr("height",v),j.force("center",or(w/2,v/2)).alpha(.5).restart(),t.forEach(it),L()}function li(h,y){ot(),lt(),Mn(),le(),f=!0,i=null,t.forEach(k=>{k.discoveryIndex=void 0});let g=0;const S=new Set,C=[h],N=[];S.add(h);const D={};l=D;function A(){var M;if(!f)return;if(Q=0,C.length===0){Y("BFS: Finished without reaching a goal",N),f=!1;return}const k=C.shift();if(N.push(k),Ht(k),k===y){let $=[k];for(;$[0]!==h;)$.unshift(D[$[0]]);i=$,Ot(i),Y(`BFS: Goal Node ${y} found! 
Path: ${i.join(" -> ")}`,N),f=!1;return}if(k===h){Y(`BFS: Root Node ${h}`,N);const $=O(h);$&&$.discoveryIndex===void 0&&($.discoveryIndex=g++)}else Y(`BFS: Moving to Node ${k}`,N);(M=r[k])==null||M.forEach($=>{if(!S.has($)){S.add($),C.push($),$ in D||(D[$]=k);const E=O($);E&&E.discoveryIndex===void 0&&(E.discoveryIndex=g++),Y(`BFS: Discovered Node ${$}. Adding to queue.`,N)}}),Y(`BFS: Queue: [${C.join(", ")}] | Discovered: [${[...S].join(", ")}]`,N),ct(A,Q)}A()}function ci(h,y){ot(),lt(),Mn(),le(),f=!0,i=null,t.forEach(k=>{k.discoveryIndex=void 0});let g=0;const S=new Set,C=[h],N=[];S.add(h);const D={};l=D;function A(){if(!f)return;if(Q=0,C.length===0){Y("DFS: Finished without reaching a goal",N),f=!1;return}const k=C.pop();if(N.push(k),k===h){const $=O(h);$&&$.discoveryIndex===void 0&&($.discoveryIndex=g++)}if(Ht(k),k===y){let $=[k];for(;$[0]!==h;)$.unshift(D[$[0]]);i=$,Ot(i),Y(`DFS: Goal Node ${y} found! 
Path: ${i.join(" -> ")}`,N),f=!1;return}Y(k===h?`DFS: Root Node ${h}`:`DFS: Visiting Node ${k}`,N);const M=r[k]||[];for(let $=M.length-1;$>=0;$--){const E=M[$];if(!S.has(E)){S.add(E),C.push(E),E in D||(D[E]=k);const I=O(E);I&&I.discoveryIndex===void 0&&(I.discoveryIndex=g++),Y(`DFS: Discovered Node ${E}. Adding to stack.`,N)}}Y(`DFS: Stack: [${C.join(", ")}] | Visited: [${[...S].join(", ")}]`,N),ct(A,Q)}A()}function ui(h,y){if(ot(),lt(),$n(),le(),f=!0,i=null,e.some($=>$.weight===void 0)){alert("Error: Graph must be weighted to run Uniform Cost Search (UCS).");return}t.forEach($=>{$.discoveryIndex=void 0});let g=0;const S=O(h);S&&S.discoveryIndex===void 0&&(S.discoveryIndex=g++);let C=[{node:h,cost:0}],N=new Set,D={};l=D;let A={};A[h]=0;const k=[];function M(){if(!f)return;if(Q=0,C.length===0){Y("UCS: No path found. Frontier empty.",k),f=!1;return}C.sort((R,Z)=>R.cost-Z.cost);let $=C.shift(),E=$.node,I=$.cost;if(I>A[E]){Y(`UCS: Skipping node [${E}] with cost ${I} (better cost is ${A[E]}).`,k),ct(M,Q);return}if(N.add(E),Ht(E),Fe(E,I),k.push(E),ct(()=>Re(E,I),Q-1),Y(`UCS: Expanding node [${E}] with cost ${I}.`,k),E===y){let R=[E];for(;R[0]!==h;)R.unshift(D[R[0]]);i=R,Ot(i),Y(`UCS: Goal node [${y}] reached! Path: ${i.join(" -> ")}, Total cost: ${I}.`,k),f=!1;return}(r[E]||[]).forEach(R=>{let Z=e.find(Ct=>{const mt=Ct.source.id,On=Ct.target.id;return mt===E&&On===R||On===E&&mt===R});if(!Z)return;let K=I+Z.weight;if(A[R]===void 0||K<A[R]){let Ct=A[R]!==void 0?A[R]:"none";A[R]=K,D[R]=E;const mt=O(R);mt&&mt.discoveryIndex===void 0&&(mt.discoveryIndex=g++),C.push({node:R,cost:K}),Fe(R,K),ct(()=>Re(R,K),Q-1),Y(`UCS: Found node [${R}], Updating cost from ${Ct} to ${K}.`,k),N.has(R)&&(Y(`UCS: Reopening node [${R}] (cost improved).`,k),N.delete(R))}}),ct(M,Q)}M()}function hi(h,y){if(isNaN(y)){alert("Please select a goal node before running A*.");return}ot(),lt(),$n(),jn(),f=!0,i=null,t.forEach(M=>{M.discoveryIndex=void 0});let g=0;const S=O(h);S&&S.discoveryIndex===void 0&&(S.discoveryIndex=g++);const C=[{node:h,g:0}],N={[h]:0},D={};l=D;const A=new Set;function k(){var E;if(!f)return;if(Q=0,C.length===0){Y("A*: No path found.",[...A]),f=!1;return}C.sort((I,R)=>I.g+ae(I.node)-(R.g+ae(R.node)));const{node:M,g:$}=C.shift();if($>N[M]){ct(k,Q);return}if(Ht(M),Fe(M,$),A.add(M),Y(`A*: Expanding node ${M} (f=${($+ae(M)).toFixed(2)})`,[...A]),M===y){const I=[M];for(;I[0]!==h;)I.unshift(D[I[0]]);i=I,Ot(I),Y(`A*: Goal reached! Path: ${I.join(" -> ")}`,[...A]),f=!1;return}(E=r[M])==null||E.forEach(I=>{const R=e.find(K=>{const Ct=K.source.id,mt=K.target.id;return Ct===M&&mt===I||mt===M&&Ct===I});if(!R)return;const Z=$+R.weight;if(N[I]===void 0||Z<N[I]){N[I]=Z,D[I]=M;const K=O(I);K&&K.discoveryIndex===void 0&&(K.discoveryIndex=g++),C.push({node:I,g:Z}),ct(()=>Re(I,Z),Q-1),Y(`A*: Discovered ${I}, g=${Z.toFixed(2)}, f=${(Z+ae(I)).toFixed(2)}`,[...A])}}),ct(k,Q)}k()}const Pn=document.getElementById("nodeCountInput");document.getElementById("generateGraphForm").addEventListener("submit",h=>{ot(),lt(),qt(),h.preventDefault();let y=parseInt(Pn.value,10);y<1||(Rt(y),Pn.value="")}),document.getElementById("tutorialBtn").addEventListener("click",()=>{cn().setOptions({steps:[{element:"#generateGraphForm",intro:"Enter how many nodes you want and click Generate to build a new random graph.",position:"right"},{element:"#weightDiv",intro:"Toggle this to show or hide edge weights on the graph.",position:"right"},{element:"#heuristicToggleDiv",intro:"Toggle heuristics (hvalues) on each node  useful for A* search.",position:"right"},{element:"#AddNodeDiv",intro:"Click Add or Delete to modify nodes. Activate a parent by clicking its inner circle first.",position:"right"},{element:"#updateLinkForm",intro:"Use these controls to create, update, or remove an edge between two nodes.",position:"top"},{element:"#selectStartDiv",intro:"Choose your starting node for all searches.",position:"top"},{element:"#selectGoalDiv",intro:"Choose your goal node (or click Set Random Goal).",position:"top"},{element:"#algorithmDropdown",intro:"Pick a search algorithm (BFS, DFS, UCS, or A*).",position:"bottom"},{element:"#runAlgorithmBtn",intro:"Run the selected algorithm  watch the traversal animate!",position:"bottom"},{element:"#speedControls",intro:"Adjust how fast each step of the algorithm plays.",position:"top"},{element:".backStep",intro:"Step backwards through the algorithm history.",position:"top"},{element:".forwardStep",intro:"Step forwards through the algorithm history.",position:"top"},{element:"#toggleSidebar",intro:"Hide or show the sidebar to give more room to the graph.",position:"left"},{element:"#toggleTreeBtn",intro:"Open the Search Tree panel to see the traversal tree.",position:"left"},{element:"#mainGraph",intro:"This is the interactive graph area  drag nodes around or click them to activate.",position:"top"},{element:"#searchTreePanel",intro:"This is the Search Tree panel  it visualizes the traversal tree and shows stats about nodes expanded, discovered, depth, cost, etc.",position:"left"}],showStepNumbers:!0,exitOnOverlayClick:!0,exitOnEsc:!0,nextLabel:"Next",prevLabel:"Back",doneLabel:"Finish",overlayOpacity:.5,tooltipClass:"customTooltip"}).start()}),document.getElementById("addNodeForm").addEventListener("submit",h=>{ot(),lt(),h.preventDefault();const g=J(".node-group").filter(function(S){return ht(this).select(".inner-circle").classed("activated")}).data().map(S=>S.id);ii(g),J(".inner-circle").classed("activated",!1)}),document.getElementById("deleteNodeForm").addEventListener("submit",h=>{ot(),lt(),h.preventDefault();const y=J(".node-group").filter(function(g){return ht(this).select(".inner-circle").classed("activated")}).data();if(y.length===0){alert("Please activate at least one node to delete by clicking on its inner circle.");return}y.forEach(g=>{oi(g.id)}),J(".inner-circle").classed("activated",!1)});const Ge=document.getElementById("speedSlider");let Dn=parseInt(Ge.value,10);Ge.addEventListener("input",function(){Dn=parseInt(Ge.value,10)}),document.getElementById("restartBtn").addEventListener("click",()=>{ot(),lt(),qt(),Oe(),oe()});const zt=document.getElementById("goalNodeSelect");zt.addEventListener("change",()=>{qt();const h=parseInt(zt.value,10);se(h)}),document.getElementById("randomGoalBtn").addEventListener("click",()=>{if(qt(),t.length===0)return;const h=t[Math.floor(Math.random()*t.length)];zt.value=h.id;const y=parseInt(zt.value,10);An(y),se(y),alert(`Randomly selected goal: ${h.id}`)}),document.getElementById("toggleHeuristicSwitch").addEventListener("change",h=>si(h.target.checked)),document.querySelectorAll(".backStep").forEach(h=>h.addEventListener("click",()=>{s>0?(s--,He(o[s].snapshot)):alert("No previous step available.")})),document.querySelectorAll(".forwardStep").forEach(h=>h.addEventListener("click",()=>{s<o.length-1?(s++,He(o[s].snapshot)):alert("No next step available.")})),document.getElementById("runAlgorithmBtn").addEventListener("click",function(){const h=parseInt(document.getElementById("startNodeSelect").value,10),y=parseInt(document.getElementById("goalNodeSelect").value,10);switch(c){case"bfs":li(h,y);break;case"dfs":ci(h,y);break;case"aStar":hi(h,y);break;case"ucs":ui(h,y);break;default:alert("No algorithm selected.")}}),document.getElementById("updateLinkBtn").addEventListener("click",function(){const h=parseInt(document.getElementById("node1Select").value,10),y=parseInt(document.getElementById("node2Select").value,10);if(h===y){alert("Cannot create a link from a node to itself.");return}let g=parseFloat(document.getElementById("newWeightInput").value);isNaN(g)&&(g=void 0);let S=!1;if(e.forEach(C=>{const N=C.source.id,D=C.target.id;(N===h&&D===y||N===y&&D===h)&&(C.weight=g,S=!0)}),S){const C=m.selectAll(".link-label").data(e.filter(N=>N.weight!==void 0),N=>`${N.source.id}-${N.target.id}`);C.exit().remove(),C.enter().append("text").attr("class","link-label").attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").merge(C).text(N=>N.weight),ot(),lt(),q(),alert("Link weight updated.")}else e.push({source:t[h],target:t[y],weight:g}),G(),q(),alert("Link did not exist, so it was created.")}),document.getElementById("removeLinkBtn").addEventListener("click",()=>{ot(),lt();const h=parseInt(document.getElementById("node1Select").value,10),y=parseInt(document.getElementById("node2Select").value,10),g=e.findIndex(S=>{const C=S.source.id,N=S.target.id;return C===h&&N===y||C===y&&N===h});g!==-1?(e.splice(g,1),G(),q(),alert(`Link between ${h} and ${y} removed.`)):alert("No link exists between those two nodes.")}),document.getElementById("getInfoBtn").addEventListener("click",()=>{let h="";switch(c){case"bfs":h=`
            <h3>BreadthFirst Search (BFS)</h3>
            <p><strong>Description:</strong> 
            BFS explores the graph level by level, starting from the source node. It first visits all the neighbors of the source, then moves on to the neighbors of the neighbors, and so on. This guarantees that the first time a node is encountered, it's via the shortest possible path in terms of the number of edges. BFS is particularly useful for finding the shortest path in an unweighted graph, as it always explores all possible paths at the current depth before moving to the next level.</p>
            
            <img src="/cs408-visualiser/assets/BFS.png" alt="BFS illustration" width="300">
            
            <p><strong>Example:</strong> Consider a graph with nodes 1, 2, 3, and 4:
            Graph: 0  1, 0  2, 1  3
            
            Starting from node 0:
            - First, BFS explores nodes 1 and 2 (since they are at the same level from 0).
            - Then it moves on to node 3, visiting 1  3.
            
            The order of visits would be: 0  1, 0  2, 1  3.
            </p>
                        `;break;case"dfs":h=`
                <h3>DepthFirst Search (DFS)</h3>
                <p><strong>Description:</strong> 
                DFS is a traversal algorithm that explores as far along a branch as possible before backtracking. It uses a stack (either implicitly via recursion or explicitly) to keep track of which nodes to visit next. DFS doesn't guarantee finding the shortest path, as it may explore deep branches that aren't the most efficient way to reach the goal. It can be useful for exploring all possible paths or when you need to visit all nodes.</p>
                
               <img src="/cs408-visualiser/assets/DFS.png" alt="DFS illustration" width="300">


                
                <p><strong>Example:</strong> In the same graph as BFS:
                Graph: 0  1, 0  2, 1  3, 2  3
                
                If DFS starts at node 0, it may explore:
                - First, it goes from 0  1  3 (going deep along the branch).
                - After backtracking to 0, it then visits 2  3.
                
                The order of visits could be: 0  1  3  2  3.
                </p>
                        `;break;case"ucs":h=`
                <h3>Uniform Cost Search (UCS)</h3>
                <p><strong>Description:</strong> 
                UCS is similar to BFS but differs in that it takes edge costs into account. It always expands the node with the lowest total cost first. This ensures that the search explores paths with the least cumulative cost, rather than the shortest number of edges as in BFS. UCS is ideal when you want to find the least-cost path in a weighted graph.</p>
                
                <img src="/cs408-visualiser/assets/UCS.png" alt="UCS illustration" width="300">


                
                <p><strong>Example:</strong> Consider a graph with the following edge costs:
                Graph: 0  1 (cost 1), 0  2 (cost 5), 1  3 (cost 5), 2  3 (cost 2)
                
                If UCS starts from node 0:
                - UCS would first explore 0  1 (cost 1), then move on to 0  2 (cost 5).
                - Next, UCS would explore 1  3 (cost 6 total) and 2  3 (cost 7 total).
                - The optimal path is 0  1  3 (cost 6) rather than 0  2  3 (cost 7).
                
                The order of visits would be: 0  1  3  2.
                </p>
                        `;break;case"aStar":h=`
                <h3>A* Search</h3>
                <p><strong>Description:</strong> 
                A* is a more advanced search algorithm that combines path cost and a heuristic estimate of the remaining distance to the goal. It evaluates nodes based on both the actual cost to reach the node and the estimated cost from the node to the goal, making it more efficient than UCS and BFS in many cases. A* is optimal and complete, meaning it will find the shortest path if one exists, as long as the heuristic is admissible (i.e., it doesn't overestimate the cost to the goal).</p>
                
                <img src="/cs408-visualiser/assets/ASTAR.png" alt="ASTAR illustration" width="300">
                
                <p><strong>Example:</strong> Consider a graph with the following edges and heuristic values (straight-line distance to goal D):
                Graph: 0  1 (cost 1), 0  2 (cost 5), 1  3 (cost 5), 2  3 (cost 2)
                Heuristic: h(0) = 3, h(1) = 1, h(2) = 4, h(3) = 0
                
                Starting from node A:
                - A* first evaluates the node with the smallest sum of path cost and heuristic (0  1 + h(1) = 1 + 1 = 2).
                - Then it moves to 1  3 (cost 6 total).
                - Despite 0  2 being cheaper in terms of path cost, A* prefers 0  1  3 because its heuristic suggests 3 is closer via 1.
                
                The order of visits would be: 0  2  3.
                </p>
                      `;break;default:h="<p>Please select an algorithm from the dropdown to see information.</p>"}document.getElementById("algInfoContent").innerHTML=h,new bootstrap.Modal(document.getElementById("algInfoModal")).show()});function Ue(h){const y=J(".link-label"),g=J("#searchTreePanelSvg .link-weight-label"),S=document.getElementById("toggleWeightsSwitch");h?(y.style("display","block"),g.style("display","block"),S.checked=!0,S.nextElementSibling.textContent="Hide Weights"):(y.style("display","none"),g.style("display","none"),S.checked=!1,S.nextElementSibling.textContent="Show Weights")}document.getElementById("toggleWeightsSwitch").addEventListener("change",h=>{Ue(h.target.checked)}),document.getElementById("graph-tab").addEventListener("shown.bs.tab",()=>{w=x.clientWidth,v=x.clientHeight,t.forEach(it),L()}),document.querySelectorAll(".dropdown-item").forEach(h=>{h.addEventListener("click",function(y){y.preventDefault(),c=this.getAttribute("data-algorithm"),document.getElementById("algorithmDropdown").innerText=this.innerText})});const fi=document.querySelector(".main-container"),Gt=document.getElementById("sidebar"),Fn=document.getElementById("toggleSidebar");Fn.addEventListener("click",()=>{Gt.classList.toggle("sidebar--hidden"),ue.classList.toggle("sidebar--hidden"),Fn.textContent=Gt.classList.contains("sidebar--hidden")?"Show Sidebar":"Hide Sidebar",ce()});const ue=document.getElementById("sidebarResizer");ue.addEventListener("pointerdown",()=>{document.addEventListener("pointermove",Rn),document.addEventListener("pointerup",di,{once:!0})});let Xe;function Rn(h){Xe&&cancelAnimationFrame(Xe),Xe=requestAnimationFrame(()=>{const y=fi.getBoundingClientRect().left;let g=h.clientX-y;g=Math.max(150,Math.min(g,600)),Gt.style.width=`${g}px`,ce()})}function di(){document.removeEventListener("pointermove",Rn)}const pi=document.getElementById("toggleToastSwitch"),gi=document.getElementById("currentStepToast").parentElement;pi.addEventListener("change",function(){gi.style.display=this.checked?"block":"none"});const mi=document.getElementById("searchTreePanel"),Hn=document.getElementById("toggleTreeBtn");Hn.addEventListener("click",()=>{var g;const h=mi.classList.toggle("open");Hn.textContent=h?"":"",h?(Gt.classList.add("sidebar--hidden"),ue.classList.add("sidebar--hidden")):(Gt.classList.remove("sidebar--hidden"),ue.classList.remove("sidebar--hidden")),document.querySelector(".main-content").classList.toggle("shift",h),q(),ce();const y=(g=o[s])==null?void 0:g.snapshot;y&&Et(y)});function yi(h){var A,k;const y=document.getElementById("searchTreeStats");if(!h){y.style.display="none";return}y.style.display="block";const g=Number(document.getElementById("startNodeSelect").value),S=Object.keys(h.parents).map(Number),C=new Set(S.concat(g)),N=h.path?h.path.length-1:"N/A";if(document.getElementById("nodesExpanded").textContent=String(((A=h.expanded)==null?void 0:A.length)??0),document.getElementById("nodesDiscovered").textContent=String(C.size),document.getElementById("stepsToGoal").textContent=N,((k=h.path)==null?void 0:k.length)>0){const M=Number(h.goal),$=h.nodes.find(E=>E.id===M);document.getElementById("finalCost").textContent=($==null?void 0:$.cost)??"N/A"}else document.getElementById("finalCost").textContent="N/A";let D="N/A";if(h.currentNode!=null){D=0;let M=h.currentNode;for(;h.parents[M]!==void 0;)D++,M=h.parents[M]}document.getElementById("currentDepth").textContent=D}document.getElementById("goalNodeSelect").addEventListener("change",()=>{qt();const h=parseInt(zt.value,10);isNaN(h)||(se(h),An(h))}),window.addEventListener("resize",ce);function vi(){Rt(8)}vi()});
