(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var pi={value:()=>{}};function Ae(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ge(n)}function ge(t){this._=t}function gi(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ge.prototype=Ae.prototype={constructor:ge,on:function(t,e){var n=this._,r=gi(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=mi(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Dn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Dn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ge(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function mi(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Dn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=pi,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ye="http://www.w3.org/1999/xhtml";const Rn={svg:"http://www.w3.org/2000/svg",xhtml:Ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ie(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Rn.hasOwnProperty(e)?{space:Rn[e],local:t}:t}function yi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ye&&e.documentElement.namespaceURI===Ye?e.createElement(t):e.createElementNS(n,t)}}function vi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fr(t){var e=Ie(t);return(e.local?vi:yi)(e)}function wi(){}function an(t){return t==null?wi:function(){return this.querySelector(t)}}function _i(t){typeof t!="function"&&(t=an(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=new Array(a),c,s,u=0;u<a;++u)(c=o[u])&&(s=t.call(c,c.__data__,u,o))&&("__data__"in c&&(s.__data__=c.__data__),l[u]=s);return new tt(r,this._parents)}function dr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function xi(){return[]}function pr(t){return t==null?xi:function(){return this.querySelectorAll(t)}}function bi(t){return function(){return dr(t.apply(this,arguments))}}function Si(t){typeof t=="function"?t=bi(t):t=pr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],l=a.length,c,s=0;s<l;++s)(c=a[s])&&(r.push(t.call(c,c.__data__,s,a)),i.push(c));return new tt(r,i)}function gr(t){return function(){return this.matches(t)}}function mr(t){return function(e){return e.matches(t)}}var Ei=Array.prototype.find;function ki(t){return function(){return Ei.call(this.children,t)}}function Ci(){return this.firstElementChild}function Ni(t){return this.select(t==null?Ci:ki(typeof t=="function"?t:mr(t)))}var Ai=Array.prototype.filter;function Ii(){return Array.from(this.children)}function Ti(t){return function(){return Ai.call(this.children,t)}}function Bi(t){return this.selectAll(t==null?Ii:Ti(typeof t=="function"?t:mr(t)))}function Li(t){typeof t!="function"&&(t=gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&l.push(c);return new tt(r,this._parents)}function yr(t){return new Array(t.length)}function Mi(){return new tt(this._enter||this._groups.map(yr),this._parents)}function we(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}we.prototype={constructor:we,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $i(t){return function(){return t}}function ji(t,e,n,r,i,o){for(var a=0,l,c=e.length,s=o.length;a<s;++a)(l=e[a])?(l.__data__=o[a],r[a]=l):n[a]=new we(t,o[a]);for(;a<c;++a)(l=e[a])&&(i[a]=l)}function Pi(t,e,n,r,i,o,a){var l,c,s=new Map,u=e.length,p=o.length,d=new Array(u),f;for(l=0;l<u;++l)(c=e[l])&&(d[l]=f=a.call(c,c.__data__,l,e)+"",s.has(f)?i[l]=c:s.set(f,c));for(l=0;l<p;++l)f=a.call(t,o[l],l,o)+"",(c=s.get(f))?(r[l]=c,c.__data__=o[l],s.delete(f)):n[l]=new we(t,o[l]);for(l=0;l<u;++l)(c=e[l])&&s.get(d[l])===c&&(i[l]=c)}function qi(t){return t.__data__}function Fi(t,e){if(!arguments.length)return Array.from(this,qi);var n=e?Pi:ji,r=this._parents,i=this._groups;typeof t!="function"&&(t=$i(t));for(var o=i.length,a=new Array(o),l=new Array(o),c=new Array(o),s=0;s<o;++s){var u=r[s],p=i[s],d=p.length,f=Di(t.call(u,u&&u.__data__,s,r)),_=f.length,w=l[s]=new Array(_),v=a[s]=new Array(_),x=c[s]=new Array(d);n(u,p,w,v,x,f,e);for(var b=0,B=0,y,A;b<_;++b)if(y=w[b]){for(b>=B&&(B=b+1);!(A=v[B])&&++B<_;);y._next=A||null}}return a=new tt(a,r),a._enter=l,a._exit=c,a}function Di(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ri(){return new tt(this._exit||this._groups.map(yr),this._parents)}function Hi(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Oi(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),c=0;c<a;++c)for(var s=n[c],u=r[c],p=s.length,d=l[c]=new Array(p),f,_=0;_<p;++_)(f=s[_]||u[_])&&(d[_]=f);for(;c<i;++c)l[c]=n[c];return new tt(l,this._parents)}function zi(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Gi(t){t||(t=Xi);function e(p,d){return p&&d?t(p.__data__,d.__data__):!p-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],l=a.length,c=i[o]=new Array(l),s,u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(e)}return new tt(i,this._parents).order()}function Xi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Vi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Wi(){return Array.from(this)}function Ui(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Yi(){let t=0;for(const e of this)++t;return t}function Ji(){return!this.node()}function Ki(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,l;o<a;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function Qi(t){return function(){this.removeAttribute(t)}}function Zi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function to(t,e){return function(){this.setAttribute(t,e)}}function eo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function no(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ro(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function io(t,e){var n=Ie(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Zi:Qi:typeof e=="function"?n.local?ro:no:n.local?eo:to)(n,e))}function vr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function oo(t){return function(){this.style.removeProperty(t)}}function ao(t,e,n){return function(){this.style.setProperty(t,e,n)}}function so(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function lo(t,e,n){return arguments.length>1?this.each((e==null?oo:typeof e=="function"?so:ao)(t,e,n??"")):$t(this.node(),t)}function $t(t,e){return t.style.getPropertyValue(e)||vr(t).getComputedStyle(t,null).getPropertyValue(e)}function co(t){return function(){delete this[t]}}function uo(t,e){return function(){this[t]=e}}function ho(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function fo(t,e){return arguments.length>1?this.each((e==null?co:typeof e=="function"?ho:uo)(t,e)):this.node()[t]}function wr(t){return t.trim().split(/^|\s+/)}function sn(t){return t.classList||new _r(t)}function _r(t){this._node=t,this._names=wr(t.getAttribute("class")||"")}_r.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function xr(t,e){for(var n=sn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function br(t,e){for(var n=sn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function po(t){return function(){xr(this,t)}}function go(t){return function(){br(this,t)}}function mo(t,e){return function(){(e.apply(this,arguments)?xr:br)(this,t)}}function yo(t,e){var n=wr(t+"");if(arguments.length<2){for(var r=sn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?mo:e?po:go)(n,e))}function vo(){this.textContent=""}function wo(t){return function(){this.textContent=t}}function _o(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function xo(t){return arguments.length?this.each(t==null?vo:(typeof t=="function"?_o:wo)(t)):this.node().textContent}function bo(){this.innerHTML=""}function So(t){return function(){this.innerHTML=t}}function Eo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ko(t){return arguments.length?this.each(t==null?bo:(typeof t=="function"?Eo:So)(t)):this.node().innerHTML}function Co(){this.nextSibling&&this.parentNode.appendChild(this)}function No(){return this.each(Co)}function Ao(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Io(){return this.each(Ao)}function To(t){var e=typeof t=="function"?t:fr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Bo(){return null}function Lo(t,e){var n=typeof t=="function"?t:fr(t),r=e==null?Bo:typeof e=="function"?e:an(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Mo(){var t=this.parentNode;t&&t.removeChild(this)}function $o(){return this.each(Mo)}function jo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Po(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function qo(t){return this.select(t?Po:jo)}function Fo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Do(t){return function(e){t.call(this,e,this.__data__)}}function Ro(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ho(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Oo(t,e,n){return function(){var r=this.__on,i,o=Do(e);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function zo(t,e,n){var r=Ro(t+""),i,o=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,s=l.length,u;c<s;++c)for(i=0,u=l[c];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(l=e?Oo:Ho,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function Sr(t,e,n){var r=vr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Go(t,e){return function(){return Sr(this,t,e)}}function Xo(t,e){return function(){return Sr(this,t,e.apply(this,arguments))}}function Vo(t,e){return this.each((typeof e=="function"?Xo:Go)(t,e))}function*Wo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var ln=[null];function tt(t,e){this._groups=t,this._parents=e}function ee(){return new tt([[document.documentElement]],ln)}function Uo(){return this}tt.prototype=ee.prototype={constructor:tt,select:_i,selectAll:Si,selectChild:Ni,selectChildren:Bi,filter:Li,data:Fi,enter:Mi,exit:Ri,join:Hi,merge:Oi,selection:Uo,order:zi,sort:Gi,call:Vi,nodes:Wi,node:Ui,size:Yi,empty:Ji,each:Ki,attr:io,style:lo,property:fo,classed:yo,text:xo,html:ko,raise:No,lower:Io,append:To,insert:Lo,remove:$o,clone:qo,datum:Fo,on:zo,dispatch:Vo,[Symbol.iterator]:Wo};function dt(t){return typeof t=="string"?new tt([[document.querySelector(t)]],[document.documentElement]):new tt([[t]],ln)}function Yo(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Hn(t,e){if(t=Yo(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Y(t){return typeof t=="string"?new tt([document.querySelectorAll(t)],[document.documentElement]):new tt([dr(t)],ln)}const Jo={passive:!1},Yt={capture:!0,passive:!1};function ze(t){t.stopImmediatePropagation()}function Lt(t){t.preventDefault(),t.stopImmediatePropagation()}function Ko(t){var e=t.document.documentElement,n=dt(t).on("dragstart.drag",Lt,Yt);"onselectstart"in e?n.on("selectstart.drag",Lt,Yt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Qo(t,e){var n=t.document.documentElement,r=dt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Lt,Yt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const le=t=>()=>t;function Je(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:l,dx:c,dy:s,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:u}})}Je.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Zo(t){return!t.ctrlKey&&!t.button}function ta(){return this.parentNode}function ea(t,e){return e??{x:t.x,y:t.y}}function na(){return navigator.maxTouchPoints||"ontouchstart"in this}function ra(){var t=Zo,e=ta,n=ea,r=na,i={},o=Ae("start","drag","end"),a=0,l,c,s,u,p=0;function d(y){y.on("mousedown.drag",f).filter(r).on("touchstart.drag",v).on("touchmove.drag",x,Jo).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(y,A){if(!(u||!t.call(this,y,A))){var j=B(this,e.call(this,y,A),y,A,"mouse");j&&(dt(y.view).on("mousemove.drag",_,Yt).on("mouseup.drag",w,Yt),Ko(y.view),ze(y),s=!1,l=y.clientX,c=y.clientY,j("start",y))}}function _(y){if(Lt(y),!s){var A=y.clientX-l,j=y.clientY-c;s=A*A+j*j>p}i.mouse("drag",y)}function w(y){dt(y.view).on("mousemove.drag mouseup.drag",null),Qo(y.view,s),Lt(y),i.mouse("end",y)}function v(y,A){if(t.call(this,y,A)){var j=y.changedTouches,N=e.call(this,y,A),P=j.length,G,F;for(G=0;G<P;++G)(F=B(this,N,y,A,j[G].identifier,j[G]))&&(ze(y),F("start",y,j[G]))}}function x(y){var A=y.changedTouches,j=A.length,N,P;for(N=0;N<j;++N)(P=i[A[N].identifier])&&(Lt(y),P("drag",y,A[N]))}function b(y){var A=y.changedTouches,j=A.length,N,P;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),N=0;N<j;++N)(P=i[A[N].identifier])&&(ze(y),P("end",y,A[N]))}function B(y,A,j,N,P,G){var F=o.copy(),R=Hn(G||j,A),T,q,X;if((X=n.call(y,new Je("beforestart",{sourceEvent:j,target:d,identifier:P,active:a,x:R[0],y:R[1],dx:0,dy:0,dispatch:F}),N))!=null)return T=X.x-R[0]||0,q=X.y-R[1]||0,function rt(Q,Et,Ft){var re=R,at;switch(Q){case"start":i[P]=rt,at=a++;break;case"end":delete i[P],--a;case"drag":R=Hn(Ft||Et,A),at=a;break}F.call(Q,y,new Je(Q,{sourceEvent:Et,subject:X,target:d,identifier:P,active:at,x:R[0]+T,y:R[1]+q,dx:R[0]-re[0],dy:R[1]-re[1],dispatch:F}),N)}}return d.filter=function(y){return arguments.length?(t=typeof y=="function"?y:le(!!y),d):t},d.container=function(y){return arguments.length?(e=typeof y=="function"?y:le(y),d):e},d.subject=function(y){return arguments.length?(n=typeof y=="function"?y:le(y),d):n},d.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:le(!!y),d):r},d.on=function(){var y=o.on.apply(o,arguments);return y===o?d:y},d.clickDistance=function(y){return arguments.length?(p=(y=+y)*y,d):Math.sqrt(p)},d}function cn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Er(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ne(){}var Jt=.7,_e=1/Jt,Mt="\\s*([+-]?\\d+)\\s*",Kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ia=/^#([0-9a-f]{3,8})$/,oa=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),aa=new RegExp(`^rgb\\(${gt},${gt},${gt}\\)$`),sa=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${Kt}\\)$`),la=new RegExp(`^rgba\\(${gt},${gt},${gt},${Kt}\\)$`),ca=new RegExp(`^hsl\\(${Kt},${gt},${gt}\\)$`),ua=new RegExp(`^hsla\\(${Kt},${gt},${gt},${Kt}\\)$`),On={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cn(ne,Qt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zn,formatHex:zn,formatHex8:ha,formatHsl:fa,formatRgb:Gn,toString:Gn});function zn(){return this.rgb().formatHex()}function ha(){return this.rgb().formatHex8()}function fa(){return kr(this).formatHsl()}function Gn(){return this.rgb().formatRgb()}function Qt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ia.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Xn(e):n===3?new nt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ce(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ce(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oa.exec(t))?new nt(e[1],e[2],e[3],1):(e=aa.exec(t))?new nt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sa.exec(t))?ce(e[1],e[2],e[3],e[4]):(e=la.exec(t))?ce(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ca.exec(t))?Un(e[1],e[2]/100,e[3]/100,1):(e=ua.exec(t))?Un(e[1],e[2]/100,e[3]/100,e[4]):On.hasOwnProperty(t)?Xn(On[t]):t==="transparent"?new nt(NaN,NaN,NaN,0):null}function Xn(t){return new nt(t>>16&255,t>>8&255,t&255,1)}function ce(t,e,n,r){return r<=0&&(t=e=n=NaN),new nt(t,e,n,r)}function da(t){return t instanceof ne||(t=Qt(t)),t?(t=t.rgb(),new nt(t.r,t.g,t.b,t.opacity)):new nt}function Ke(t,e,n,r){return arguments.length===1?da(t):new nt(t,e,n,r??1)}function nt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cn(nt,Ke,Er(ne,{brighter(t){return t=t==null?_e:Math.pow(_e,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jt:Math.pow(Jt,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nt(Ct(this.r),Ct(this.g),Ct(this.b),xe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vn,formatHex:Vn,formatHex8:pa,formatRgb:Wn,toString:Wn}));function Vn(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}`}function pa(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}${kt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wn(){const t=xe(this.opacity);return`${t===1?"rgb(":"rgba("}${Ct(this.r)}, ${Ct(this.g)}, ${Ct(this.b)}${t===1?")":`, ${t})`}`}function xe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ct(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kt(t){return t=Ct(t),(t<16?"0":"")+t.toString(16)}function Un(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new st(t,e,n,r)}function kr(t){if(t instanceof st)return new st(t.h,t.s,t.l,t.opacity);if(t instanceof ne||(t=Qt(t)),!t)return new st;if(t instanceof st)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,c=(o+i)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?o+i:2-o-i,a*=60):l=c>0&&c<1?0:a,new st(a,l,c,t.opacity)}function ga(t,e,n,r){return arguments.length===1?kr(t):new st(t,e,n,r??1)}function st(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cn(st,ga,Er(ne,{brighter(t){return t=t==null?_e:Math.pow(_e,t),new st(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jt:Math.pow(Jt,t),new st(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new nt(Ge(t>=240?t-240:t+120,i,r),Ge(t,i,r),Ge(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new st(Yn(this.h),ue(this.s),ue(this.l),xe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xe(this.opacity);return`${t===1?"hsl(":"hsla("}${Yn(this.h)}, ${ue(this.s)*100}%, ${ue(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Yn(t){return t=(t||0)%360,t<0?t+360:t}function ue(t){return Math.max(0,Math.min(1,t||0))}function Ge(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Cr=t=>()=>t;function ma(t,e){return function(n){return t+n*e}}function ya(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function va(t){return(t=+t)==1?Nr:function(e,n){return n-e?ya(e,n,t):Cr(isNaN(e)?n:e)}}function Nr(t,e){var n=e-t;return n?ma(t,n):Cr(isNaN(t)?e:t)}const Jn=function t(e){var n=va(e);function r(i,o){var a=n((i=Ke(i)).r,(o=Ke(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),s=Nr(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=l(u),i.b=c(u),i.opacity=s(u),i+""}}return r.gamma=t,r}(1);function xt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Qe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xe=new RegExp(Qe.source,"g");function wa(t){return function(){return t}}function _a(t){return function(e){return t(e)+""}}function xa(t,e){var n=Qe.lastIndex=Xe.lastIndex=0,r,i,o,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Qe.exec(t))&&(i=Xe.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:xt(r,i)})),n=Xe.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?c[0]?_a(c[0].x):wa(e):(e=c.length,function(s){for(var u=0,p;u<e;++u)l[(p=c[u]).i]=p.x(s);return l.join("")})}var Kn=180/Math.PI,Ze={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ar(t,e,n,r,i,o){var a,l,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Kn,skewX:Math.atan(c)*Kn,scaleX:a,scaleY:l}}var he;function ba(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ze:Ar(e.a,e.b,e.c,e.d,e.e,e.f)}function Sa(t){return t==null||(he||(he=document.createElementNS("http://www.w3.org/2000/svg","g")),he.setAttribute("transform",t),!(t=he.transform.baseVal.consolidate()))?Ze:(t=t.matrix,Ar(t.a,t.b,t.c,t.d,t.e,t.f))}function Ir(t,e,n,r){function i(s){return s.length?s.pop()+" ":""}function o(s,u,p,d,f,_){if(s!==p||u!==d){var w=f.push("translate(",null,e,null,n);_.push({i:w-4,x:xt(s,p)},{i:w-2,x:xt(u,d)})}else(p||d)&&f.push("translate("+p+e+d+n)}function a(s,u,p,d){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),d.push({i:p.push(i(p)+"rotate(",null,r)-2,x:xt(s,u)})):u&&p.push(i(p)+"rotate("+u+r)}function l(s,u,p,d){s!==u?d.push({i:p.push(i(p)+"skewX(",null,r)-2,x:xt(s,u)}):u&&p.push(i(p)+"skewX("+u+r)}function c(s,u,p,d,f,_){if(s!==p||u!==d){var w=f.push(i(f)+"scale(",null,",",null,")");_.push({i:w-4,x:xt(s,p)},{i:w-2,x:xt(u,d)})}else(p!==1||d!==1)&&f.push(i(f)+"scale("+p+","+d+")")}return function(s,u){var p=[],d=[];return s=t(s),u=t(u),o(s.translateX,s.translateY,u.translateX,u.translateY,p,d),a(s.rotate,u.rotate,p,d),l(s.skewX,u.skewX,p,d),c(s.scaleX,s.scaleY,u.scaleX,u.scaleY,p,d),s=u=null,function(f){for(var _=-1,w=d.length,v;++_<w;)p[(v=d[_]).i]=v.x(f);return p.join("")}}}var Ea=Ir(ba,"px, ","px)","deg)"),ka=Ir(Sa,", ",")",")"),jt=0,Xt=0,zt=0,Tr=1e3,be,Vt,Se=0,At=0,Te=0,Zt=typeof performance=="object"&&performance.now?performance:Date,Br=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function un(){return At||(Br(Ca),At=Zt.now()+Te)}function Ca(){At=0}function Ee(){this._call=this._time=this._next=null}Ee.prototype=hn.prototype={constructor:Ee,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?un():+n)+(e==null?0:+e),!this._next&&Vt!==this&&(Vt?Vt._next=this:be=this,Vt=this),this._call=t,this._time=n,tn()},stop:function(){this._call&&(this._call=null,this._time=1/0,tn())}};function hn(t,e,n){var r=new Ee;return r.restart(t,e,n),r}function Na(){un(),++jt;for(var t=be,e;t;)(e=At-t._time)>=0&&t._call.call(void 0,e),t=t._next;--jt}function Qn(){At=(Se=Zt.now())+Te,jt=Xt=0;try{Na()}finally{jt=0,Ia(),At=0}}function Aa(){var t=Zt.now(),e=t-Se;e>Tr&&(Te-=e,Se=t)}function Ia(){for(var t,e=be,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:be=n);Vt=t,tn(r)}function tn(t){if(!jt){Xt&&(Xt=clearTimeout(Xt));var e=t-At;e>24?(t<1/0&&(Xt=setTimeout(Qn,t-Zt.now()-Te)),zt&&(zt=clearInterval(zt))):(zt||(Se=Zt.now(),zt=setInterval(Aa,Tr)),jt=1,Br(Qn))}}function Zn(t,e,n){var r=new Ee;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ta=Ae("start","end","cancel","interrupt"),Ba=[],Lr=0,tr=1,en=2,me=3,er=4,nn=5,ye=6;function Be(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;La(t,n,{name:e,index:r,group:i,on:Ta,tween:Ba,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Lr})}function fn(t,e){var n=lt(t,e);if(n.state>Lr)throw new Error("too late; already scheduled");return n}function yt(t,e){var n=lt(t,e);if(n.state>me)throw new Error("too late; already running");return n}function lt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function La(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=hn(o,0,n.time);function o(s){n.state=tr,n.timer.restart(a,n.delay,n.time),n.delay<=s&&a(s-n.delay)}function a(s){var u,p,d,f;if(n.state!==tr)return c();for(u in r)if(f=r[u],f.name===n.name){if(f.state===me)return Zn(a);f.state===er?(f.state=ye,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=ye,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if(Zn(function(){n.state===me&&(n.state=er,n.timer.restart(l,n.delay,n.time),l(s))}),n.state=en,n.on.call("start",t,t.__data__,n.index,n.group),n.state===en){for(n.state=me,i=new Array(d=n.tween.length),u=0,p=-1;u<d;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=f);i.length=p+1}}function l(s){for(var u=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(c),n.state=nn,1),p=-1,d=i.length;++p<d;)i[p].call(t,u);n.state===nn&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=ye,n.timer.stop(),delete r[e];for(var s in r)return;delete t.__transition}}function Ma(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>en&&r.state<nn,r.state=ye,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function $a(t){return this.each(function(){Ma(this,t)})}function ja(t,e){var n,r;return function(){var i=yt(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Pa(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=yt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var l={name:e,value:n},c=0,s=i.length;c<s;++c)if(i[c].name===e){i[c]=l;break}c===s&&i.push(l)}o.tween=i}}function qa(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=lt(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?ja:Pa)(n,t,e))}function dn(t,e,n){var r=t._id;return t.each(function(){var i=yt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return lt(i,r).value[e]}}function Mr(t,e){var n;return(typeof e=="number"?xt:e instanceof Qt?Jn:(n=Qt(e))?(e=n,Jn):xa)(t,e)}function Fa(t){return function(){this.removeAttribute(t)}}function Da(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ra(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Ha(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Oa(t,e,n){var r,i,o;return function(){var a,l=n(this),c;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=l+"",a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,l)))}}function za(t,e,n){var r,i,o;return function(){var a,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=l+"",a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,l)))}}function Ga(t,e){var n=Ie(t),r=n==="transform"?ka:Mr;return this.attrTween(t,typeof e=="function"?(n.local?za:Oa)(n,r,dn(this,"attr."+t,e)):e==null?(n.local?Da:Fa)(n):(n.local?Ha:Ra)(n,r,e))}function Xa(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Va(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Wa(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Va(t,o)),n}return i._value=e,i}function Ua(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Xa(t,o)),n}return i._value=e,i}function Ya(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ie(t);return this.tween(n,(r.local?Wa:Ua)(r,e))}function Ja(t,e){return function(){fn(this,t).delay=+e.apply(this,arguments)}}function Ka(t,e){return e=+e,function(){fn(this,t).delay=e}}function Qa(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ja:Ka)(e,t)):lt(this.node(),e).delay}function Za(t,e){return function(){yt(this,t).duration=+e.apply(this,arguments)}}function ts(t,e){return e=+e,function(){yt(this,t).duration=e}}function es(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Za:ts)(e,t)):lt(this.node(),e).duration}function ns(t,e){if(typeof e!="function")throw new Error;return function(){yt(this,t).ease=e}}function rs(t){var e=this._id;return arguments.length?this.each(ns(e,t)):lt(this.node(),e).ease}function is(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;yt(this,t).ease=n}}function os(t){if(typeof t!="function")throw new Error;return this.each(is(this._id,t))}function as(t){typeof t!="function"&&(t=gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&l.push(c);return new _t(r,this._parents,this._name,this._id)}function ss(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),l=0;l<o;++l)for(var c=e[l],s=n[l],u=c.length,p=a[l]=new Array(u),d,f=0;f<u;++f)(d=c[f]||s[f])&&(p[f]=d);for(;l<r;++l)a[l]=e[l];return new _t(a,this._parents,this._name,this._id)}function ls(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function cs(t,e,n){var r,i,o=ls(e)?fn:yt;return function(){var a=o(this,t),l=a.on;l!==r&&(i=(r=l).copy()).on(e,n),a.on=i}}function us(t,e){var n=this._id;return arguments.length<2?lt(this.node(),n).on.on(t):this.each(cs(n,t,e))}function hs(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function fs(){return this.on("end.remove",hs(this._id))}function ds(t){var e=this._name,n=this._id;typeof t!="function"&&(t=an(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var l=r[a],c=l.length,s=o[a]=new Array(c),u,p,d=0;d<c;++d)(u=l[d])&&(p=t.call(u,u.__data__,d,l))&&("__data__"in u&&(p.__data__=u.__data__),s[d]=p,Be(s[d],e,n,d,s,lt(u,n)));return new _t(o,this._parents,e,n)}function ps(t){var e=this._name,n=this._id;typeof t!="function"&&(t=pr(t));for(var r=this._groups,i=r.length,o=[],a=[],l=0;l<i;++l)for(var c=r[l],s=c.length,u,p=0;p<s;++p)if(u=c[p]){for(var d=t.call(u,u.__data__,p,c),f,_=lt(u,n),w=0,v=d.length;w<v;++w)(f=d[w])&&Be(f,e,n,w,d,_);o.push(d),a.push(u)}return new _t(o,a,e,n)}var gs=ee.prototype.constructor;function ms(){return new gs(this._groups,this._parents)}function ys(t,e){var n,r,i;return function(){var o=$t(this,t),a=(this.style.removeProperty(t),$t(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function $r(t){return function(){this.style.removeProperty(t)}}function vs(t,e,n){var r,i=n+"",o;return function(){var a=$t(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function ws(t,e,n){var r,i,o;return function(){var a=$t(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),$t(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,l))}}function _s(t,e){var n,r,i,o="style."+e,a="end."+o,l;return function(){var c=yt(this,t),s=c.on,u=c.value[o]==null?l||(l=$r(e)):void 0;(s!==n||i!==u)&&(r=(n=s).copy()).on(a,i=u),c.on=r}}function xs(t,e,n){var r=(t+="")=="transform"?Ea:Mr;return e==null?this.styleTween(t,ys(t,r)).on("end.style."+t,$r(t)):typeof e=="function"?this.styleTween(t,ws(t,r,dn(this,"style."+t,e))).each(_s(this._id,t)):this.styleTween(t,vs(t,r,e),n).on("end.style."+t,null)}function bs(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ss(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&bs(t,a,n)),r}return o._value=e,o}function Es(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Ss(t,e,n??""))}function ks(t){return function(){this.textContent=t}}function Cs(t){return function(){var e=t(this);this.textContent=e??""}}function Ns(t){return this.tween("text",typeof t=="function"?Cs(dn(this,"text",t)):ks(t==null?"":t+""))}function As(t){return function(e){this.textContent=t.call(this,e)}}function Is(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&As(i)),e}return r._value=t,r}function Ts(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Is(t))}function Bs(){for(var t=this._name,e=this._id,n=jr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,c,s=0;s<l;++s)if(c=a[s]){var u=lt(c,e);Be(c,t,n,s,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new _t(r,this._parents,t,n)}function Ls(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var l={value:a},c={value:function(){--i===0&&o()}};n.each(function(){var s=yt(this,r),u=s.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),s.on=e}),i===0&&o()})}var Ms=0;function _t(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function jr(){return++Ms}var vt=ee.prototype;_t.prototype={constructor:_t,select:ds,selectAll:ps,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:as,merge:ss,selection:ms,transition:Bs,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:us,attr:Ga,attrTween:Ya,style:xs,styleTween:Es,text:Ns,textTween:Ts,remove:fs,tween:qa,delay:Qa,duration:es,ease:rs,easeVarying:os,end:Ls,[Symbol.iterator]:vt[Symbol.iterator]};function $s(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var js={time:null,delay:0,duration:250,ease:$s};function Ps(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function qs(t){var e,n;t instanceof _t?(e=t._id,t=t._name):(e=jr(),(n=js).time=un(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,c,s=0;s<l;++s)(c=a[s])&&Be(c,t,e,s,a,n||Ps(c,e));return new _t(r,this._parents,t,e)}ee.prototype.interrupt=$a;ee.prototype.transition=qs;function nr(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,a=n.length,l,c=0,s=0;for(o=0;o<a;++o)l=n[o],c+=l.x,s+=l.y;for(c=(c/a-t)*r,s=(s/a-e)*r,o=0;o<a;++o)l=n[o],l.x-=c,l.y-=s}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function Fs(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Pr(this.cover(e,n),e,n,t)}function Pr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,a={data:r},l=t._x0,c=t._y0,s=t._x1,u=t._y1,p,d,f,_,w,v,x,b;if(!o)return t._root=a,t;for(;o.length;)if((w=e>=(p=(l+s)/2))?l=p:s=p,(v=n>=(d=(c+u)/2))?c=d:u=d,i=o,!(o=o[x=v<<1|w]))return i[x]=a,t;if(f=+t._x.call(null,o.data),_=+t._y.call(null,o.data),e===f&&n===_)return a.next=o,i?i[x]=a:t._root=a,t;do i=i?i[x]=new Array(4):t._root=new Array(4),(w=e>=(p=(l+s)/2))?l=p:s=p,(v=n>=(d=(c+u)/2))?c=d:u=d;while((x=v<<1|w)===(b=(_>=d)<<1|f>=p));return i[b]=o,i[x]=a,t}function Ds(t){var e,n,r=t.length,i,o,a=new Array(r),l=new Array(r),c=1/0,s=1/0,u=-1/0,p=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=i,l[n]=o,i<c&&(c=i),i>u&&(u=i),o<s&&(s=o),o>p&&(p=o));if(c>u||s>p)return this;for(this.cover(c,s).cover(u,p),n=0;n<r;++n)Pr(this,a[n],l[n],t[n]);return this}function Rs(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a=i-n||1,l=this._root,c,s;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,c=new Array(4),c[s]=l,l=c,a*=2,s){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Hs(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Os(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Z(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function zs(t,e,n){var r,i=this._x0,o=this._y0,a,l,c,s,u=this._x1,p=this._y1,d=[],f=this._root,_,w;for(f&&d.push(new Z(f,i,o,u,p)),n==null?n=1/0:(i=t-n,o=e-n,u=t+n,p=e+n,n*=n);_=d.pop();)if(!(!(f=_.node)||(a=_.x0)>u||(l=_.y0)>p||(c=_.x1)<i||(s=_.y1)<o))if(f.length){var v=(a+c)/2,x=(l+s)/2;d.push(new Z(f[3],v,x,c,s),new Z(f[2],a,x,v,s),new Z(f[1],v,l,c,x),new Z(f[0],a,l,v,x)),(w=(e>=x)<<1|t>=v)&&(_=d[d.length-1],d[d.length-1]=d[d.length-1-w],d[d.length-1-w]=_)}else{var b=t-+this._x.call(null,f.data),B=e-+this._y.call(null,f.data),y=b*b+B*B;if(y<n){var A=Math.sqrt(n=y);i=t-A,o=e-A,u=t+A,p=e+A,r=f.data}}return r}function Gs(t){if(isNaN(u=+this._x.call(null,t))||isNaN(p=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,a=this._x0,l=this._y0,c=this._x1,s=this._y1,u,p,d,f,_,w,v,x;if(!n)return this;if(n.length)for(;;){if((_=u>=(d=(a+c)/2))?a=d:c=d,(w=p>=(f=(l+s)/2))?l=f:s=f,e=n,!(n=n[v=w<<1|_]))return this;if(!n.length)break;(e[v+1&3]||e[v+2&3]||e[v+3&3])&&(r=e,x=v)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[v]=o:delete e[v],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[x]=n:this._root=n),this):(this._root=o,this)}function Xs(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Vs(){return this._root}function Ws(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Us(t){var e=[],n,r=this._root,i,o,a,l,c;for(r&&e.push(new Z(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,a=n.y0,l=n.x1,c=n.y1)&&r.length){var s=(o+l)/2,u=(a+c)/2;(i=r[3])&&e.push(new Z(i,s,u,l,c)),(i=r[2])&&e.push(new Z(i,o,u,s,c)),(i=r[1])&&e.push(new Z(i,s,a,l,u)),(i=r[0])&&e.push(new Z(i,o,a,s,u))}return this}function Ys(t){var e=[],n=[],r;for(this._root&&e.push(new Z(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,a=r.x0,l=r.y0,c=r.x1,s=r.y1,u=(a+c)/2,p=(l+s)/2;(o=i[0])&&e.push(new Z(o,a,l,u,p)),(o=i[1])&&e.push(new Z(o,u,l,c,p)),(o=i[2])&&e.push(new Z(o,a,p,u,s)),(o=i[3])&&e.push(new Z(o,u,p,c,s))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Js(t){return t[0]}function Ks(t){return arguments.length?(this._x=t,this):this._x}function Qs(t){return t[1]}function Zs(t){return arguments.length?(this._y=t,this):this._y}function pn(t,e,n){var r=new gn(e??Js,n??Qs,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function gn(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function rr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var et=pn.prototype=gn.prototype;et.copy=function(){var t=new gn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=rr(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=rr(r));return t};et.add=Fs;et.addAll=Ds;et.cover=Rs;et.data=Hs;et.extent=Os;et.find=zs;et.remove=Gs;et.removeAll=Xs;et.root=Vs;et.size=Ws;et.visit=Us;et.visitAfter=Ys;et.x=Ks;et.y=Zs;function Nt(t){return function(){return t}}function bt(t){return(t()-.5)*1e-6}function tl(t){return t.x+t.vx}function el(t){return t.y+t.vy}function nl(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=Nt(t==null?1:+t));function a(){for(var s,u=e.length,p,d,f,_,w,v,x=0;x<o;++x)for(p=pn(e,tl,el).visitAfter(l),s=0;s<u;++s)d=e[s],w=n[d.index],v=w*w,f=d.x+d.vx,_=d.y+d.vy,p.visit(b);function b(B,y,A,j,N){var P=B.data,G=B.r,F=w+G;if(P){if(P.index>d.index){var R=f-P.x-P.vx,T=_-P.y-P.vy,q=R*R+T*T;q<F*F&&(R===0&&(R=bt(r),q+=R*R),T===0&&(T=bt(r),q+=T*T),q=(F-(q=Math.sqrt(q)))/q*i,d.vx+=(R*=q)*(F=(G*=G)/(v+G)),d.vy+=(T*=q)*F,P.vx-=R*(F=1-F),P.vy-=T*F)}return}return y>f+F||j<f-F||A>_+F||N<_-F}}function l(s){if(s.data)return s.r=n[s.data.index];for(var u=s.r=0;u<4;++u)s[u]&&s[u].r>s.r&&(s.r=s[u].r)}function c(){if(e){var s,u=e.length,p;for(n=new Array(u),s=0;s<u;++s)p=e[s],n[p.index]=+t(p,s,e)}}return a.initialize=function(s,u){e=s,r=u,c()},a.iterations=function(s){return arguments.length?(o=+s,a):o},a.strength=function(s){return arguments.length?(i=+s,a):i},a.radius=function(s){return arguments.length?(t=typeof s=="function"?s:Nt(+s),c(),a):t},a}function rl(t){return t.index}function ir(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function il(t){var e=rl,n=p,r,i=Nt(30),o,a,l,c,s,u=1;t==null&&(t=[]);function p(v){return 1/Math.min(l[v.source.index],l[v.target.index])}function d(v){for(var x=0,b=t.length;x<u;++x)for(var B=0,y,A,j,N,P,G,F;B<b;++B)y=t[B],A=y.source,j=y.target,N=j.x+j.vx-A.x-A.vx||bt(s),P=j.y+j.vy-A.y-A.vy||bt(s),G=Math.sqrt(N*N+P*P),G=(G-o[B])/G*v*r[B],N*=G,P*=G,j.vx-=N*(F=c[B]),j.vy-=P*F,A.vx+=N*(F=1-F),A.vy+=P*F}function f(){if(a){var v,x=a.length,b=t.length,B=new Map(a.map((A,j)=>[e(A,j,a),A])),y;for(v=0,l=new Array(x);v<b;++v)y=t[v],y.index=v,typeof y.source!="object"&&(y.source=ir(B,y.source)),typeof y.target!="object"&&(y.target=ir(B,y.target)),l[y.source.index]=(l[y.source.index]||0)+1,l[y.target.index]=(l[y.target.index]||0)+1;for(v=0,c=new Array(b);v<b;++v)y=t[v],c[v]=l[y.source.index]/(l[y.source.index]+l[y.target.index]);r=new Array(b),_(),o=new Array(b),w()}}function _(){if(a)for(var v=0,x=t.length;v<x;++v)r[v]=+n(t[v],v,t)}function w(){if(a)for(var v=0,x=t.length;v<x;++v)o[v]=+i(t[v],v,t)}return d.initialize=function(v,x){a=v,s=x,f()},d.links=function(v){return arguments.length?(t=v,f(),d):t},d.id=function(v){return arguments.length?(e=v,d):e},d.iterations=function(v){return arguments.length?(u=+v,d):u},d.strength=function(v){return arguments.length?(n=typeof v=="function"?v:Nt(+v),_(),d):n},d.distance=function(v){return arguments.length?(i=typeof v=="function"?v:Nt(+v),w(),d):i},d}const ol=1664525,al=1013904223,or=4294967296;function sl(){let t=1;return()=>(t=(ol*t+al)%or)/or}function ll(t){return t.x}function cl(t){return t.y}var ul=10,hl=Math.PI*(3-Math.sqrt(5));function fl(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,l=new Map,c=hn(p),s=Ae("tick","end"),u=sl();t==null&&(t=[]);function p(){d(),s.call("tick",e),n<r&&(c.stop(),s.call("end",e))}function d(w){var v,x=t.length,b;w===void 0&&(w=1);for(var B=0;B<w;++B)for(n+=(o-n)*i,l.forEach(function(y){y(n)}),v=0;v<x;++v)b=t[v],b.fx==null?b.x+=b.vx*=a:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=a:(b.y=b.fy,b.vy=0);return e}function f(){for(var w=0,v=t.length,x;w<v;++w){if(x=t[w],x.index=w,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var b=ul*Math.sqrt(.5+w),B=w*hl;x.x=b*Math.cos(B),x.y=b*Math.sin(B)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function _(w){return w.initialize&&w.initialize(t,u),w}return f(),e={tick:d,restart:function(){return c.restart(p),e},stop:function(){return c.stop(),e},nodes:function(w){return arguments.length?(t=w,f(),l.forEach(_),e):t},alpha:function(w){return arguments.length?(n=+w,e):n},alphaMin:function(w){return arguments.length?(r=+w,e):r},alphaDecay:function(w){return arguments.length?(i=+w,e):+i},alphaTarget:function(w){return arguments.length?(o=+w,e):o},velocityDecay:function(w){return arguments.length?(a=1-w,e):1-a},randomSource:function(w){return arguments.length?(u=w,l.forEach(_),e):u},force:function(w,v){return arguments.length>1?(v==null?l.delete(w):l.set(w,_(v)),e):l.get(w)},find:function(w,v,x){var b=0,B=t.length,y,A,j,N,P;for(x==null?x=1/0:x*=x,b=0;b<B;++b)N=t[b],y=w-N.x,A=v-N.y,j=y*y+A*A,j<x&&(P=N,x=j);return P},on:function(w,v){return arguments.length>1?(s.on(w,v),e):s.on(w)}}}function dl(){var t,e,n,r,i=Nt(-30),o,a=1,l=1/0,c=.81;function s(f){var _,w=t.length,v=pn(t,ll,cl).visitAfter(p);for(r=f,_=0;_<w;++_)e=t[_],v.visit(d)}function u(){if(t){var f,_=t.length,w;for(o=new Array(_),f=0;f<_;++f)w=t[f],o[w.index]=+i(w,f,t)}}function p(f){var _=0,w,v,x=0,b,B,y;if(f.length){for(b=B=y=0;y<4;++y)(w=f[y])&&(v=Math.abs(w.value))&&(_+=w.value,x+=v,b+=v*w.x,B+=v*w.y);f.x=b/x,f.y=B/x}else{w=f,w.x=w.data.x,w.y=w.data.y;do _+=o[w.data.index];while(w=w.next)}f.value=_}function d(f,_,w,v){if(!f.value)return!0;var x=f.x-e.x,b=f.y-e.y,B=v-_,y=x*x+b*b;if(B*B/c<y)return y<l&&(x===0&&(x=bt(n),y+=x*x),b===0&&(b=bt(n),y+=b*b),y<a&&(y=Math.sqrt(a*y)),e.vx+=x*f.value*r/y,e.vy+=b*f.value*r/y),!0;if(f.length||y>=l)return;(f.data!==e||f.next)&&(x===0&&(x=bt(n),y+=x*x),b===0&&(b=bt(n),y+=b*b),y<a&&(y=Math.sqrt(a*y)));do f.data!==e&&(B=o[f.data.index]*r/y,e.vx+=x*B,e.vy+=b*B);while(f=f.next)}return s.initialize=function(f,_){t=f,n=_,u()},s.strength=function(f){return arguments.length?(i=typeof f=="function"?f:Nt(+f),u(),s):i},s.distanceMin=function(f){return arguments.length?(a=f*f,s):Math.sqrt(a)},s.distanceMax=function(f){return arguments.length?(l=f*f,s):Math.sqrt(l)},s.theta=function(f){return arguments.length?(c=f*f,s):Math.sqrt(c)},s}function pl(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function gl(){return this.eachAfter(pl)}function ml(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function yl(t,e){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function vl(t,e){for(var n=this,r=[n],i=[],o,a,l,c=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,l=o.length;a<l;++a)r.push(o[a]);for(;n=i.pop();)t.call(e,n,++c,this);return this}function wl(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function _l(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function xl(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function bl(t){for(var e=this,n=Sl(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Sl(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function El(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function kl(){return Array.from(this)}function Cl(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Nl(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Al(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function mn(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Bl)):e===void 0&&(e=Tl);for(var n=new te(t),r,i=[n],o,a,l,c;r=i.pop();)if((a=e(r.data))&&(c=(a=Array.from(a)).length))for(r.children=a,l=c-1;l>=0;--l)i.push(o=a[l]=new te(a[l])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(Ml)}function Il(){return mn(this).eachBefore(Ll)}function Tl(t){return t.children}function Bl(t){return Array.isArray(t)?t[1]:null}function Ll(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Ml(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function te(t){this.data=t,this.depth=this.height=0,this.parent=null}te.prototype=mn.prototype={constructor:te,count:gl,each:ml,eachAfter:vl,eachBefore:yl,find:wl,sum:_l,sort:xl,path:bl,ancestors:El,descendants:kl,leaves:Cl,links:Nl,copy:Il,[Symbol.iterator]:Al};function $l(t,e){return t.parent===e.parent?1:2}function Ve(t){var e=t.children;return e?e[0]:t.t}function We(t){var e=t.children;return e?e[e.length-1]:t.t}function jl(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Pl(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function ql(t,e,n){return t.a.parent===e.parent?t.a:n}function ve(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}ve.prototype=Object.create(te.prototype);function Fl(t){for(var e=new ve(t,0),n,r=[e],i,o,a,l;n=r.pop();)if(o=n._.children)for(n.children=new Array(l=o.length),a=l-1;a>=0;--a)r.push(i=n.children[a]=new ve(o[a],a)),i.parent=n;return(e.parent=new ve(null,0)).children=[e],e}function Dl(){var t=$l,e=1,n=1,r=null;function i(s){var u=Fl(s);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),r)s.eachBefore(c);else{var p=s,d=s,f=s;s.eachBefore(function(b){b.x<p.x&&(p=b),b.x>d.x&&(d=b),b.depth>f.depth&&(f=b)});var _=p===d?1:t(p,d)/2,w=_-p.x,v=e/(d.x+_+w),x=n/(f.depth||1);s.eachBefore(function(b){b.x=(b.x+w)*v,b.y=b.depth*x})}return s}function o(s){var u=s.children,p=s.parent.children,d=s.i?p[s.i-1]:null;if(u){Pl(s);var f=(u[0].z+u[u.length-1].z)/2;d?(s.z=d.z+t(s._,d._),s.m=s.z-f):s.z=f}else d&&(s.z=d.z+t(s._,d._));s.parent.A=l(s,d,s.parent.A||p[0])}function a(s){s._.x=s.z+s.parent.m,s.m+=s.parent.m}function l(s,u,p){if(u){for(var d=s,f=s,_=u,w=d.parent.children[0],v=d.m,x=f.m,b=_.m,B=w.m,y;_=We(_),d=Ve(d),_&&d;)w=Ve(w),f=We(f),f.a=s,y=_.z+b-d.z-v+t(_._,d._),y>0&&(jl(ql(_,s,p),s,y),v+=y,x+=y),b+=_.m,v+=d.m,B+=w.m,x+=f.m;_&&!We(f)&&(f.t=_,f.m+=b-x),d&&!Ve(w)&&(w.t=d,w.m+=v-B,p=s)}return p}function c(s){s.x*=e,s.y=s.depth*n}return i.separation=function(s){return arguments.length?(t=s,i):t},i.size=function(s){return arguments.length?(r=!1,e=+s[0],n=+s[1],i):r?null:[e,n]},i.nodeSize=function(s){return arguments.length?(r=!0,e=+s[0],n=+s[1],i):r?[e,n]:null},i}function Wt(t,e,n){this.k=t,this.x=e,this.y=n}Wt.prototype={constructor:Wt,scale:function(t){return t===1?this:new Wt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Wt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Wt.prototype;/*!
 * Intro.js v7.2.0
 * https://introjs.com
 *
 * Copyright (C) 2012-2023 Afshin Mehrabani (@afshinmeh).
 * https://introjs.com
 *
 * Date: Mon, 14 Aug 2023 19:47:14 GMT
 */function ke(t){return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(t)}function O(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(s){try{c(r.next(s))}catch(u){o(u)}}function l(s){try{c(r.throw(s))}catch(u){o(u)}}function c(s){var u;s.done?i(s.value):(u=s.value,u instanceof n?u:new n(function(p){p(u)})).then(a,l)}c((r=r.apply(t,[])).next())})}function z(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(p){u=[6,p],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([c,s])}}}function ar(t,e,n){var r,i=((r={})[t]=e,r.path="/",r.expires=void 0,r);if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i.expires=o.toUTCString()}var a=[];for(var l in i)a.push("".concat(l,"=").concat(i[l]));return document.cookie=a.join("; "),qr(t)}function qr(t){return(e={},document.cookie.split(";").forEach(function(n){var r=n.split("="),i=r[0],o=r[1];e[i.trim()]=o}),e)[t];var e}function Rl(t,e){e?ar(t._options.dontShowAgainCookie,"true",t._options.dontShowAgainCookieDays):ar(t._options.dontShowAgainCookie,"",-1)}var fe,rn=(fe={},function(t,e){return e===void 0&&(e="introjs-stamp"),fe[e]=fe[e]||0,t[e]===void 0&&(t[e]=fe[e]++),t[e]}),mt=new(function(){function t(){this.events_key="introjs_event"}return t.prototype._id=function(e,n,r){return e+rn(n)+(r?"_".concat(rn(r)):"")},t.prototype.on=function(e,n,r,i,o){var a=this._id(n,r,i),l=function(c){return r(i||e,c||window.event)};"addEventListener"in e?e.addEventListener(n,l,o):"attachEvent"in e&&e.attachEvent("on".concat(n),l),e[this.events_key]=e[this.events_key]||{},e[this.events_key][a]=l},t.prototype.off=function(e,n,r,i,o){var a=this._id(n,r,i),l=e[this.events_key]&&e[this.events_key][a];l&&("removeEventListener"in e?e.removeEventListener(n,l,o):"detachEvent"in e&&e.detachEvent("on".concat(n),l),e[this.events_key][a]=null)},t}()),V=function(t){return typeof t=="function"};function pt(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";n.match(e)||t.setAttribute("class","".concat(n," ").concat(e))}else if(t.classList!==void 0)for(var r=0,i=e.split(" ");r<i.length;r++){var o=i[r];t.classList.add(o)}else t.className.match(e)||(t.className+=" ".concat(e))}function yn(t,e){var n="";return"currentStyle"in t?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function sr(t,e){if(t){var n=function(r){var i=window.getComputedStyle(r),o=i.position==="absolute",a=/(auto|scroll)/;if(i.position==="fixed")return document.body;for(var l=r;l=l.parentElement;)if(i=window.getComputedStyle(l),(!o||i.position!=="static")&&a.test(i.overflow+i.overflowY+i.overflowX))return l;return document.body}(e);n!==document.body&&(n.scrollTop=e.offsetTop-n.offsetTop)}}function vn(){if(window.innerWidth!==void 0)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function lr(t,e,n,r,i){var o;if(e!=="off"&&t&&(o=e==="tooltip"?i.getBoundingClientRect():r.getBoundingClientRect(),!function(l){var c=l.getBoundingClientRect();return c.top>=0&&c.left>=0&&c.bottom+80<=window.innerHeight&&c.right<=window.innerWidth}(r))){var a=vn().height;o.bottom-(o.bottom-o.top)<0||r.clientHeight>a?window.scrollBy(0,o.top-(a/2-o.height/2)-n):window.scrollBy(0,o.top-(a/2-o.height/2)+n)}}function Ut(t){t.setAttribute("role","button"),t.tabIndex=0}function Le(t){var e=t.parentElement;return!(!e||e.nodeName==="HTML")&&(yn(t,"position")==="fixed"||Le(e))}function Pt(t,e){var n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,o=window.pageXOffset||r.scrollLeft||n.scrollLeft;e=e||n;var a=t.getBoundingClientRect(),l=e.getBoundingClientRect(),c=yn(e,"position"),s={width:a.width,height:a.height};return e.tagName.toLowerCase()!=="body"&&c==="relative"||c==="sticky"?Object.assign(s,{top:a.top-l.top,left:a.left-l.left}):Le(t)?Object.assign(s,{top:a.top,left:a.left}):Object.assign(s,{top:a.top+i,left:a.left+o})}function wn(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function St(t,e){var n="";if(t.style.cssText&&(n+=t.style.cssText),typeof e=="string")n+=e;else for(var r in e)n+="".concat(r,":").concat(e[r],";");t.style.cssText=n}function wt(t,e,n){if(n&&e){var r=Pt(e.element,t._targetElement),i=t._options.helperElementPadding;e.element instanceof Element&&Le(e.element)?pt(n,"introjs-fixedTooltip"):wn(n,"introjs-fixedTooltip"),e.position==="floating"&&(i=0),St(n,{width:"".concat(r.width+i,"px"),height:"".concat(r.height+i,"px"),top:"".concat(r.top-i/2,"px"),left:"".concat(r.left-i/2,"px")})}}function de(t,e,n,r,i){return t.left+e+n.width>r.width?(i.style.left="".concat(r.width-n.width-t.left,"px"),!1):(i.style.left="".concat(e,"px"),!0)}function pe(t,e,n,r){return t.left+t.width-e-n.width<0?(r.style.left="".concat(-t.left,"px"),!1):(r.style.right="".concat(e,"px"),!0)}function ft(t,e){t.includes(e)&&t.splice(t.indexOf(e),1)}function Hl(t,e,n,r){var i=t.slice(),o=vn(),a=Pt(n).height+10,l=Pt(n).width+20,c=e.getBoundingClientRect(),s="floating";if(c.bottom+a>o.height&&ft(i,"bottom"),c.top-a<0&&ft(i,"top"),c.right+l>o.width&&ft(i,"right"),c.left-l<0&&ft(i,"left"),r&&(r=r.split("-")[0]),i.length&&(s=i[0],i.includes(r)&&(s=r)),s==="top"||s==="bottom"){var u=void 0,p=[];s==="top"?(u="top-middle-aligned",p=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(u="bottom-middle-aligned",p=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),s=function(d,f,_,w){var v=f/2,x=Math.min(_,window.screen.width);return x-d<f&&(ft(w,"top-left-aligned"),ft(w,"bottom-left-aligned")),(d<v||x-d<v)&&(ft(w,"top-middle-aligned"),ft(w,"bottom-middle-aligned")),d<f&&(ft(w,"top-right-aligned"),ft(w,"bottom-right-aligned")),w.length?w[0]:null}(c.left,l,o.width,p)||u}return s}function Ce(t,e,n,r,i){if(i===void 0&&(i=!1),e){var o,a,l,c,s="";n.style.top="",n.style.right="",n.style.bottom="",n.style.left="",n.style.marginLeft="",n.style.marginTop="",r.style.display="inherit",s=typeof e.tooltipClass=="string"?e.tooltipClass:t._options.tooltipClass,n.className=["introjs-tooltip",s].filter(Boolean).join(" "),n.setAttribute("role","dialog"),(c=e.position)!=="floating"&&t._options.autoPosition&&(c=Hl(t._options.positionPrecedence,e.element,n,c)),a=Pt(e.element),o=Pt(n),l=vn(),pt(n,"introjs-".concat(c));var u=a.width/2-o.width/2;switch(c){case"top-right-aligned":r.className="introjs-arrow bottom-right";var p=0;pe(a,p,o,n),n.style.bottom="".concat(a.height+20,"px");break;case"top-middle-aligned":r.className="introjs-arrow bottom-middle",i&&(u+=5),pe(a,u,o,n)&&(n.style.right="",de(a,u,o,l,n)),n.style.bottom="".concat(a.height+20,"px");break;case"top-left-aligned":case"top":r.className="introjs-arrow bottom",de(a,i?0:15,o,l,n),n.style.bottom="".concat(a.height+20,"px");break;case"right":n.style.left="".concat(a.width+20,"px"),a.top+o.height>l.height?(r.className="introjs-arrow left-bottom",n.style.top="-".concat(o.height-a.height-20,"px")):r.className="introjs-arrow left";break;case"left":i||t._options.showStepNumbers!==!0||(n.style.top="15px"),a.top+o.height>l.height?(n.style.top="-".concat(o.height-a.height-20,"px"),r.className="introjs-arrow right-bottom"):r.className="introjs-arrow right",n.style.right="".concat(a.width+20,"px");break;case"floating":r.style.display="none",n.style.left="50%",n.style.top="50%",n.style.marginLeft="-".concat(o.width/2,"px"),n.style.marginTop="-".concat(o.height/2,"px");break;case"bottom-right-aligned":r.className="introjs-arrow top-right",pe(a,p=0,o,n),n.style.top="".concat(a.height+20,"px");break;case"bottom-middle-aligned":r.className="introjs-arrow top-middle",i&&(u+=5),pe(a,u,o,n)&&(n.style.right="",de(a,u,o,l,n)),n.style.top="".concat(a.height+20,"px");break;default:r.className="introjs-arrow top",de(a,0,o,l,n),n.style.top="".concat(a.height+20,"px")}}}function Fr(){for(var t=0,e=Array.from(document.querySelectorAll(".introjs-showElement"));t<e.length;t++)wn(e[t],/introjs-[a-zA-Z]+/g)}function D(t,e){var n=document.createElement(t);e=e||{};var r=/^(?:role|data-|aria-)/;for(var i in e){var o=e[i];i==="style"&&typeof o!="function"?St(n,o):typeof o=="string"&&i.match(r)?n.setAttribute(i,o):n[i]=o}return n}function cr(t,e,n){if(n===void 0&&(n=!1),n){var r=e.style.opacity||"1";St(e,{opacity:"0"}),window.setTimeout(function(){St(e,{opacity:r})},10)}t.appendChild(e)}function Dr(t,e){return(t+1)/e*100}function Rr(t,e){var n=D("div",{className:"introjs-bullets"});t._options.showBullets===!1&&(n.style.display="none");var r=D("ul");r.setAttribute("role","tablist");for(var i=function(){var s=this.getAttribute("data-step-number");s!=null&&t.goToStep(parseInt(s,10))},o=0;o<t._introItems.length;o++){var a=t._introItems[o].step,l=D("li"),c=D("a");l.setAttribute("role","presentation"),c.setAttribute("role","tab"),c.onclick=i,o===e.step-1&&(c.className="active"),Ut(c),c.innerHTML="&nbsp;",c.setAttribute("data-step-number",a.toString()),l.appendChild(c),r.appendChild(l)}return n.appendChild(r),n}function Hr(t,e,n){var r=t.querySelector(".introjs-progress .introjs-progressbar");if(r){var i=Dr(e,n);r.style.cssText="width:".concat(i,"%;"),r.setAttribute("aria-valuenow",i.toString())}}function Or(t,e){return O(this,void 0,void 0,function(){var n,r,i,o,a,l,c,s,u,p,d,f,_,w,v,x,b,B,y,A,j,N,P,G,F=this;return z(this,function(R){switch(R.label){case 0:return V(t._introChangeCallback)?[4,t._introChangeCallback.call(t,e.element)]:[3,2];case 1:R.sent(),R.label=2;case 2:return n=document.querySelector(".introjs-helperLayer"),r=document.querySelector(".introjs-tooltipReferenceLayer"),i="introjs-helperLayer",typeof e.highlightClass=="string"&&(i+=" ".concat(e.highlightClass)),typeof t._options.highlightClass=="string"&&(i+=" ".concat(t._options.highlightClass)),n!==null&&r!==null?(c=r.querySelector(".introjs-helperNumberLayer"),s=r.querySelector(".introjs-tooltiptext"),u=r.querySelector(".introjs-tooltip-title"),p=r.querySelector(".introjs-arrow"),d=r.querySelector(".introjs-tooltip"),l=r.querySelector(".introjs-skipbutton"),a=r.querySelector(".introjs-prevbutton"),o=r.querySelector(".introjs-nextbutton"),n.className=i,d.style.opacity="0",d.style.display="none",sr(t._options.scrollToElement,e.element),wt(t,e,n),wt(t,e,r),Fr(),t._lastShowElementTimer&&window.clearTimeout(t._lastShowElementTimer),t._lastShowElementTimer=window.setTimeout(function(){c!==null&&(c.innerHTML="".concat(e.step," ").concat(t._options.stepNumbersOfLabel," ").concat(t._introItems.length)),s.innerHTML=e.intro||"",u.innerHTML=e.title||"",d.style.display="block",Ce(t,e,d,p),function(T,q,X){if(T){var rt=q.querySelector(".introjs-bullets li > a.active"),Q=q.querySelector('.introjs-bullets li > a[data-step-number="'.concat(X.step,'"]'));rt&&Q&&(rt.className="",Q.className="active")}}(t._options.showBullets,r,e),Hr(r,t._currentStep,t._introItems.length),d.style.opacity="1",(o!=null&&/introjs-donebutton/gi.test(o.className)||o!=null)&&o.focus(),lr(t._options.scrollToElement,e.scrollTo,t._options.scrollPadding,e.element,s)},350)):(f=D("div",{className:i}),_=D("div",{className:"introjs-tooltipReferenceLayer"}),w=D("div",{className:"introjs-arrow"}),v=D("div",{className:"introjs-tooltip"}),x=D("div",{className:"introjs-tooltiptext"}),b=D("div",{className:"introjs-tooltip-header"}),B=D("h1",{className:"introjs-tooltip-title"}),y=D("div"),St(f,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(t._options.overlayOpacity.toString(),") 0 0 0 5000px")}),sr(t._options.scrollToElement,e.element),wt(t,e,f),wt(t,e,_),cr(t._targetElement,f,!0),cr(t._targetElement,_),x.innerHTML=e.intro,B.innerHTML=e.title,y.className="introjs-tooltipbuttons",t._options.showButtons===!1&&(y.style.display="none"),b.appendChild(B),v.appendChild(b),v.appendChild(x),t._options.dontShowAgain&&(A=D("div",{className:"introjs-dontShowAgain"}),(j=D("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(T){t.setDontShowAgain(T.target.checked)},(N=D("label",{htmlFor:"introjs-dontShowAgain"})).innerText=t._options.dontShowAgainLabel,A.appendChild(j),A.appendChild(N),v.appendChild(A)),v.appendChild(Rr(t,e)),v.appendChild(function(T){var q=D("div");q.className="introjs-progress",T._options.showProgress===!1&&(q.style.display="none");var X=D("div",{className:"introjs-progressbar"});T._options.progressBarAdditionalClass&&(X.className+=" "+T._options.progressBarAdditionalClass);var rt=Dr(T._currentStep,T._introItems.length);return X.setAttribute("role","progress"),X.setAttribute("aria-valuemin","0"),X.setAttribute("aria-valuemax","100"),X.setAttribute("aria-valuenow",rt.toString()),X.style.cssText="width:".concat(rt,"%;"),q.appendChild(X),q}(t)),P=D("div"),t._options.showStepNumbers===!0&&(P.className="introjs-helperNumberLayer",P.innerHTML="".concat(e.step," ").concat(t._options.stepNumbersOfLabel," ").concat(t._introItems.length),v.appendChild(P)),v.appendChild(w),_.appendChild(v),(o=D("a")).onclick=function(){return O(F,void 0,void 0,function(){return z(this,function(T){switch(T.label){case 0:return t._introItems.length-1===t._currentStep?[3,2]:[4,It(t)];case 1:return T.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(o.className)?V(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"done")]:[3,4]:[3,6];case 3:T.sent(),T.label=4;case 4:return[4,Tt(t,t._targetElement)];case 5:T.sent(),T.label=6;case 6:return[2]}})})},Ut(o),o.innerHTML=t._options.nextLabel,(a=D("a")).onclick=function(){return O(F,void 0,void 0,function(){return z(this,function(T){switch(T.label){case 0:return t._currentStep>0?[4,Ne(t)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})})},Ut(a),a.innerHTML=t._options.prevLabel,Ut(l=D("a",{className:"introjs-skipbutton"})),l.innerHTML=t._options.skipLabel,l.onclick=function(){return O(F,void 0,void 0,function(){return z(this,function(T){switch(T.label){case 0:return t._introItems.length-1===t._currentStep&&V(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"skip")]:[3,2];case 1:T.sent(),T.label=2;case 2:return V(t._introSkipCallback)?[4,t._introSkipCallback.call(t,t._currentStep)]:[3,4];case 3:T.sent(),T.label=4;case 4:return[4,Tt(t,t._targetElement)];case 5:return T.sent(),[2]}})})},b.appendChild(l),t._introItems.length>1&&y.appendChild(a),y.appendChild(o),v.appendChild(y),Ce(t,e,v,w),lr(t._options.scrollToElement,e.scrollTo,t._options.scrollPadding,e.element,v)),(G=t._targetElement.querySelector(".introjs-disableInteraction"))&&G.parentNode&&G.parentNode.removeChild(G),e.disableInteraction&&function(T,q){var X=document.querySelector(".introjs-disableInteraction");X===null&&(X=D("div",{className:"introjs-disableInteraction"}),T._targetElement.appendChild(X)),wt(T,q,X)}(t,e),t._currentStep===0&&t._introItems.length>1?(o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton"),o.innerHTML=t._options.nextLabel),t._options.hidePrev===!0?(a!=null&&(a.className="".concat(t._options.buttonClass," introjs-prevbutton introjs-hidden")),o!=null&&pt(o,"introjs-fullbutton")):a!=null&&(a.className="".concat(t._options.buttonClass," introjs-prevbutton introjs-disabled"))):t._introItems.length-1===t._currentStep||t._introItems.length===1?(a!=null&&(a.className="".concat(t._options.buttonClass," introjs-prevbutton")),t._options.hideNext===!0?(o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton introjs-hidden")),a!=null&&pt(a,"introjs-fullbutton")):o!=null&&(t._options.nextToDone===!0?(o.innerHTML=t._options.doneLabel,pt(o,"".concat(t._options.buttonClass," introjs-nextbutton introjs-donebutton"))):o.className="".concat(t._options.buttonClass," introjs-nextbutton introjs-disabled"))):(a!=null&&(a.className="".concat(t._options.buttonClass," introjs-prevbutton")),o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton"),o.innerHTML=t._options.nextLabel)),a!=null&&a.setAttribute("role","button"),o!=null&&o.setAttribute("role","button"),l!=null&&l.setAttribute("role","button"),o!=null&&o.focus(),function(T){pt(T,"introjs-showElement");var q=yn(T,"position");q!=="absolute"&&q!=="relative"&&q!=="sticky"&&q!=="fixed"&&pt(T,"introjs-relativePosition")}(e.element),V(t._introAfterChangeCallback)?[4,t._introAfterChangeCallback.call(t,e.element)]:[3,4];case 3:R.sent(),R.label=4;case 4:return[2]}})})}function Ol(t,e){return O(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:return t._currentStep=e-2,t._introItems===void 0?[3,2]:[4,It(t)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function zl(t,e){return O(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:return t._currentStepNumber=e,t._introItems===void 0?[3,2]:[4,It(t)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function It(t){return O(this,void 0,void 0,function(){var e,n,r;return z(this,function(i){switch(i.label){case 0:if(t._direction="forward",t._currentStepNumber!==void 0)for(e=0;e<t._introItems.length;e++)t._introItems[e].step===t._currentStepNumber&&(t._currentStep=e-1,t._currentStepNumber=void 0);return t._currentStep===-1?t._currentStep=0:++t._currentStep,n=t._introItems[t._currentStep],r=!0,V(t._introBeforeChangeCallback)?[4,t._introBeforeChangeCallback.call(t,n&&n.element,t._currentStep,t._direction)]:[3,2];case 1:r=i.sent(),i.label=2;case 2:return r===!1?(--t._currentStep,[2,!1]):t._introItems.length<=t._currentStep?V(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"end")]:[3,4]:[3,6];case 3:i.sent(),i.label=4;case 4:return[4,Tt(t,t._targetElement)];case 5:return i.sent(),[2,!1];case 6:return[4,Or(t,n)];case 7:return i.sent(),[2,!0]}})})}function Ne(t){return O(this,void 0,void 0,function(){var e,n;return z(this,function(r){switch(r.label){case 0:return t._direction="backward",t._currentStep<=0?[2,!1]:(--t._currentStep,e=t._introItems[t._currentStep],n=!0,V(t._introBeforeChangeCallback)?[4,t._introBeforeChangeCallback.call(t,e&&e.element,t._currentStep,t._direction)]:[3,2]);case 1:n=r.sent(),r.label=2;case 2:return n===!1?(++t._currentStep,[2,!1]):[4,Or(t,e)];case 3:return r.sent(),[2,!0]}})})}function zr(t,e){return O(this,void 0,void 0,function(){var n,r;return z(this,function(i){switch(i.label){case 0:return(n=e.code===void 0?e.which:e.code)===null&&(n=e.charCode===null?e.keyCode:e.charCode),n!=="Escape"&&n!==27||t._options.exitOnEsc!==!0?[3,2]:[4,Tt(t,t._targetElement)];case 1:return i.sent(),[3,16];case 2:return n!=="ArrowLeft"&&n!==37?[3,4]:[4,Ne(t)];case 3:return i.sent(),[3,16];case 4:return n!=="ArrowRight"&&n!==39?[3,6]:[4,It(t)];case 5:return i.sent(),[3,16];case 6:return n!=="Enter"&&n!=="NumpadEnter"&&n!==13?[3,16]:(r=e.target||e.srcElement)&&r.className.match("introjs-prevbutton")?[4,Ne(t)]:[3,8];case 7:return i.sent(),[3,15];case 8:return r&&r.className.match("introjs-skipbutton")?t._introItems.length-1===t._currentStep&&V(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"skip")]:[3,10]:[3,12];case 9:i.sent(),i.label=10;case 10:return[4,Tt(t,t._targetElement)];case 11:return i.sent(),[3,15];case 12:return r&&r.getAttribute("data-step-number")?(r.click(),[3,15]):[3,13];case 13:return[4,It(t)];case 14:i.sent(),i.label=15;case 15:e.preventDefault?e.preventDefault():e.returnValue=!1,i.label=16;case 16:return[2]}})})}function _n(t){if(t===null||ke(t)!=="object"||"nodeType"in t)return t;var e={};for(var n in t)"jQuery"in window&&t[n]instanceof window.jQuery?e[n]=t[n]:e[n]=_n(t[n]);return e}function qt(t){var e=document.querySelector(".introjs-hints");return e?Array.from(e.querySelectorAll(t)):[]}function xn(t,e){return O(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return n=qt('.introjs-hint[data-step="'.concat(e,'"]'))[0],Me(),n&&pt(n,"introjs-hidehint"),V(t._hintCloseCallback)?[4,t._hintCloseCallback.call(t,e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}function Gl(t){return O(this,void 0,void 0,function(){var e,n,r,i,o;return z(this,function(a){switch(a.label){case 0:e=qt(".introjs-hint"),n=0,r=e,a.label=1;case 1:return n<r.length?(i=r[n],(o=i.getAttribute("data-step"))?[4,xn(t,parseInt(o,10))]:[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function Xl(t){return O(this,void 0,void 0,function(){var e,n,r,i,o;return z(this,function(a){switch(a.label){case 0:if(!(e=qt(".introjs-hint"))||!e.length)return[3,1];for(n=0,r=e;n<r.length;n++)i=r[n],(o=i.getAttribute("data-step"))&&Gr(parseInt(o,10));return[3,3];case 1:return[4,Wr(t,t._targetElement)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Gr(t){var e=qt('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&wn(e,/introjs-hidehint/g)}function ur(t){var e=qt('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&e.parentNode&&e.parentNode.removeChild(e)}function Vl(t){return O(this,void 0,void 0,function(){var e,n,r,i,o,a,l;return z(this,function(c){switch(c.label){case 0:for((e=document.querySelector(".introjs-hints"))===null&&(e=D("div",{className:"introjs-hints"})),n=function(d){return function(f){var _=f||window.event;_&&_.stopPropagation&&_.stopPropagation(),_&&_.cancelBubble!==null&&(_.cancelBubble=!0),Vr(t,d)}},r=0;r<t._hintItems.length;r++){if(i=t._hintItems[r],document.querySelector('.introjs-hint[data-step="'.concat(r,'"]')))return[2];Ut(o=D("a",{className:"introjs-hint"})),o.onclick=n(r),i.hintAnimation||pt(o,"introjs-hint-no-anim"),Le(i.element)&&pt(o,"introjs-fixedhint"),a=D("div",{className:"introjs-hint-dot"}),l=D("div",{className:"introjs-hint-pulse"}),o.appendChild(a),o.appendChild(l),o.setAttribute("data-step",r.toString()),i.hintTargetElement=i.element,i.element=o,Xr(i.hintPosition,o,i.hintTargetElement),e.appendChild(o)}return document.body.appendChild(e),V(t._hintsAddedCallback)?[4,t._hintsAddedCallback.call(t)]:[3,2];case 1:c.sent(),c.label=2;case 2:return t._options.hintAutoRefreshInterval>=0&&(t._hintsAutoRefreshFunction=(s=function(){return $e(t)},u=t._options.hintAutoRefreshInterval,function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];window.clearTimeout(p),p=window.setTimeout(function(){s(d)},u)}),mt.on(window,"scroll",t._hintsAutoRefreshFunction,t,!0)),[2]}var s,u,p})})}function Xr(t,e,n){if(n!==void 0){var r=Pt(n),i=20,o=20;switch(t){default:case"top-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top,"px");break;case"top-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top,"px");break;case"bottom-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"bottom-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"middle-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"middle-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"middle-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"bottom-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"top-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top,"px")}}}function Vr(t,e){return O(this,void 0,void 0,function(){var n,r,i,o,a,l,c,s,u,p,d;return z(this,function(f){switch(f.label){case 0:return n=document.querySelector('.introjs-hint[data-step="'.concat(e,'"]')),r=t._hintItems[e],V(t._hintClickCallback)?[4,t._hintClickCallback.call(t,n,r,e)]:[3,2];case 1:f.sent(),f.label=2;case 2:return(i=Me())!==void 0&&parseInt(i,10)===e||(o=D("div",{className:"introjs-tooltip"}),a=D("div"),l=D("div"),c=D("div"),o.onclick=function(_){_.stopPropagation?_.stopPropagation():_.cancelBubble=!0},a.className="introjs-tooltiptext",(s=D("p")).innerHTML=r.hint||"",a.appendChild(s),t._options.hintShowButton&&((u=D("a")).className=t._options.buttonClass,u.setAttribute("role","button"),u.innerHTML=t._options.hintButtonLabel,u.onclick=function(){return xn(t,e)},a.appendChild(u)),l.className="introjs-arrow",o.appendChild(l),o.appendChild(a),p=n.getAttribute("data-step")||"",t._currentStep=parseInt(p,10),d=t._hintItems[t._currentStep],c.className="introjs-tooltipReferenceLayer introjs-hintReference",c.setAttribute("data-step",p),wt(t,d,c),c.appendChild(o),document.body.appendChild(c),Ce(t,d,o,l,!0)),[2]}})})}function Me(){var t=document.querySelector(".introjs-hintReference");if(t&&t.parentNode){var e=t.getAttribute("data-step");return e?(t.parentNode.removeChild(t),e):void 0}}function Wr(t,e){return O(this,void 0,void 0,function(){var n,r,i,o,a,l,c,s,u,p;return z(this,function(d){switch(d.label){case 0:if(t._hintItems=[],t._options.hints&&t._options.hints.length>0)for(n=0,r=t._options.hints;n<r.length;n++)i=r[n],typeof(o=_n(i)).element=="string"&&(o.element=document.querySelector(o.element)),o.hintPosition=o.hintPosition||t._options.hintPosition,o.hintAnimation=o.hintAnimation||t._options.hintAnimation,o.element!==null&&t._hintItems.push(o);else{if(!(a=Array.from(e.querySelectorAll("*[data-hint]")))||!a.length)return[2,!1];for(l=0,c=a;l<c.length;l++)s=c[l],u=s.getAttribute("data-hint-animation"),p=t._options.hintAnimation,u&&(p=u==="true"),t._hintItems.push({element:s,hint:s.getAttribute("data-hint")||"",hintPosition:s.getAttribute("data-hint-position")||t._options.hintPosition,hintAnimation:p,tooltipClass:s.getAttribute("data-tooltip-class")||void 0,position:s.getAttribute("data-position")||t._options.tooltipPosition})}return[4,Vl(t)];case 1:return d.sent(),mt.on(document,"click",Me,t,!1),mt.on(window,"resize",$e,t,!0),[2,!0]}})})}function $e(t){for(var e=0,n=t._hintItems;e<n.length;e++){var r=n[e],i=r.hintTargetElement;Xr(r.hintPosition,r.element,i)}}function Ur(t,e){var n=Array.from(e.querySelectorAll("*[data-intro]")),r=[];if(t._options.steps&&t._options.steps.length)for(var i=0,o=t._options.steps;i<o.length;i++){var a=_n(d=o[i]);if(a.step=r.length+1,a.title=a.title||"",typeof a.element=="string"&&(a.element=document.querySelector(a.element)||void 0),a.element===void 0||a.element===null){var l=document.querySelector(".introjsFloatingElement");l===null&&(l=D("div",{className:"introjsFloatingElement"}),document.body.appendChild(l)),a.element=l,a.position="floating"}a.position=a.position||t._options.tooltipPosition,a.scrollTo=a.scrollTo||t._options.scrollTo,a.disableInteraction===void 0&&(a.disableInteraction=t._options.disableInteraction),a.element!==null&&r.push(a)}else{var c=void 0;if(n.length<1)return[];for(var s=0,u=n;s<u.length;s++){var p=u[s];if((!t._options.group||p.getAttribute("data-intro-group")===t._options.group)&&p.style.display!=="none"){var d=parseInt(p.getAttribute("data-step")||"",10);c=t._options.disableInteraction,p.hasAttribute("data-disable-interaction")&&(c=!!p.getAttribute("data-disable-interaction")),d>0&&(r[d-1]={step:d,element:p,title:p.getAttribute("data-title")||"",intro:p.getAttribute("data-intro")||"",tooltipClass:p.getAttribute("data-tooltip-class")||void 0,highlightClass:p.getAttribute("data-highlight-class")||void 0,position:p.getAttribute("data-position")||t._options.tooltipPosition,scrollTo:p.getAttribute("data-scroll-to")||t._options.scrollTo,disableInteraction:c})}}for(var f=0,_=0,w=n;_<w.length;_++)if(p=w[_],(!t._options.group||p.getAttribute("data-intro-group")===t._options.group)&&p.getAttribute("data-step")===null){for(;r[f]!==void 0;)f++;c=p.hasAttribute("data-disable-interaction")?!!p.getAttribute("data-disable-interaction"):t._options.disableInteraction,r[f]={element:p,title:p.getAttribute("data-title")||"",intro:p.getAttribute("data-intro")||"",step:f+1,tooltipClass:p.getAttribute("data-tooltip-class")||void 0,highlightClass:p.getAttribute("data-highlight-class")||void 0,position:p.getAttribute("data-position")||t._options.tooltipPosition,scrollTo:p.getAttribute("data-scroll-to")||t._options.scrollTo,disableInteraction:c}}}for(var v=[],x=0;x<r.length;x++)r[x]&&v.push(r[x]);return(r=v).sort(function(b,B){return b.step-B.step}),r}function Yr(t,e){var n=t._currentStep;if(n!=null&&n!=-1){var r=t._introItems[n],i=document.querySelector(".introjs-tooltipReferenceLayer"),o=document.querySelector(".introjs-helperLayer"),a=document.querySelector(".introjs-disableInteraction");wt(t,r,o),wt(t,r,i),wt(t,r,a),e&&(t._introItems=Ur(t,t._targetElement),function(s,u){if(s._options.showBullets){var p=document.querySelector(".introjs-bullets");p&&p.parentNode&&p.parentNode.replaceChild(Rr(s,u),p)}}(t,r),Hr(i,n,t._introItems.length));var l=document.querySelector(".introjs-arrow"),c=document.querySelector(".introjs-tooltip");return c&&l&&Ce(t,t._introItems[n],c,l),$e(t),t}}function Jr(t){Yr(t)}function Gt(t,e){if(e===void 0&&(e=!1),t&&t.parentElement){var n=t.parentElement;e?(St(t,{opacity:"0"}),window.setTimeout(function(){try{n.removeChild(t)}catch{}},500)):n.removeChild(t)}}function Tt(t,e,n){return n===void 0&&(n=!1),O(this,void 0,void 0,function(){var r,i,o,a;return z(this,function(l){switch(l.label){case 0:return r=!0,t._introBeforeExitCallback===void 0?[3,2]:[4,t._introBeforeExitCallback.call(t,e)];case 1:r=l.sent(),l.label=2;case 2:if(!n&&r===!1)return[2];if((i=Array.from(e.querySelectorAll(".introjs-overlay")))&&i.length)for(o=0,a=i;o<a.length;o++)Gt(a[o]);return Gt(e.querySelector(".introjs-helperLayer"),!0),Gt(e.querySelector(".introjs-tooltipReferenceLayer")),Gt(e.querySelector(".introjs-disableInteraction")),Gt(document.querySelector(".introjsFloatingElement")),Fr(),mt.off(window,"keydown",zr,t,!0),mt.off(window,"resize",Jr,t,!0),V(t._introExitCallback)?[4,t._introExitCallback.call(t)]:[3,4];case 3:l.sent(),l.label=4;case 4:return t._currentStep=-1,[2]}})})}function Wl(t,e){return O(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return t.isActive()?V(t._introStartCallback)?[4,t._introStartCallback.call(t,e)]:[3,2]:[2,!1];case 1:r.sent(),r.label=2;case 2:return(n=Ur(t,e)).length===0?[2,!1]:(t._introItems=n,function(i,o){var a=this,l=D("div",{className:"introjs-overlay"});St(l,{top:0,bottom:0,left:0,right:0,position:"fixed"}),o.appendChild(l),i._options.exitOnOverlayClick===!0&&(St(l,{cursor:"pointer"}),l.onclick=function(){return O(a,void 0,void 0,function(){return z(this,function(c){switch(c.label){case 0:return[4,Tt(i,o)];case 1:return c.sent(),[2]}})})})}(t,e),[4,It(t)]);case 3:r.sent(),e.addEventListener,t._options.keyboardNavigation&&mt.on(window,"keydown",zr,t,!0),mt.on(window,"resize",Jr,t,!0),r.label=4;case 4:return[2,!1]}})})}function hr(t,e,n){return t[e]=n,t}var Ue=function(){function t(e){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=e,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"×",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return t.prototype.isActive=function(){return(!this._options.dontShowAgain||(e=qr(this._options.dontShowAgainCookie))===""||e!=="true")&&this._options.isActive;var e},t.prototype.clone=function(){return new t(this._targetElement)},t.prototype.setOption=function(e,n){return this._options=hr(this._options,e,n),this},t.prototype.setOptions=function(e){return this._options=function(n,r){for(var i=0,o=Object.entries(r);i<o.length;i++){var a=o[i];n=hr(n,a[0],a[1])}return n}(this._options,e),this},t.prototype.start=function(){return O(this,void 0,void 0,function(){return z(this,function(e){switch(e.label){case 0:return[4,Wl(this,this._targetElement)];case 1:return e.sent(),[2,this]}})})},t.prototype.goToStep=function(e){return O(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:return[4,Ol(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.addStep=function(e){return this._options.steps||(this._options.steps=[]),this._options.steps.push(e),this},t.prototype.addSteps=function(e){if(!e.length)return this;for(var n=0;n<e.length;n++)this.addStep(e[n]);return this},t.prototype.goToStepNumber=function(e){return O(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:return[4,zl(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.nextStep=function(){return O(this,void 0,void 0,function(){return z(this,function(e){switch(e.label){case 0:return[4,It(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.previousStep=function(){return O(this,void 0,void 0,function(){return z(this,function(e){switch(e.label){case 0:return[4,Ne(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.currentStep=function(){return this._currentStep},t.prototype.exit=function(e){return O(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:return[4,Tt(this,this._targetElement,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.refresh=function(e){return Yr(this,e),this},t.prototype.setDontShowAgain=function(e){return Rl(this,e),this},t.prototype.onbeforechange=function(e){if(!V(e))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},t.prototype.onchange=function(e){if(!V(e))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},t.prototype.onafterchange=function(e){if(!V(e))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},t.prototype.oncomplete=function(e){if(!V(e))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},t.prototype.onhintsadded=function(e){if(!V(e))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=e,this},t.prototype.onhintclick=function(e){if(!V(e))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=e,this},t.prototype.onhintclose=function(e){if(!V(e))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=e,this},t.prototype.onstart=function(e){if(!V(e))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=e,this},t.prototype.onexit=function(e){if(!V(e))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this},t.prototype.onskip=function(e){if(!V(e))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=e,this},t.prototype.onbeforeexit=function(e){if(!V(e))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=e,this},t.prototype.addHints=function(){return O(this,void 0,void 0,function(){return z(this,function(e){switch(e.label){case 0:return[4,Wr(this,this._targetElement)];case 1:return e.sent(),[2,this]}})})},t.prototype.hideHint=function(e){return O(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:return[4,xn(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.hideHints=function(){return O(this,void 0,void 0,function(){return z(this,function(e){switch(e.label){case 0:return[4,Gl(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.showHint=function(e){return Gr(e),this},t.prototype.showHints=function(){return O(this,void 0,void 0,function(){return z(this,function(e){switch(e.label){case 0:return[4,Xl(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.removeHints=function(){return function(e){for(var n=0,r=qt(".introjs-hint");n<r.length;n++){var i=r[n].getAttribute("data-step");i&&ur(parseInt(i,10))}mt.off(document,"click",Me,e,!1),mt.off(window,"resize",$e,e,!0),e._hintsAutoRefreshFunction&&mt.off(window,"scroll",e._hintsAutoRefreshFunction,e,!0)}(this),this},t.prototype.removeHint=function(e){return ur(e),this},t.prototype.showHintDialog=function(e){return O(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:return[4,Vr(this,e)];case 1:return n.sent(),[2,this]}})})},t}(),on=function t(e){var n;if(ke(e)==="object")n=new Ue(e);else if(typeof e=="string"){var r=document.querySelector(e);if(!r)throw new Error("There is no element with given selector.");n=new Ue(r)}else n=new Ue(document.body);return t.instances[rn(n,"introjs-instance")]=n,n};on.version="7.2.0",on.instances={};document.addEventListener("DOMContentLoaded",function(){let t=[],e=[],n=0,r={},i=null,o=[],a=-1,l={},c=null;const s=24,u=20,p=document.getElementById("stepsList");let d=[],f=!1;const _=document.getElementById("graphSvg");let w=_.clientWidth,v=_.clientHeight;const x=dt("#graphSvg");x.attr("width",w).attr("height",v);const b=x.append("g").attr("class","links"),B=x.append("g").attr("class","nodes"),y=x.append("g").attr("class","labels"),A=document.getElementById("currentStepToast"),j=new bootstrap.Toast(A,{autohide:!1,animation:!1});function N(h){return typeof h=="object"?h.id:h}function P(){t.forEach(h=>{h.cost=void 0}),Y(".node-group").select(".cost-label").text("")}function G(){e=[],b.selectAll(".link").remove(),y.selectAll(".link-label").remove()}let F,R,T;function q(){F=b.selectAll(".link").data(e,g=>`${N(g.source)}-${N(g.target)}`),F.exit().remove(),F=F.enter().append("line").attr("class","link").merge(F),T=y.selectAll(".link-label").data(e.filter(g=>g.weight!==void 0),g=>`${N(g.source)}-${N(g.target)}`),T.exit().remove(),T=T.enter().append("text").attr("class","link-label").attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(g=>g.weight).merge(T),R=B.selectAll(".node-group").data(t,g=>g.id),R.exit().remove();const m=R.enter().append("g").attr("class","node-group").call(ra().on("drag",(g,S)=>{Ft(),S.x=g.x,S.y=g.y,Et(S),X()}));m.append("circle").attr("class","outer-circle").attr("r",s),m.append("circle").attr("class","inner-circle").attr("r",u).on("click",(g,S)=>{g.stopPropagation();const k=dt(g.currentTarget);k.classed("activated",!k.classed("activated"))}),m.append("text").attr("class","node-label").attr("x",0).attr("y",-10).attr("text-anchor","middle").attr("dominant-baseline","central").text(g=>g.id),m.append("text").attr("class","cost-label").attr("x",0).attr("y",s+12).attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(g=>g.cost!==void 0?`Cost: ${g.cost}`:""),m.append("text").attr("class","heuristic-label").attr("x",0).attr("y",10).attr("text-anchor","middle").style("pointer-events","none").text(g=>g.h!==void 0?`h: ${g.h}`:""),R=m.merge(R),X(),ni(),Fe()}function X(){F.attr("x1",h=>Q(h.source).x).attr("y1",h=>Q(h.source).y).attr("x2",h=>Q(h.target).x).attr("y2",h=>Q(h.target).y),T.attr("x",h=>{let m=Q(h.source),g=Q(h.target);return(m.x+g.x)/2}).attr("y",h=>{let m=Q(h.source),g=Q(h.target);return(m.y+g.y)/2}),R.attr("transform",h=>`translate(${h.x}, ${h.y})`)}function rt(){r={},t.forEach(h=>r[h.id]=[]),e.forEach(h=>{const m=N(h.source),g=N(h.target);r[m].push(g),r[g].push(m)})}function Q(h){return typeof h=="object"?h:t.find(m=>m.id===h)}function Et(h){h.x=Math.max(s,Math.min(w-s,h.x)),h.y=Math.max(s,Math.min(v-s,h.y))}function Ft(){const h=_.getBoundingClientRect();w=h.width,v=h.height}function re(h,m){const g={};Object.entries(h).forEach(([k,E])=>{(g[E]||(g[E]=[])).push(+k)});function S(k){return{id:k,children:(g[k]||[]).map(S)}}return S(m)}const at=fl().force("link",il().id(h=>h.id).distance(100).strength(.7)).force("charge",dl().strength(-200)).force("collide",nl(s+1)).force("center",nr(w/2,v/2)).on("tick",()=>{Ft(),t.forEach(Et),X()});function bn(h){if(P(),G(),h<1){t=[],e=[],at.nodes(t),at.force("link").links(e),q(),at.alpha(0).stop();return}const m=document.getElementById("includeWeights").checked;t=Array.from({length:h},(E,L)=>({id:L,x:Math.random()*(w-2*s)+s,y:Math.random()*(v-2*s)+s}));let g=t.map(E=>E.id);for(let E=g.length-1;E>0;E--){const L=Math.floor(Math.random()*(E+1));[g[E],g[L]]=[g[L],g[E]]}e=[];for(let E=1;E<g.length;E++){const L=g[Math.floor(Math.random()*E)],M=g[E];e.push({source:L,target:M,weight:m?Math.floor(Math.random()*20)+1:void 0})}const S=[];for(let E=0;E<h;E++)for(let L=E+1;L<h;L++)e.some(M=>{const W=N(M.source),I=N(M.target);return W===E&&I===L||W===L&&I===E})||S.push({source:E,target:L});const k=Math.min(Math.floor(h/2),S.length);for(let E=0;E<k;E++){const L=Math.floor(Math.random()*S.length),M=S.splice(L,1)[0];e.push({...M,weight:m?Math.floor(Math.random()*20)+1:void 0})}n=h,rt(),at.nodes(t),at.force("link").links(e),at.alpha(1).restart(),q()}function Sn(){dt("#searchTreePanelSvg").selectAll("*").remove(),document.getElementById("nodesExpanded").textContent=0,document.getElementById("nodesDiscovered").textContent=0,document.getElementById("currentDepth").textContent=0,document.getElementById("stepsToGoal").textContent="N/A",document.getElementById("finalCost").textContent="N/A"}function ie(h){const m=dt("#searchTreePanelSvg");if(m.selectAll("*").remove(),!h)return;const g=document.getElementById("searchTreePanelSvg"),S=g.clientWidth,k=g.clientHeight;if(S===0||k===0)return;const E=+document.getElementById("startNodeSelect").value,L=mn(re(h.parents,E));Dl().size([S-2*s,k-2*s])(L);const M=C=>Math.max(s,Math.min(S-s,C.x+s)),W=C=>Math.max(s,Math.min(k-s,C.y+s));m.selectAll(".link").data(L.links()).enter().append("line").attr("class","link").attr("x1",C=>M(C.source)).attr("y1",C=>W(C.source)).attr("x2",C=>M(C.target)).attr("y2",C=>W(C.target)).classed("path-highlight-link",C=>{var H;return((H=h.path)==null?void 0:H.includes(C.source.data.id))&&h.path.includes(C.target.data.id)});const I=m.selectAll(".node-group").data(L.descendants()).enter().append("g").attr("class","node-group").classed("highlighted",C=>h.highlightedNodes.includes(C.data.id)).classed("goal-highlight",C=>h.goal&&C.data.id===+h.goal).classed("path-highlight",C=>{var H;return(H=h.path)==null?void 0:H.includes(C.data.id)}).classed("current-highlight",C=>h.currentNode===C.data.id).attr("transform",C=>{const H=Math.max(s,Math.min(S-s,C.x+s)),J=Math.max(s,Math.min(k-(s+25),C.y+s));return`translate(${H},${J})`});I.append("circle").attr("class","outer-circle").attr("r",s),I.append("circle").attr("class","inner-circle").attr("r",u),I.append("text").attr("class","node-label").attr("x",0).attr("y",-4).attr("text-anchor","middle").text(C=>C.data.id),I.append("text").attr("class","cost-label").attr("x",0-s).attr("y",s+12).attr("text-anchor","start").attr("dominant-baseline","middle").style("font-weight","bold").style("pointer-events","none").text(C=>{const H=h.nodes.find(J=>J.id===C.data.id);return(H==null?void 0:H.cost)!==void 0?`C: ${H.cost}`:""}),I.append("text").attr("class","heuristic-label").attr("x",0).attr("y",10).attr("text-anchor","middle").text(C=>{const H=h.nodes.find(J=>J.id===C.data.id);return(H==null?void 0:H.h)!==void 0?`H: ${H.h}`:""}),m.selectAll(".link-weight-label").data(L.links()).enter().append("text").attr("class","link-weight-label").attr("x",C=>(C.source.x+C.target.x)/2+s).attr("y",C=>(C.source.y+C.target.y)/2+s).attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(C=>{const H=C.source.data.id,J=C.target.data.id,ot=h.links.find(ht=>N(ht.source)===H&&N(ht.target)===J||N(ht.source)===J&&N(ht.target)===H);return(ot==null?void 0:ot.weight)!==void 0?ot.weight:""});const $=document.getElementById("toggleWeightsSwitch").checked;Y("#searchTreePanelSvg .link-weight-label").style("display",$?"block":"none"),di(h)}const En=document.getElementById("tree-tab");En&&En.addEventListener("shown.bs.tab",()=>{Cn&&ie(Cn)});function Kr(h,m){const g=t.find(S=>S.id===h);g&&(g.cost=m),Y(".node-group").filter(S=>S.id===h).select(".cost-label").text(m!==void 0?`Cost: ${m}`:"")}function je(h,m){const g=t.find(S=>S.id===h);g&&(g.cost=m)}function Pe(h,m){Y(".node-group").filter(g=>g.id===h).select(".cost-label").text(m!==void 0?`Cost: ${m}`:"")}function Qr(h,m,g){const S=[];Y(".node-group.highlighted").each(function(L){S.push(L.id)});const k=document.getElementById("goalNodeSelect"),E=k?k.value:null;return{nodes:JSON.parse(JSON.stringify(t)),links:JSON.parse(JSON.stringify(e)),adjacency:JSON.parse(JSON.stringify(r)),parents:JSON.parse(JSON.stringify(l)),highlightedNodes:S,goal:E,path:i,currentStep:h,expanded:[...m],currentNode:g}}function kn(h,m){Zr({message:h,snapshot:m})}function Zr(h){const m=document.createElement("li"),g=document.createElement("button");g.textContent=h.message,g.classList.add("step-button"),h.snapshot?g.addEventListener("click",()=>{it(),qe(h.snapshot),a=Array.from(p.children).indexOf(m)}):g.disabled=!0,m.appendChild(g),p.appendChild(m)}function ct(){o=[],a=-1,p.innerHTML=""}function ut(h,m){const g=setTimeout(h,m);return d.push(g),g}let K=0;function U(h,m){const g=m[m.length-1],S=Qr(h,m,g),k=A.querySelector(".toast-body");ut(()=>{kn(h,S),ie(S),k.textContent=h,j.show(),o.push({message:h,snapshot:S}),a=o.length-1},K),K+=Ln}function it(){d.forEach(h=>clearTimeout(h)),d=[],K=0,P(),Nn(),Sn(),j.hide(),i=null,f&&kn("Algorithm Stopped."),f=!1}let Cn=null;function qe(h){if(it(),P(),Nn(),h.nodes.forEach(m=>{const g=t.find(S=>S.id===m.id);g&&(g.cost=m.cost,Kr(g.id,m.cost),h.highlightedNodes.includes(g.id)&&Dt(g.id),h.goal&&+h.goal===g.id&&oe(g.id))}),h.path&&Rt(h.path),h.currentStep){const m=A.querySelector(".toast-body");m.textContent=h.currentStep,j.show()}ie(h)}function Dt(h){Y(".node-group").classed("current-highlight",!1),Y(".node-group").filter(m=>m.id===h).classed("highlighted",!0).classed("current-highlight",!0)}function Nn(){Y(".node-group").classed("highlighted",!1).classed("path-highlight",!1),Y(".link").classed("path-highlight-link",!1)}function Rt(h){if(!(!h||h.length===0)){h.forEach(m=>{Y(".node-group").filter(g=>g.id===m).classed("path-highlight",!0)});for(let m=0;m<h.length-1;m++)Y(".link").filter(g=>{let S=N(g.source),k=N(g.target);return S===h[m]&&k===h[m+1]||S===h[m+1]&&k===h[m]}).classed("path-highlight-link",!0)}}function Ht(){Y(".node-group").classed("goal-highlight",!1)}function oe(h){Y(".node-group").filter(m=>m.id===h).classed("goal-highlight",!0)}function ti(h){const m={id:n,x:Math.random()*(w-2*s)+s,y:Math.random()*(v-2*s)+s};t.push(m),h.forEach(g=>{e.push({source:g,target:m.id,weight:void 0})}),n++,rt(),q(),Fe()}function ei(h){t=t.filter(m=>m.id!==h),e=e.filter(m=>{const g=N(m.source),S=N(m.target);return g!==h&&S!==h}),rt(),q()}const An=document.getElementById("startNodeSelect"),In=document.getElementById("node1Select"),Tn=document.getElementById("node2Select");function ni(){An.innerHTML="",In.innerHTML="",Tn.innerHTML="",t.forEach(h=>{const m=document.createElement("option");m.value=h.id,m.textContent=h.id,An.appendChild(m);const g=document.createElement("option");g.value=h.id,g.textContent=h.id,In.appendChild(g);const S=document.createElement("option");S.value=h.id,S.textContent=h.id,Tn.appendChild(S)})}function Fe(){const h=document.getElementById("goalNodeSelect"),m=h.value;h.innerHTML="";const g=document.createElement("option");g.value="",g.textContent="None",h.appendChild(g),t.forEach(S=>{const k=document.createElement("option");k.value=S.id,k.textContent=S.id,String(S.id)===m&&(k.selected=!0),h.appendChild(k)})}function ri(h,m){it(),ct(),$n(),f=!0,i=null;const g=new Set,S=[h],k=[];g.add(h);const E={};l=E;function L(){var W;if(!f)return;if(K=0,S.length===0){U("BFS: Finished without reaching a goal",k),f=!1;return}const M=S.shift();if(k.push(M),Dt(M),M===m){let I=[M];for(;I[0]!==h;)I.unshift(E[I[0]]);i=I,Rt(i),U(`BFS: Goal Node ${m} found! 
Path: ${i.join(" -> ")}`,k),f=!1;return}U(M===h?`BFS: Root Node ${h}`:`BFS: Moving to Node ${M}`,k),(W=r[M])==null||W.forEach(I=>{g.has(I)||(g.add(I),S.push(I),I in E||(E[I]=M),U(`BFS: Discovered Node ${I}. Adding to queue.`,k))}),U(`BFS: Queue: [${S.join(", ")}] | Discovered: [${[...g].join(", ")}]`,k),ut(L,K)}L()}function ii(h,m){it(),ct(),$n(),f=!0,i=null;const g=new Set,S=[h],k=[];g.add(h);const E={};l=E;function L(){if(!f)return;if(K=0,S.length===0){U("DFS: Finished without reaching a goal",k),f=!1;return}const M=S.pop();if(k.push(M),Dt(M),M===m){let I=[M];for(;I[0]!==h;)I.unshift(E[I[0]]);i=I,Rt(i),U(`DFS: Goal Node ${m} found! 
Path: ${i.join(" -> ")}`,k),f=!1;return}U(M===h?`DFS: Root Node ${h}`:`DFS: Visiting Node ${M}`,k);const W=r[M]||[];for(let I=W.length-1;I>=0;I--){const $=W[I];g.has($)||(g.add($),S.push($),$ in E||(E[$]=M),U(`DFS: Discovered Node ${$}. Adding to stack.`,k))}U(`DFS: Stack: [${S.join(", ")}] | Visited: [${[...g].join(", ")}]`,k),ut(L,K)}L()}function oi(h,m){if(it(),ct(),Mn(),f=!0,i=null,e.some(W=>W.weight===void 0)){alert("Error: Graph must be weighted to run Uniform Cost Search (UCS).");return}let g=[{node:h,cost:0}],S=new Set,k={};l=k;let E={};E[h]=0;const L=[];function M(){if(!f)return;if(K=0,g.length===0){U("UCS: No path found. Frontier empty.",L),f=!1;return}g.sort((C,H)=>C.cost-H.cost);let W=g.shift(),I=W.node,$=W.cost;if($>E[I]){U(`UCS: Skipping node [${I}] with cost ${$} (current best cost is ${E[I]}).`,L),ut(M,K);return}if(S.add(I),Dt(I),je(I,$),L.push(I),ut(()=>Pe(I,$),K-1),U(`UCS: Expanding node [${I}] with cost ${$}.`,L),I===m){let C=[I];for(;C[0]!==h;)C.unshift(k[C[0]]);i=C,Rt(i),U(`UCS: Goal node [${m}] reached! Path: ${i.join(" -> ")}, Total cost: ${$}.`,L),f=!1;return}(r[I]||[]).forEach(C=>{let H=e.find(ot=>{const ht=N(ot.source),Fn=N(ot.target);return ht===I&&Fn===C||Fn===I&&ht===C});if(!H)return;let J=$+H.weight;if(E[C]===void 0||J<=E[C]){let ot=E[C]!==void 0?E[C]:"none";E[C]=J,k[C]=I,g.push({node:C,cost:J}),je(C,J),ut(()=>Pe(C,J),K-1),U(`UCS: Found node [${C}], Updating cost from ${ot} to ${J}.`,L),S.has(C)&&(U(`UCS: Reopening node [${C}] because cost was overridden.`,L),S.delete(C))}}),ut(M,K)}M()}function ai(h,m){it(),ct(),Mn(),f=!0,i=null;const g=[{node:h,g:0}],S={[h]:0},k={};l=k;const E=new Set;function L(){var I;if(!f)return;if(K=0,g.length===0){U("A*: No path found.",[...E]),f=!1;return}g.sort(($,C)=>$.g+ae($.node)-(C.g+ae(C.node)));const{node:M,g:W}=g.shift();if(W>S[M]){ut(L,K);return}if(Dt(M),je(M,W),E.add(M),U(`A*: Expanding node ${M} (f=${(W+ae(M)).toFixed(2)})`,[...E]),M===m){const $=[M];for(;$[0]!==h;)$.unshift(k[$[0]]);i=$,Rt($),U(`A*: Goal reached! Path: ${$.join(" -> ")}`,[...E]),f=!1;return}(I=r[M])==null||I.forEach($=>{const C=e.find(J=>{const ot=N(J.source),ht=N(J.target);return ot===M&&ht===$||ht===M&&ot===$});if(!C)return;const H=W+C.weight;(S[$]===void 0||H<S[$])&&(S[$]=H,k[$]=M,g.push({node:$,g:H}),ut(()=>Pe($,H),K-1),U(`A*: Discovered ${$}, g=${H.toFixed(2)}, f=${(H+ae($)).toFixed(2)}`,[...E]))}),ut(L,K)}L()}function ae(h){const m=t.find(g=>g.id===h);return(m==null?void 0:m.h)??0}const si=document.getElementById("generateGraphForm"),Bn=document.getElementById("nodeCountInput");si.addEventListener("submit",h=>{it(),ct(),Ht(),h.preventDefault();let m=parseInt(Bn.value,10);m<1||(bn(m),Bn.value="")}),document.getElementById("tutorialBtn").addEventListener("click",function(){on().setOptions({steps:[{element:document.querySelector("#generateGraphForm"),intro:"Use this form to generate a new graph by specifying the number of nodes and weight options.",position:"right"},{element:document.querySelector("#weightDiv"),intro:"Toggle this switch to show or hide edge weights on the graph.",position:"right"},{element:document.querySelector("#AddNodeDiv"),intro:"Here is where you can add or delete a node. Make sure to activate a parent node by clicking its inner circle first.",position:"right"},{element:document.querySelector("#updateLinkForm"),intro:"Update the link weight between two nodes using these controls.",position:"top"},{element:document.querySelector("#selectGoalDiv"),intro:"Select your goal node from the dropdown.",position:"top"},{element:document.querySelector("#selectStartDiv"),intro:"Choose your starting node for algorithm traversal here.",position:"top"},{element:document.querySelector("#resetDiv"),intro:"Click this button to reset the graph and clear the algorithm history.",position:"top"},{element:document.querySelector("#toggleSidebar"),intro:"Click here to hide or show the sidebar.",position:"left"},{element:document.querySelector("#algorithmDropdown"),intro:"Select an algorithm (BFS, DFS, UCS, etc.) from this dropdown.",position:"bottom"},{element:document.querySelector("#runAlgorithmBtn"),intro:"Click here to run the selected algorithm and see the traversal animation.",position:"left"},{element:document.querySelector("#backStep"),intro:"Use this button to go back one step in the algorithm history.",position:"top"},{element:document.querySelector("#forwardStep"),intro:"Use this button to move forward one step in the algorithm history.",position:"top"},{element:document.querySelector("#speedControls"),intro:"Adjust the speed of the algorithm traversal using these radio buttons.",position:"top"},{element:document.querySelector(".nav-tabs"),intro:"Switch between the Graph view and the History view using these tabs.",position:"bottom"},{element:document.querySelector("#mainGraph"),intro:"This is your graph area where the generated graph is displayed. You can interact with the graph here.",position:"top"}],showStepNumbers:!0,exitOnOverlayClick:!0,exitOnEsc:!0,nextLabel:"Next",prevLabel:"Back",doneLabel:"Finish",overlayOpacity:.5,tooltipClass:"customTooltip"}).start()}),document.getElementById("addNodeForm").addEventListener("submit",h=>{it(),ct(),h.preventDefault();const g=Y(".node-group").filter(function(S){return dt(this).select(".inner-circle").classed("activated")}).data().map(S=>S.id);ti(g),Y(".inner-circle").classed("activated",!1)}),document.getElementById("deleteNodeForm").addEventListener("submit",h=>{it(),ct(),h.preventDefault();const m=Y(".node-group").filter(function(g){return dt(this).select(".inner-circle").classed("activated")}).data();if(m.length===0){alert("Please activate at least one node to delete by clicking on its inner circle.");return}m.forEach(g=>{ei(g.id)}),Y(".inner-circle").classed("activated",!1)});const Ot=document.getElementById("goalNodeSelect");Ot.addEventListener("change",()=>{Ht();const h=parseInt(Ot.value,10);oe(h)});const De=document.getElementById("speedSlider");document.getElementById("speedValue");let Ln=parseInt(De.value,10);De.addEventListener("input",function(){Ln=parseInt(De.value,10)}),document.getElementById("restartBtn").addEventListener("click",()=>{it(),ct(),Ht(),Fe(),Sn()}),document.getElementById("randomGoalBtn").addEventListener("click",()=>{if(Ht(),t.length===0)return;const h=t[Math.floor(Math.random()*t.length)];Ot.value=h.id;const m=parseInt(Ot.value,10);qn(m),oe(m),alert(`Randomly selected goal: ${h.id}`)}),document.getElementById("toggleHeuristicSwitch").addEventListener("change",function(){Y(".heuristic-label").style("display",this.checked?"block":"none")}),document.querySelectorAll(".backStep").forEach(h=>h.addEventListener("click",()=>{a>0?(a--,qe(o[a].snapshot)):alert("No previous step available.")})),document.querySelectorAll(".forwardStep").forEach(h=>h.addEventListener("click",()=>{a<o.length-1?(a++,qe(o[a].snapshot)):alert("No next step available.")})),document.getElementById("runAlgorithmBtn").addEventListener("click",function(){const h=parseInt(document.getElementById("startNodeSelect").value,10),m=parseInt(document.getElementById("goalNodeSelect").value,10);switch(c){case"bfs":ri(h,m);break;case"dfs":ii(h,m);break;case"aStar":ai(h,m);break;case"ucs":oi(h,m);break;default:alert("No algorithm selected.")}});function li(){const h=document.getElementById("node1Select"),m=document.getElementById("node2Select");h.innerHTML="",m.innerHTML="",t.forEach(g=>{const S=document.createElement("option");S.value=g.id,S.textContent=g.id,h.appendChild(S);const k=document.createElement("option");k.value=g.id,k.textContent=g.id,m.appendChild(k)})}li(),document.getElementById("updateLinkBtn").addEventListener("click",function(){const h=parseInt(document.getElementById("node1Select").value,10),m=parseInt(document.getElementById("node2Select").value,10);if(h===m){alert("Cannot create a link from a node to itself.");return}let g=parseFloat(document.getElementById("newWeightInput").value);isNaN(g)&&(g=void 0);let S=!1;if(e.forEach(k=>{const E=N(k.source),L=N(k.target);(E===h&&L===m||E===m&&L===h)&&(k.weight=g,S=!0)}),S){const k=y.selectAll(".link-label").data(e.filter(E=>E.weight!==void 0),E=>`${N(E.source)}-${N(E.target)}`);k.exit().remove(),k.enter().append("text").attr("class","link-label").attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").merge(k).text(E=>E.weight),it(),ct(),q(),alert("Link weight updated.")}else e.push({source:h,target:m,weight:g}),rt(),q(),alert("Link did not exist, so it was created.")}),document.getElementById("removeLinkBtn").addEventListener("click",()=>{it(),ct();const h=parseInt(document.getElementById("node1Select").value,10),m=parseInt(document.getElementById("node2Select").value,10),g=e.findIndex(S=>{const k=N(S.source),E=N(S.target);return k===h&&E===m||k===m&&E===h});g!==-1?(e.splice(g,1),rt(),q(),alert(`Link between ${h} and ${m} removed.`)):alert("No link exists between those two nodes.")}),document.getElementById("getInfoBtn").addEventListener("click",()=>{let h="";switch(c){case"bfs":h=`
        <h3>Breadth‑First Search (BFS)</h3>
        <p>BFS explores the graph one “layer” at a time, starting from the start node. It uses a queue to visit every neighbor of the current node before moving deeper. Because it visits all nodes at distance 1, then distance 2, etc., BFS always finds the shortest path in an unweighted graph.</p>
      `;break;case"dfs":h=`
        <h3>Depth‑First Search (DFS)</h3>
        <p>DFS dives as far as possible down one path before backtracking. It uses a stack (either explicitly or via recursion) so the most recently discovered node is visited next. DFS is memory‑efficient but does not guarantee the shortest path.</p>
      `;break;case"ucs":h=`
        <h3>Uniform Cost Search (UCS)</h3>
        <p>UCS works like BFS but for weighted graphs. It always expands the node with the lowest total cost from the start, using a priority queue. This guarantees it finds the least‑cost path.</p>
      `;break;case"aStar":h=`
        <h3>A* Search</h3>
        <p>A* combines UCS’s cost‑so‑far with an estimate (heuristic) of remaining cost to the goal. It selects the next node based on the sum of those two values, guiding the search more directly toward the goal while still guaranteeing optimality if the heuristic is admissible.</p>
      `;break;default:h="<p>Please select an algorithm from the dropdown to see information.</p>"}document.getElementById("algInfoContent").innerHTML=h;const m=document.getElementById("algInfoModal");new bootstrap.Modal(m).show()});function Re(h){Y(".link-label").style("display",h?"block":"none");const m=document.getElementById("toggleWeightsSwitch");m.checked=h,m.nextElementSibling.textContent=h?"Show Weights":"Hide Weights"}document.getElementById("toggleWeightsSwitch").addEventListener("change",function(){Re(this.checked),Y("#searchTreePanelSvg .link-weight-label").style("display",this.checked?"block":"none")});function Mn(){Re(!0)}function $n(){Re(!1)}document.getElementById("graph-tab").addEventListener("shown.bs.tab",()=>{w=_.clientWidth,v=_.clientHeight,t.forEach(Et),X()}),document.querySelectorAll(".dropdown-item").forEach(h=>{h.addEventListener("click",function(m){m.preventDefault(),c=this.getAttribute("data-algorithm"),document.getElementById("algorithmDropdown").innerText=this.innerText})});const jn=document.getElementById("toggleSidebar"),se=document.getElementById("sidebar"),He=document.getElementById("sidebarResizer");jn.addEventListener("click",()=>{const h=getComputedStyle(se).display==="none";se.style.display=h?"block":"none",He.style.display=h?"block":"none",jn.textContent=h?"Hide Sidebar":"Show Sidebar",Bt()});const ci=document.querySelector(".main-container");let Oe=!1;He.addEventListener("mousedown",function(h){Oe=!0}),document.addEventListener("mousemove",function(h){if(!Oe)return;const m=ci.getBoundingClientRect().left;let g=h.clientX-m;g=Math.max(150,Math.min(g,600)),se.style.width=`${g}px`,Bt()}),document.addEventListener("mouseup",function(){Oe=!1}),bn(5);const ui=document.getElementById("searchTreePanel"),Pn=document.getElementById("toggleTreeBtn");Pn.addEventListener("click",()=>{var g;const h=ui.classList.toggle("open");Pn.textContent=h?"◀":"▶",se.style.display=h?"none":"block",He.style.display=h?"none":"block",document.querySelector(".main-content").classList.toggle("shift",h),q(),setTimeout(Bt,0);const m=(g=o[a])==null?void 0:g.snapshot;m&&setTimeout(()=>ie(m),0)});const hi=document.getElementById("toggleToastSwitch"),fi=document.getElementById("currentStepToast").parentElement;hi.addEventListener("change",function(){fi.style.display=this.checked?"block":"none"});function Bt(){Ft(),x.attr("width",w).attr("height",v),at.force("center",nr(w/2,v/2)).alpha(.5).restart(),t.forEach(Et),X()}function di(h){var M,W;const m=document.getElementById("searchTreeStats");if(!h){m.style.display="none";return}m.style.display="block",document.getElementById("nodesExpanded").textContent=((M=h.expanded)==null?void 0:M.length)??0;const g=Object.keys(h.parents).map(Number),S=+document.getElementById("startNodeSelect").value,k=new Set(g.concat(S));document.getElementById("nodesDiscovered").textContent=k.size;const E=h.path?h.path.length-1:"N/A";if(document.getElementById("stepsToGoal").textContent=E,(W=h.path)!=null&&W.length){const I=+h.goal,$=h.nodes.find(C=>C.id===I);document.getElementById("finalCost").textContent=($==null?void 0:$.cost)??"N/A"}else document.getElementById("finalCost").textContent="N/A";let L="N/A";if(h.currentNode!=null){L=0;let I=h.currentNode;for(;h.parents[I]!==void 0;)L++,I=h.parents[I]}document.getElementById("currentDepth").textContent=L}document.getElementById("goalNodeSelect").addEventListener("change",()=>{Ht();const h=parseInt(Ot.value,10);isNaN(h)||(oe(h),qn(h))});function qn(h){if(!t.find(E=>E.id===h))return;const g=Math.min(...e.map(E=>E.weight??1/0)),S={};t.forEach(E=>S[E.id]=1/0),S[h]=0;const k=[h];for(;k.length;){const E=k.shift();r[E].forEach(L=>{S[L]===1/0&&(S[L]=S[E]+1,k.push(L))})}t.forEach(E=>{E.h=Number.isFinite(S[E.id])?S[E.id]*g:0,Y(".node-group").filter(L=>L.id===E.id).select(".heuristic-label").text(`H: ${E.h}`)}),q()}window.addEventListener("resize",()=>{const h=_.clientWidth,m=_.clientHeight;(h!==0||m!==0)&&Bt()}),window.addEventListener("resize",Bt),Bt()});
