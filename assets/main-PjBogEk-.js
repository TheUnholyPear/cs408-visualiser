(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ci={value:()=>{}};function Be(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ve(n)}function ve(t){this._=t}function ki(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ve.prototype=Be.prototype={constructor:ve,on:function(t,e){var n=this._,r=ki(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Ni(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Xn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Xn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ve(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Ni(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Xn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ci,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var on="http://www.w3.org/1999/xhtml";const Vn={svg:"http://www.w3.org/2000/svg",xhtml:on,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Le(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Vn.hasOwnProperty(e)?{space:Vn[e],local:t}:t}function Ai(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===on&&e.documentElement.namespaceURI===on?e.createElement(t):e.createElementNS(n,t)}}function Ti(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function wr(t){var e=Le(t);return(e.local?Ti:Ai)(e)}function Ii(){}function gn(t){return t==null?Ii:function(){return this.querySelector(t)}}function Bi(t){typeof t!="function"&&(t=gn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),h,a,c=0;c<s;++c)(h=o[c])&&(a=t.call(h,h.__data__,c,o))&&("__data__"in h&&(a.__data__=h.__data__),l[c]=a);return new nt(r,this._parents)}function xr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Li(){return[]}function br(t){return t==null?Li:function(){return this.querySelectorAll(t)}}function $i(t){return function(){return xr(t.apply(this,arguments))}}function Mi(t){typeof t=="function"?t=$i(t):t=br(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,h,a=0;a<l;++a)(h=s[a])&&(r.push(t.call(h,h.__data__,a,s)),i.push(h));return new nt(r,i)}function _r(t){return function(){return this.matches(t)}}function Sr(t){return function(e){return e.matches(t)}}var ji=Array.prototype.find;function Pi(t){return function(){return ji.call(this.children,t)}}function Fi(){return this.firstElementChild}function Di(t){return this.select(t==null?Fi:Pi(typeof t=="function"?t:Sr(t)))}var Ri=Array.prototype.filter;function Hi(){return Array.from(this.children)}function qi(t){return function(){return Ri.call(this.children,t)}}function Oi(t){return this.selectAll(t==null?Hi:qi(typeof t=="function"?t:Sr(t)))}function zi(t){typeof t!="function"&&(t=_r(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],h,a=0;a<s;++a)(h=o[a])&&t.call(h,h.__data__,a,o)&&l.push(h);return new nt(r,this._parents)}function Er(t){return new Array(t.length)}function Gi(){return new nt(this._enter||this._groups.map(Er),this._parents)}function _e(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}_e.prototype={constructor:_e,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ui(t){return function(){return t}}function Xi(t,e,n,r,i,o){for(var s=0,l,h=e.length,a=o.length;s<a;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new _e(t,o[s]);for(;s<h;++s)(l=e[s])&&(i[s]=l)}function Vi(t,e,n,r,i,o,s){var l,h,a=new Map,c=e.length,d=o.length,f=new Array(c),p;for(l=0;l<c;++l)(h=e[l])&&(f[l]=p=s.call(h,h.__data__,l,e)+"",a.has(p)?i[l]=h:a.set(p,h));for(l=0;l<d;++l)p=s.call(t,o[l],l,o)+"",(h=a.get(p))?(r[l]=h,h.__data__=o[l],a.delete(p)):n[l]=new _e(t,o[l]);for(l=0;l<c;++l)(h=e[l])&&a.get(f[l])===h&&(i[l]=h)}function Wi(t){return t.__data__}function Yi(t,e){if(!arguments.length)return Array.from(this,Wi);var n=e?Vi:Xi,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ui(t));for(var o=i.length,s=new Array(o),l=new Array(o),h=new Array(o),a=0;a<o;++a){var c=r[a],d=i[a],f=d.length,p=Ji(t.call(c,c&&c.__data__,a,r)),b=p.length,w=l[a]=new Array(b),g=s[a]=new Array(b),_=h[a]=new Array(f);n(c,d,w,g,_,p,e);for(var E=0,$=0,y,L;E<b;++E)if(y=w[E]){for(E>=$&&($=E+1);!(L=g[$])&&++$<b;);y._next=L||null}}return s=new nt(s,r),s._enter=l,s._exit=h,s}function Ji(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ki(){return new nt(this._exit||this._groups.map(Er),this._parents)}function Qi(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Zi(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),h=0;h<s;++h)for(var a=n[h],c=r[h],d=a.length,f=l[h]=new Array(d),p,b=0;b<d;++b)(p=a[b]||c[b])&&(f[b]=p);for(;h<i;++h)l[h]=n[h];return new nt(l,this._parents)}function to(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function eo(t){t||(t=no);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,h=i[o]=new Array(l),a,c=0;c<l;++c)(a=s[c])&&(h[c]=a);h.sort(e)}return new nt(i,this._parents).order()}function no(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ro(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function io(){return Array.from(this)}function oo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function so(){let t=0;for(const e of this)++t;return t}function ao(){return!this.node()}function lo(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function co(t){return function(){this.removeAttribute(t)}}function uo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ho(t,e){return function(){this.setAttribute(t,e)}}function fo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function po(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function go(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function mo(t,e){var n=Le(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?uo:co:typeof e=="function"?n.local?go:po:n.local?fo:ho)(n,e))}function Cr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function yo(t){return function(){this.style.removeProperty(t)}}function vo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function wo(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function xo(t,e,n){return arguments.length>1?this.each((e==null?yo:typeof e=="function"?wo:vo)(t,e,n??"")):jt(this.node(),t)}function jt(t,e){return t.style.getPropertyValue(e)||Cr(t).getComputedStyle(t,null).getPropertyValue(e)}function bo(t){return function(){delete this[t]}}function _o(t,e){return function(){this[t]=e}}function So(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Eo(t,e){return arguments.length>1?this.each((e==null?bo:typeof e=="function"?So:_o)(t,e)):this.node()[t]}function kr(t){return t.trim().split(/^|\s+/)}function mn(t){return t.classList||new Nr(t)}function Nr(t){this._node=t,this._names=kr(t.getAttribute("class")||"")}Nr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ar(t,e){for(var n=mn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Tr(t,e){for(var n=mn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Co(t){return function(){Ar(this,t)}}function ko(t){return function(){Tr(this,t)}}function No(t,e){return function(){(e.apply(this,arguments)?Ar:Tr)(this,t)}}function Ao(t,e){var n=kr(t+"");if(arguments.length<2){for(var r=mn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?No:e?Co:ko)(n,e))}function To(){this.textContent=""}function Io(t){return function(){this.textContent=t}}function Bo(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Lo(t){return arguments.length?this.each(t==null?To:(typeof t=="function"?Bo:Io)(t)):this.node().textContent}function $o(){this.innerHTML=""}function Mo(t){return function(){this.innerHTML=t}}function jo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Po(t){return arguments.length?this.each(t==null?$o:(typeof t=="function"?jo:Mo)(t)):this.node().innerHTML}function Fo(){this.nextSibling&&this.parentNode.appendChild(this)}function Do(){return this.each(Fo)}function Ro(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ho(){return this.each(Ro)}function qo(t){var e=typeof t=="function"?t:wr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Oo(){return null}function zo(t,e){var n=typeof t=="function"?t:wr(t),r=e==null?Oo:typeof e=="function"?e:gn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Go(){var t=this.parentNode;t&&t.removeChild(this)}function Uo(){return this.each(Go)}function Xo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wo(t){return this.select(t?Vo:Xo)}function Yo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Jo(t){return function(e){t.call(this,e,this.__data__)}}function Ko(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Qo(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Zo(t,e,n){return function(){var r=this.__on,i,o=Jo(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ts(t,e,n){var r=Ko(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var h=0,a=l.length,c;h<a;++h)for(i=0,c=l[h];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=e?Zo:Qo,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function Ir(t,e,n){var r=Cr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function es(t,e){return function(){return Ir(this,t,e)}}function ns(t,e){return function(){return Ir(this,t,e.apply(this,arguments))}}function rs(t,e){return this.each((typeof e=="function"?ns:es)(t,e))}function*is(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var yn=[null];function nt(t,e){this._groups=t,this._parents=e}function oe(){return new nt([[document.documentElement]],yn)}function os(){return this}nt.prototype=oe.prototype={constructor:nt,select:Bi,selectAll:Mi,selectChild:Di,selectChildren:Oi,filter:zi,data:Yi,enter:Gi,exit:Ki,join:Qi,merge:Zi,selection:os,order:to,sort:eo,call:ro,nodes:io,node:oo,size:so,empty:ao,each:lo,attr:mo,style:xo,property:Eo,classed:Ao,text:Lo,html:Po,raise:Do,lower:Ho,append:qo,insert:zo,remove:Uo,clone:Wo,datum:Yo,on:ts,dispatch:rs,[Symbol.iterator]:is};function ft(t){return typeof t=="string"?new nt([[document.querySelector(t)]],[document.documentElement]):new nt([[t]],yn)}function ss(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Wn(t,e){if(t=ss(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function W(t){return typeof t=="string"?new nt([document.querySelectorAll(t)],[document.documentElement]):new nt([xr(t)],yn)}const as={passive:!1},Zt={capture:!0,passive:!1};function Qe(t){t.stopImmediatePropagation()}function $t(t){t.preventDefault(),t.stopImmediatePropagation()}function ls(t){var e=t.document.documentElement,n=ft(t).on("dragstart.drag",$t,Zt);"onselectstart"in e?n.on("selectstart.drag",$t,Zt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function cs(t,e){var n=t.document.documentElement,r=ft(t).on("dragstart.drag",null);e&&(r.on("click.drag",$t,Zt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const he=t=>()=>t;function sn(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:h,dy:a,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:c}})}sn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function us(t){return!t.ctrlKey&&!t.button}function hs(){return this.parentNode}function fs(t,e){return e??{x:t.x,y:t.y}}function ds(){return navigator.maxTouchPoints||"ontouchstart"in this}function ps(){var t=us,e=hs,n=fs,r=ds,i={},o=Be("start","drag","end"),s=0,l,h,a,c,d=0;function f(y){y.on("mousedown.drag",p).filter(r).on("touchstart.drag",g).on("touchmove.drag",_,as).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(y,L){if(!(c||!t.call(this,y,L))){var P=$(this,e.call(this,y,L),y,L,"mouse");P&&(ft(y.view).on("mousemove.drag",b,Zt).on("mouseup.drag",w,Zt),ls(y.view),Qe(y),a=!1,l=y.clientX,h=y.clientY,P("start",y))}}function b(y){if($t(y),!a){var L=y.clientX-l,P=y.clientY-h;a=L*L+P*P>d}i.mouse("drag",y)}function w(y){ft(y.view).on("mousemove.drag mouseup.drag",null),cs(y.view,a),$t(y),i.mouse("end",y)}function g(y,L){if(t.call(this,y,L)){var P=y.changedTouches,D=e.call(this,y,L),F=P.length,O,q;for(O=0;O<F;++O)(q=$(this,D,y,L,P[O].identifier,P[O]))&&(Qe(y),q("start",y,P[O]))}}function _(y){var L=y.changedTouches,P=L.length,D,F;for(D=0;D<P;++D)(F=i[L[D].identifier])&&($t(y),F("drag",y,L[D]))}function E(y){var L=y.changedTouches,P=L.length,D,F;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),D=0;D<P;++D)(F=i[L[D].identifier])&&(Qe(y),F("end",y,L[D]))}function $(y,L,P,D,F,O){var q=o.copy(),z=Wn(O||P,L),I,R,V;if((V=n.call(y,new sn("beforestart",{sourceEvent:P,target:f,identifier:F,active:s,x:z[0],y:z[1],dx:0,dy:0,dispatch:q}),D))!=null)return I=V.x-z[0]||0,R=V.y-z[1]||0,function it(K,Rt,Bt){var xt=z,J;switch(K){case"start":i[F]=it,J=s++;break;case"end":delete i[F],--s;case"drag":z=Wn(Bt||Rt,L),J=s;break}q.call(K,y,new sn(K,{sourceEvent:Rt,subject:V,target:f,identifier:F,active:J,x:z[0]+I,y:z[1]+R,dx:z[0]-xt[0],dy:z[1]-xt[1],dispatch:q}),D)}}return f.filter=function(y){return arguments.length?(t=typeof y=="function"?y:he(!!y),f):t},f.container=function(y){return arguments.length?(e=typeof y=="function"?y:he(y),f):e},f.subject=function(y){return arguments.length?(n=typeof y=="function"?y:he(y),f):n},f.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:he(!!y),f):r},f.on=function(){var y=o.on.apply(o,arguments);return y===o?f:y},f.clickDistance=function(y){return arguments.length?(d=(y=+y)*y,f):Math.sqrt(d)},f}function vn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Br(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function se(){}var te=.7,Se=1/te,Mt="\\s*([+-]?\\d+)\\s*",ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gs=/^#([0-9a-f]{3,8})$/,ms=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),ys=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),vs=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${ee}\\)$`),ws=new RegExp(`^rgba\\(${pt},${pt},${pt},${ee}\\)$`),xs=new RegExp(`^hsl\\(${ee},${pt},${pt}\\)$`),bs=new RegExp(`^hsla\\(${ee},${pt},${pt},${ee}\\)$`),Yn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vn(se,ne,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Jn,formatHex:Jn,formatHex8:_s,formatHsl:Ss,formatRgb:Kn,toString:Kn});function Jn(){return this.rgb().formatHex()}function _s(){return this.rgb().formatHex8()}function Ss(){return Lr(this).formatHsl()}function Kn(){return this.rgb().formatRgb()}function ne(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=gs.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Qn(e):n===3?new st(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ms.exec(t))?new st(e[1],e[2],e[3],1):(e=ys.exec(t))?new st(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vs.exec(t))?fe(e[1],e[2],e[3],e[4]):(e=ws.exec(t))?fe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xs.exec(t))?er(e[1],e[2]/100,e[3]/100,1):(e=bs.exec(t))?er(e[1],e[2]/100,e[3]/100,e[4]):Yn.hasOwnProperty(t)?Qn(Yn[t]):t==="transparent"?new st(NaN,NaN,NaN,0):null}function Qn(t){return new st(t>>16&255,t>>8&255,t&255,1)}function fe(t,e,n,r){return r<=0&&(t=e=n=NaN),new st(t,e,n,r)}function Es(t){return t instanceof se||(t=ne(t)),t?(t=t.rgb(),new st(t.r,t.g,t.b,t.opacity)):new st}function an(t,e,n,r){return arguments.length===1?Es(t):new st(t,e,n,r??1)}function st(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vn(st,an,Br(se,{brighter(t){return t=t==null?Se:Math.pow(Se,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?te:Math.pow(te,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new st(kt(this.r),kt(this.g),kt(this.b),Ee(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zn,formatHex:Zn,formatHex8:Cs,formatRgb:tr,toString:tr}));function Zn(){return`#${Ct(this.r)}${Ct(this.g)}${Ct(this.b)}`}function Cs(){return`#${Ct(this.r)}${Ct(this.g)}${Ct(this.b)}${Ct((isNaN(this.opacity)?1:this.opacity)*255)}`}function tr(){const t=Ee(this.opacity);return`${t===1?"rgb(":"rgba("}${kt(this.r)}, ${kt(this.g)}, ${kt(this.b)}${t===1?")":`, ${t})`}`}function Ee(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function kt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ct(t){return t=kt(t),(t<16?"0":"")+t.toString(16)}function er(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new lt(t,e,n,r)}function Lr(t){if(t instanceof lt)return new lt(t.h,t.s,t.l,t.opacity);if(t instanceof se||(t=ne(t)),!t)return new lt;if(t instanceof lt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,h=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=h<.5?o+i:2-o-i,s*=60):l=h>0&&h<1?0:s,new lt(s,l,h,t.opacity)}function ks(t,e,n,r){return arguments.length===1?Lr(t):new lt(t,e,n,r??1)}function lt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vn(lt,ks,Br(se,{brighter(t){return t=t==null?Se:Math.pow(Se,t),new lt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?te:Math.pow(te,t),new lt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new st(Ze(t>=240?t-240:t+120,i,r),Ze(t,i,r),Ze(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new lt(nr(this.h),de(this.s),de(this.l),Ee(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ee(this.opacity);return`${t===1?"hsl(":"hsla("}${nr(this.h)}, ${de(this.s)*100}%, ${de(this.l)*100}%${t===1?")":`, ${t})`}`}}));function nr(t){return t=(t||0)%360,t<0?t+360:t}function de(t){return Math.max(0,Math.min(1,t||0))}function Ze(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $r=t=>()=>t;function Ns(t,e){return function(n){return t+n*e}}function As(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ts(t){return(t=+t)==1?Mr:function(e,n){return n-e?As(e,n,t):$r(isNaN(e)?n:e)}}function Mr(t,e){var n=e-t;return n?Ns(t,n):$r(isNaN(t)?e:t)}const rr=function t(e){var n=Ts(e);function r(i,o){var s=n((i=an(i)).r,(o=an(o)).r),l=n(i.g,o.g),h=n(i.b,o.b),a=Mr(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=h(c),i.opacity=a(c),i+""}}return r.gamma=t,r}(1);function bt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ln=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tn=new RegExp(ln.source,"g");function Is(t){return function(){return t}}function Bs(t){return function(e){return t(e)+""}}function Ls(t,e){var n=ln.lastIndex=tn.lastIndex=0,r,i,o,s=-1,l=[],h=[];for(t=t+"",e=e+"";(r=ln.exec(t))&&(i=tn.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,h.push({i:s,x:bt(r,i)})),n=tn.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?h[0]?Bs(h[0].x):Is(e):(e=h.length,function(a){for(var c=0,d;c<e;++c)l[(d=h[c]).i]=d.x(a);return l.join("")})}var ir=180/Math.PI,cn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jr(t,e,n,r,i,o){var s,l,h;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,h/=l),t*r<e*n&&(t=-t,e=-e,h=-h,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ir,skewX:Math.atan(h)*ir,scaleX:s,scaleY:l}}var pe;function $s(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?cn:jr(e.a,e.b,e.c,e.d,e.e,e.f)}function Ms(t){return t==null||(pe||(pe=document.createElementNS("http://www.w3.org/2000/svg","g")),pe.setAttribute("transform",t),!(t=pe.transform.baseVal.consolidate()))?cn:(t=t.matrix,jr(t.a,t.b,t.c,t.d,t.e,t.f))}function Pr(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function o(a,c,d,f,p,b){if(a!==d||c!==f){var w=p.push("translate(",null,e,null,n);b.push({i:w-4,x:bt(a,d)},{i:w-2,x:bt(c,f)})}else(d||f)&&p.push("translate("+d+e+f+n)}function s(a,c,d,f){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:bt(a,c)})):c&&d.push(i(d)+"rotate("+c+r)}function l(a,c,d,f){a!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:bt(a,c)}):c&&d.push(i(d)+"skewX("+c+r)}function h(a,c,d,f,p,b){if(a!==d||c!==f){var w=p.push(i(p)+"scale(",null,",",null,")");b.push({i:w-4,x:bt(a,d)},{i:w-2,x:bt(c,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(a,c){var d=[],f=[];return a=t(a),c=t(c),o(a.translateX,a.translateY,c.translateX,c.translateY,d,f),s(a.rotate,c.rotate,d,f),l(a.skewX,c.skewX,d,f),h(a.scaleX,a.scaleY,c.scaleX,c.scaleY,d,f),a=c=null,function(p){for(var b=-1,w=f.length,g;++b<w;)d[(g=f[b]).i]=g.x(p);return d.join("")}}}var js=Pr($s,"px, ","px)","deg)"),Ps=Pr(Ms,", ",")",")"),Pt=0,Yt=0,Vt=0,Fr=1e3,Ce,Jt,ke=0,At=0,$e=0,re=typeof performance=="object"&&performance.now?performance:Date,Dr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wn(){return At||(Dr(Fs),At=re.now()+$e)}function Fs(){At=0}function Ne(){this._call=this._time=this._next=null}Ne.prototype=xn.prototype={constructor:Ne,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?wn():+n)+(e==null?0:+e),!this._next&&Jt!==this&&(Jt?Jt._next=this:Ce=this,Jt=this),this._call=t,this._time=n,un()},stop:function(){this._call&&(this._call=null,this._time=1/0,un())}};function xn(t,e,n){var r=new Ne;return r.restart(t,e,n),r}function Ds(){wn(),++Pt;for(var t=Ce,e;t;)(e=At-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Pt}function or(){At=(ke=re.now())+$e,Pt=Yt=0;try{Ds()}finally{Pt=0,Hs(),At=0}}function Rs(){var t=re.now(),e=t-ke;e>Fr&&($e-=e,ke=t)}function Hs(){for(var t,e=Ce,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ce=n);Jt=t,un(r)}function un(t){if(!Pt){Yt&&(Yt=clearTimeout(Yt));var e=t-At;e>24?(t<1/0&&(Yt=setTimeout(or,t-re.now()-$e)),Vt&&(Vt=clearInterval(Vt))):(Vt||(ke=re.now(),Vt=setInterval(Rs,Fr)),Pt=1,Dr(or))}}function sr(t,e,n){var r=new Ne;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var qs=Be("start","end","cancel","interrupt"),Os=[],Rr=0,ar=1,hn=2,we=3,lr=4,fn=5,xe=6;function Me(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;zs(t,n,{name:e,index:r,group:i,on:qs,tween:Os,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Rr})}function bn(t,e){var n=ct(t,e);if(n.state>Rr)throw new Error("too late; already scheduled");return n}function mt(t,e){var n=ct(t,e);if(n.state>we)throw new Error("too late; already running");return n}function ct(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function zs(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=xn(o,0,n.time);function o(a){n.state=ar,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var c,d,f,p;if(n.state!==ar)return h();for(c in r)if(p=r[c],p.name===n.name){if(p.state===we)return sr(s);p.state===lr?(p.state=xe,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=xe,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(sr(function(){n.state===we&&(n.state=lr,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=hn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===hn){for(n.state=we,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function l(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(h),n.state=fn,1),d=-1,f=i.length;++d<f;)i[d].call(t,c);n.state===fn&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=xe,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function Gs(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>hn&&r.state<fn,r.state=xe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Us(t){return this.each(function(){Gs(this,t)})}function Xs(t,e){var n,r;return function(){var i=mt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Vs(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=mt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},h=0,a=i.length;h<a;++h)if(i[h].name===e){i[h]=l;break}h===a&&i.push(l)}o.tween=i}}function Ws(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ct(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Xs:Vs)(n,t,e))}function _n(t,e,n){var r=t._id;return t.each(function(){var i=mt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ct(i,r).value[e]}}function Hr(t,e){var n;return(typeof e=="number"?bt:e instanceof ne?rr:(n=ne(e))?(e=n,rr):Ls)(t,e)}function Ys(t){return function(){this.removeAttribute(t)}}function Js(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ks(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Qs(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Zs(t,e,n){var r,i,o;return function(){var s,l=n(this),h;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),h=l+"",s===h?null:s===r&&h===i?o:(i=h,o=e(r=s,l)))}}function ta(t,e,n){var r,i,o;return function(){var s,l=n(this),h;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),h=l+"",s===h?null:s===r&&h===i?o:(i=h,o=e(r=s,l)))}}function ea(t,e){var n=Le(t),r=n==="transform"?Ps:Hr;return this.attrTween(t,typeof e=="function"?(n.local?ta:Zs)(n,r,_n(this,"attr."+t,e)):e==null?(n.local?Js:Ys)(n):(n.local?Qs:Ks)(n,r,e))}function na(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ra(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ia(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ra(t,o)),n}return i._value=e,i}function oa(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&na(t,o)),n}return i._value=e,i}function sa(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Le(t);return this.tween(n,(r.local?ia:oa)(r,e))}function aa(t,e){return function(){bn(this,t).delay=+e.apply(this,arguments)}}function la(t,e){return e=+e,function(){bn(this,t).delay=e}}function ca(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?aa:la)(e,t)):ct(this.node(),e).delay}function ua(t,e){return function(){mt(this,t).duration=+e.apply(this,arguments)}}function ha(t,e){return e=+e,function(){mt(this,t).duration=e}}function fa(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ua:ha)(e,t)):ct(this.node(),e).duration}function da(t,e){if(typeof e!="function")throw new Error;return function(){mt(this,t).ease=e}}function pa(t){var e=this._id;return arguments.length?this.each(da(e,t)):ct(this.node(),e).ease}function ga(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;mt(this,t).ease=n}}function ma(t){if(typeof t!="function")throw new Error;return this.each(ga(this._id,t))}function ya(t){typeof t!="function"&&(t=_r(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],h,a=0;a<s;++a)(h=o[a])&&t.call(h,h.__data__,a,o)&&l.push(h);return new wt(r,this._parents,this._name,this._id)}function va(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var h=e[l],a=n[l],c=h.length,d=s[l]=new Array(c),f,p=0;p<c;++p)(f=h[p]||a[p])&&(d[p]=f);for(;l<r;++l)s[l]=e[l];return new wt(s,this._parents,this._name,this._id)}function wa(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function xa(t,e,n){var r,i,o=wa(e)?bn:mt;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function ba(t,e){var n=this._id;return arguments.length<2?ct(this.node(),n).on.on(t):this.each(xa(n,t,e))}function _a(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Sa(){return this.on("end.remove",_a(this._id))}function Ea(t){var e=this._name,n=this._id;typeof t!="function"&&(t=gn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],h=l.length,a=o[s]=new Array(h),c,d,f=0;f<h;++f)(c=l[f])&&(d=t.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),a[f]=d,Me(a[f],e,n,f,a,ct(c,n)));return new wt(o,this._parents,e,n)}function Ca(t){var e=this._name,n=this._id;typeof t!="function"&&(t=br(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var h=r[l],a=h.length,c,d=0;d<a;++d)if(c=h[d]){for(var f=t.call(c,c.__data__,d,h),p,b=ct(c,n),w=0,g=f.length;w<g;++w)(p=f[w])&&Me(p,e,n,w,f,b);o.push(f),s.push(c)}return new wt(o,s,e,n)}var ka=oe.prototype.constructor;function Na(){return new ka(this._groups,this._parents)}function Aa(t,e){var n,r,i;return function(){var o=jt(this,t),s=(this.style.removeProperty(t),jt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function qr(t){return function(){this.style.removeProperty(t)}}function Ta(t,e,n){var r,i=n+"",o;return function(){var s=jt(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Ia(t,e,n){var r,i,o;return function(){var s=jt(this,t),l=n(this),h=l+"";return l==null&&(h=l=(this.style.removeProperty(t),jt(this,t))),s===h?null:s===r&&h===i?o:(i=h,o=e(r=s,l))}}function Ba(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var h=mt(this,t),a=h.on,c=h.value[o]==null?l||(l=qr(e)):void 0;(a!==n||i!==c)&&(r=(n=a).copy()).on(s,i=c),h.on=r}}function La(t,e,n){var r=(t+="")=="transform"?js:Hr;return e==null?this.styleTween(t,Aa(t,r)).on("end.style."+t,qr(t)):typeof e=="function"?this.styleTween(t,Ia(t,r,_n(this,"style."+t,e))).each(Ba(this._id,t)):this.styleTween(t,Ta(t,r,e),n).on("end.style."+t,null)}function $a(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ma(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&$a(t,s,n)),r}return o._value=e,o}function ja(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Ma(t,e,n??""))}function Pa(t){return function(){this.textContent=t}}function Fa(t){return function(){var e=t(this);this.textContent=e??""}}function Da(t){return this.tween("text",typeof t=="function"?Fa(_n(this,"text",t)):Pa(t==null?"":t+""))}function Ra(t){return function(e){this.textContent=t.call(this,e)}}function Ha(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ra(i)),e}return r._value=t,r}function qa(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ha(t))}function Oa(){for(var t=this._name,e=this._id,n=Or(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,h,a=0;a<l;++a)if(h=s[a]){var c=ct(h,e);Me(h,t,n,a,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new wt(r,this._parents,t,n)}function za(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},h={value:function(){--i===0&&o()}};n.each(function(){var a=mt(this,r),c=a.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(h)),a.on=e}),i===0&&o()})}var Ga=0;function wt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Or(){return++Ga}var yt=oe.prototype;wt.prototype={constructor:wt,select:Ea,selectAll:Ca,selectChild:yt.selectChild,selectChildren:yt.selectChildren,filter:ya,merge:va,selection:Na,transition:Oa,call:yt.call,nodes:yt.nodes,node:yt.node,size:yt.size,empty:yt.empty,each:yt.each,on:ba,attr:ea,attrTween:sa,style:La,styleTween:ja,text:Da,textTween:qa,remove:Sa,tween:Ws,delay:ca,duration:fa,ease:pa,easeVarying:ma,end:za,[Symbol.iterator]:yt[Symbol.iterator]};function Ua(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Xa={time:null,delay:0,duration:250,ease:Ua};function Va(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Wa(t){var e,n;t instanceof wt?(e=t._id,t=t._name):(e=Or(),(n=Xa).time=wn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,h,a=0;a<l;++a)(h=s[a])&&Me(h,t,e,a,s,n||Va(h,e));return new wt(r,this._parents,t,e)}oe.prototype.interrupt=Us;oe.prototype.transition=Wa;function cr(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,s=n.length,l,h=0,a=0;for(o=0;o<s;++o)l=n[o],h+=l.x,a+=l.y;for(h=(h/s-t)*r,a=(a/s-e)*r,o=0;o<s;++o)l=n[o],l.x-=h,l.y-=a}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function Ya(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return zr(this.cover(e,n),e,n,t)}function zr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,s={data:r},l=t._x0,h=t._y0,a=t._x1,c=t._y1,d,f,p,b,w,g,_,E;if(!o)return t._root=s,t;for(;o.length;)if((w=e>=(d=(l+a)/2))?l=d:a=d,(g=n>=(f=(h+c)/2))?h=f:c=f,i=o,!(o=o[_=g<<1|w]))return i[_]=s,t;if(p=+t._x.call(null,o.data),b=+t._y.call(null,o.data),e===p&&n===b)return s.next=o,i?i[_]=s:t._root=s,t;do i=i?i[_]=new Array(4):t._root=new Array(4),(w=e>=(d=(l+a)/2))?l=d:a=d,(g=n>=(f=(h+c)/2))?h=f:c=f;while((_=g<<1|w)===(E=(b>=f)<<1|p>=d));return i[E]=o,i[_]=s,t}function Ja(t){var e,n,r=t.length,i,o,s=new Array(r),l=new Array(r),h=1/0,a=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,l[n]=o,i<h&&(h=i),i>c&&(c=i),o<a&&(a=o),o>d&&(d=o));if(h>c||a>d)return this;for(this.cover(h,a).cover(c,d),n=0;n<r;++n)zr(this,s[n],l[n],t[n]);return this}function Ka(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s=i-n||1,l=this._root,h,a;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,h=new Array(4),h[a]=l,l=h,s*=2,a){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Qa(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Za(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function et(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function tl(t,e,n){var r,i=this._x0,o=this._y0,s,l,h,a,c=this._x1,d=this._y1,f=[],p=this._root,b,w;for(p&&f.push(new et(p,i,o,c,d)),n==null?n=1/0:(i=t-n,o=e-n,c=t+n,d=e+n,n*=n);b=f.pop();)if(!(!(p=b.node)||(s=b.x0)>c||(l=b.y0)>d||(h=b.x1)<i||(a=b.y1)<o))if(p.length){var g=(s+h)/2,_=(l+a)/2;f.push(new et(p[3],g,_,h,a),new et(p[2],s,_,g,a),new et(p[1],g,l,h,_),new et(p[0],s,l,g,_)),(w=(e>=_)<<1|t>=g)&&(b=f[f.length-1],f[f.length-1]=f[f.length-1-w],f[f.length-1-w]=b)}else{var E=t-+this._x.call(null,p.data),$=e-+this._y.call(null,p.data),y=E*E+$*$;if(y<n){var L=Math.sqrt(n=y);i=t-L,o=e-L,c=t+L,d=e+L,r=p.data}}return r}function el(t){if(isNaN(c=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,s=this._x0,l=this._y0,h=this._x1,a=this._y1,c,d,f,p,b,w,g,_;if(!n)return this;if(n.length)for(;;){if((b=c>=(f=(s+h)/2))?s=f:h=f,(w=d>=(p=(l+a)/2))?l=p:a=p,e=n,!(n=n[g=w<<1|b]))return this;if(!n.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(r=e,_=g)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[g]=o:delete e[g],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[_]=n:this._root=n),this):(this._root=o,this)}function nl(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function rl(){return this._root}function il(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function ol(t){var e=[],n,r=this._root,i,o,s,l,h;for(r&&e.push(new et(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,s=n.y0,l=n.x1,h=n.y1)&&r.length){var a=(o+l)/2,c=(s+h)/2;(i=r[3])&&e.push(new et(i,a,c,l,h)),(i=r[2])&&e.push(new et(i,o,c,a,h)),(i=r[1])&&e.push(new et(i,a,s,l,c)),(i=r[0])&&e.push(new et(i,o,s,a,c))}return this}function sl(t){var e=[],n=[],r;for(this._root&&e.push(new et(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,s=r.x0,l=r.y0,h=r.x1,a=r.y1,c=(s+h)/2,d=(l+a)/2;(o=i[0])&&e.push(new et(o,s,l,c,d)),(o=i[1])&&e.push(new et(o,c,l,h,d)),(o=i[2])&&e.push(new et(o,s,d,c,a)),(o=i[3])&&e.push(new et(o,c,d,h,a))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function al(t){return t[0]}function ll(t){return arguments.length?(this._x=t,this):this._x}function cl(t){return t[1]}function ul(t){return arguments.length?(this._y=t,this):this._y}function Sn(t,e,n){var r=new En(e??al,n??cl,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function En(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ur(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var rt=Sn.prototype=En.prototype;rt.copy=function(){var t=new En(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=ur(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=ur(r));return t};rt.add=Ya;rt.addAll=Ja;rt.cover=Ka;rt.data=Qa;rt.extent=Za;rt.find=tl;rt.remove=el;rt.removeAll=nl;rt.root=rl;rt.size=il;rt.visit=ol;rt.visitAfter=sl;rt.x=ll;rt.y=ul;function Nt(t){return function(){return t}}function _t(t){return(t()-.5)*1e-6}function hl(t){return t.x+t.vx}function fl(t){return t.y+t.vy}function dl(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=Nt(t==null?1:+t));function s(){for(var a,c=e.length,d,f,p,b,w,g,_=0;_<o;++_)for(d=Sn(e,hl,fl).visitAfter(l),a=0;a<c;++a)f=e[a],w=n[f.index],g=w*w,p=f.x+f.vx,b=f.y+f.vy,d.visit(E);function E($,y,L,P,D){var F=$.data,O=$.r,q=w+O;if(F){if(F.index>f.index){var z=p-F.x-F.vx,I=b-F.y-F.vy,R=z*z+I*I;R<q*q&&(z===0&&(z=_t(r),R+=z*z),I===0&&(I=_t(r),R+=I*I),R=(q-(R=Math.sqrt(R)))/R*i,f.vx+=(z*=R)*(q=(O*=O)/(g+O)),f.vy+=(I*=R)*q,F.vx-=z*(q=1-q),F.vy-=I*q)}return}return y>p+q||P<p-q||L>b+q||D<b-q}}function l(a){if(a.data)return a.r=n[a.data.index];for(var c=a.r=0;c<4;++c)a[c]&&a[c].r>a.r&&(a.r=a[c].r)}function h(){if(e){var a,c=e.length,d;for(n=new Array(c),a=0;a<c;++a)d=e[a],n[d.index]=+t(d,a,e)}}return s.initialize=function(a,c){e=a,r=c,h()},s.iterations=function(a){return arguments.length?(o=+a,s):o},s.strength=function(a){return arguments.length?(i=+a,s):i},s.radius=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(+a),h(),s):t},s}function pl(t){return t.index}function hr(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function gl(t){var e=pl,n=d,r,i=Nt(30),o,s,l,h,a,c=1;t==null&&(t=[]);function d(g){return 1/Math.min(l[g.source.index],l[g.target.index])}function f(g){for(var _=0,E=t.length;_<c;++_)for(var $=0,y,L,P,D,F,O,q;$<E;++$)y=t[$],L=y.source,P=y.target,D=P.x+P.vx-L.x-L.vx||_t(a),F=P.y+P.vy-L.y-L.vy||_t(a),O=Math.sqrt(D*D+F*F),O=(O-o[$])/O*g*r[$],D*=O,F*=O,P.vx-=D*(q=h[$]),P.vy-=F*q,L.vx+=D*(q=1-q),L.vy+=F*q}function p(){if(s){var g,_=s.length,E=t.length,$=new Map(s.map((L,P)=>[e(L,P,s),L])),y;for(g=0,l=new Array(_);g<E;++g)y=t[g],y.index=g,typeof y.source!="object"&&(y.source=hr($,y.source)),typeof y.target!="object"&&(y.target=hr($,y.target)),l[y.source.index]=(l[y.source.index]||0)+1,l[y.target.index]=(l[y.target.index]||0)+1;for(g=0,h=new Array(E);g<E;++g)y=t[g],h[g]=l[y.source.index]/(l[y.source.index]+l[y.target.index]);r=new Array(E),b(),o=new Array(E),w()}}function b(){if(s)for(var g=0,_=t.length;g<_;++g)r[g]=+n(t[g],g,t)}function w(){if(s)for(var g=0,_=t.length;g<_;++g)o[g]=+i(t[g],g,t)}return f.initialize=function(g,_){s=g,a=_,p()},f.links=function(g){return arguments.length?(t=g,p(),f):t},f.id=function(g){return arguments.length?(e=g,f):e},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Nt(+g),b(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Nt(+g),w(),f):i},f}const ml=1664525,yl=1013904223,fr=4294967296;function vl(){let t=1;return()=>(t=(ml*t+yl)%fr)/fr}function wl(t){return t.x}function xl(t){return t.y}var bl=10,_l=Math.PI*(3-Math.sqrt(5));function Sl(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,l=new Map,h=xn(d),a=Be("tick","end"),c=vl();t==null&&(t=[]);function d(){f(),a.call("tick",e),n<r&&(h.stop(),a.call("end",e))}function f(w){var g,_=t.length,E;w===void 0&&(w=1);for(var $=0;$<w;++$)for(n+=(o-n)*i,l.forEach(function(y){y(n)}),g=0;g<_;++g)E=t[g],E.fx==null?E.x+=E.vx*=s:(E.x=E.fx,E.vx=0),E.fy==null?E.y+=E.vy*=s:(E.y=E.fy,E.vy=0);return e}function p(){for(var w=0,g=t.length,_;w<g;++w){if(_=t[w],_.index=w,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var E=bl*Math.sqrt(.5+w),$=w*_l;_.x=E*Math.cos($),_.y=E*Math.sin($)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function b(w){return w.initialize&&w.initialize(t,c),w}return p(),e={tick:f,restart:function(){return h.restart(d),e},stop:function(){return h.stop(),e},nodes:function(w){return arguments.length?(t=w,p(),l.forEach(b),e):t},alpha:function(w){return arguments.length?(n=+w,e):n},alphaMin:function(w){return arguments.length?(r=+w,e):r},alphaDecay:function(w){return arguments.length?(i=+w,e):+i},alphaTarget:function(w){return arguments.length?(o=+w,e):o},velocityDecay:function(w){return arguments.length?(s=1-w,e):1-s},randomSource:function(w){return arguments.length?(c=w,l.forEach(b),e):c},force:function(w,g){return arguments.length>1?(g==null?l.delete(w):l.set(w,b(g)),e):l.get(w)},find:function(w,g,_){var E=0,$=t.length,y,L,P,D,F;for(_==null?_=1/0:_*=_,E=0;E<$;++E)D=t[E],y=w-D.x,L=g-D.y,P=y*y+L*L,P<_&&(F=D,_=P);return F},on:function(w,g){return arguments.length>1?(a.on(w,g),e):a.on(w)}}}function El(){var t,e,n,r,i=Nt(-30),o,s=1,l=1/0,h=.81;function a(p){var b,w=t.length,g=Sn(t,wl,xl).visitAfter(d);for(r=p,b=0;b<w;++b)e=t[b],g.visit(f)}function c(){if(t){var p,b=t.length,w;for(o=new Array(b),p=0;p<b;++p)w=t[p],o[w.index]=+i(w,p,t)}}function d(p){var b=0,w,g,_=0,E,$,y;if(p.length){for(E=$=y=0;y<4;++y)(w=p[y])&&(g=Math.abs(w.value))&&(b+=w.value,_+=g,E+=g*w.x,$+=g*w.y);p.x=E/_,p.y=$/_}else{w=p,w.x=w.data.x,w.y=w.data.y;do b+=o[w.data.index];while(w=w.next)}p.value=b}function f(p,b,w,g){if(!p.value)return!0;var _=p.x-e.x,E=p.y-e.y,$=g-b,y=_*_+E*E;if($*$/h<y)return y<l&&(_===0&&(_=_t(n),y+=_*_),E===0&&(E=_t(n),y+=E*E),y<s&&(y=Math.sqrt(s*y)),e.vx+=_*p.value*r/y,e.vy+=E*p.value*r/y),!0;if(p.length||y>=l)return;(p.data!==e||p.next)&&(_===0&&(_=_t(n),y+=_*_),E===0&&(E=_t(n),y+=E*E),y<s&&(y=Math.sqrt(s*y)));do p.data!==e&&($=o[p.data.index]*r/y,e.vx+=_*$,e.vy+=E*$);while(p=p.next)}return a.initialize=function(p,b){t=p,n=b,c()},a.strength=function(p){return arguments.length?(i=typeof p=="function"?p:Nt(+p),c(),a):i},a.distanceMin=function(p){return arguments.length?(s=p*p,a):Math.sqrt(s)},a.distanceMax=function(p){return arguments.length?(l=p*p,a):Math.sqrt(l)},a.theta=function(p){return arguments.length?(h=p*p,a):Math.sqrt(h)},a}function Cl(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function kl(){return this.eachAfter(Cl)}function Nl(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function Al(t,e){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(t.call(e,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function Tl(t,e){for(var n=this,r=[n],i=[],o,s,l,h=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,l=o.length;s<l;++s)r.push(o[s]);for(;n=i.pop();)t.call(e,n,++h,this);return this}function Il(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function Bl(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Ll(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function $l(t){for(var e=this,n=Ml(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Ml(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function jl(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Pl(){return Array.from(this)}function Fl(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Dl(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Rl(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function Cn(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Ol)):e===void 0&&(e=ql);for(var n=new ie(t),r,i=[n],o,s,l,h;r=i.pop();)if((s=e(r.data))&&(h=(s=Array.from(s)).length))for(r.children=s,l=h-1;l>=0;--l)i.push(o=s[l]=new ie(s[l])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(Gl)}function Hl(){return Cn(this).eachBefore(zl)}function ql(t){return t.children}function Ol(t){return Array.isArray(t)?t[1]:null}function zl(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Gl(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ie(t){this.data=t,this.depth=this.height=0,this.parent=null}ie.prototype=Cn.prototype={constructor:ie,count:kl,each:Nl,eachAfter:Tl,eachBefore:Al,find:Il,sum:Bl,sort:Ll,path:$l,ancestors:jl,descendants:Pl,leaves:Fl,links:Dl,copy:Hl,[Symbol.iterator]:Rl};function Ul(t,e){return t.parent===e.parent?1:2}function en(t){var e=t.children;return e?e[0]:t.t}function nn(t){var e=t.children;return e?e[e.length-1]:t.t}function Xl(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Vl(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function Wl(t,e,n){return t.a.parent===e.parent?t.a:n}function be(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}be.prototype=Object.create(ie.prototype);function Yl(t){for(var e=new be(t,0),n,r=[e],i,o,s,l;n=r.pop();)if(o=n._.children)for(n.children=new Array(l=o.length),s=l-1;s>=0;--s)r.push(i=n.children[s]=new be(o[s],s)),i.parent=n;return(e.parent=new be(null,0)).children=[e],e}function Jl(){var t=Ul,e=1,n=1,r=null;function i(a){var c=Yl(a);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)a.eachBefore(h);else{var d=a,f=a,p=a;a.eachBefore(function(E){E.x<d.x&&(d=E),E.x>f.x&&(f=E),E.depth>p.depth&&(p=E)});var b=d===f?1:t(d,f)/2,w=b-d.x,g=e/(f.x+b+w),_=n/(p.depth||1);a.eachBefore(function(E){E.x=(E.x+w)*g,E.y=E.depth*_})}return a}function o(a){var c=a.children,d=a.parent.children,f=a.i?d[a.i-1]:null;if(c){Vl(a);var p=(c[0].z+c[c.length-1].z)/2;f?(a.z=f.z+t(a._,f._),a.m=a.z-p):a.z=p}else f&&(a.z=f.z+t(a._,f._));a.parent.A=l(a,f,a.parent.A||d[0])}function s(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function l(a,c,d){if(c){for(var f=a,p=a,b=c,w=f.parent.children[0],g=f.m,_=p.m,E=b.m,$=w.m,y;b=nn(b),f=en(f),b&&f;)w=en(w),p=nn(p),p.a=a,y=b.z+E-f.z-g+t(b._,f._),y>0&&(Xl(Wl(b,a,d),a,y),g+=y,_+=y),E+=b.m,g+=f.m,$+=w.m,_+=p.m;b&&!nn(p)&&(p.t=b,p.m+=E-_),f&&!en(w)&&(w.t=f,w.m+=g-$,d=a)}return d}function h(a){a.x*=e,a.y=a.depth*n}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}function Kt(t,e,n){this.k=t,this.x=e,this.y=n}Kt.prototype={constructor:Kt,scale:function(t){return t===1?this:new Kt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Kt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Kt.prototype;/*!
 * Intro.js v7.2.0
 * https://introjs.com
 *
 * Copyright (C) 2012-2023 Afshin Mehrabani (@afshinmeh).
 * https://introjs.com
 *
 * Date: Mon, 14 Aug 2023 19:47:14 GMT
 */function Ae(t){return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(t)}function G(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(a){try{h(r.next(a))}catch(c){o(c)}}function l(a){try{h(r.throw(a))}catch(c){o(c)}}function h(a){var c;a.done?i(a.value):(c=a.value,c instanceof n?c:new n(function(d){d(c)})).then(s,l)}h((r=r.apply(t,[])).next())})}function U(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(h){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(d){c=[6,d],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([h,a])}}}function dr(t,e,n){var r,i=((r={})[t]=e,r.path="/",r.expires=void 0,r);if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i.expires=o.toUTCString()}var s=[];for(var l in i)s.push("".concat(l,"=").concat(i[l]));return document.cookie=s.join("; "),Gr(t)}function Gr(t){return(e={},document.cookie.split(";").forEach(function(n){var r=n.split("="),i=r[0],o=r[1];e[i.trim()]=o}),e)[t];var e}function Kl(t,e){e?dr(t._options.dontShowAgainCookie,"true",t._options.dontShowAgainCookieDays):dr(t._options.dontShowAgainCookie,"",-1)}var ge,dn=(ge={},function(t,e){return e===void 0&&(e="introjs-stamp"),ge[e]=ge[e]||0,t[e]===void 0&&(t[e]=ge[e]++),t[e]}),gt=new(function(){function t(){this.events_key="introjs_event"}return t.prototype._id=function(e,n,r){return e+dn(n)+(r?"_".concat(dn(r)):"")},t.prototype.on=function(e,n,r,i,o){var s=this._id(n,r,i),l=function(h){return r(i||e,h||window.event)};"addEventListener"in e?e.addEventListener(n,l,o):"attachEvent"in e&&e.attachEvent("on".concat(n),l),e[this.events_key]=e[this.events_key]||{},e[this.events_key][s]=l},t.prototype.off=function(e,n,r,i,o){var s=this._id(n,r,i),l=e[this.events_key]&&e[this.events_key][s];l&&("removeEventListener"in e?e.removeEventListener(n,l,o):"detachEvent"in e&&e.detachEvent("on".concat(n),l),e[this.events_key][s]=null)},t}()),Y=function(t){return typeof t=="function"};function dt(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";n.match(e)||t.setAttribute("class","".concat(n," ").concat(e))}else if(t.classList!==void 0)for(var r=0,i=e.split(" ");r<i.length;r++){var o=i[r];t.classList.add(o)}else t.className.match(e)||(t.className+=" ".concat(e))}function kn(t,e){var n="";return"currentStyle"in t?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function pr(t,e){if(t){var n=function(r){var i=window.getComputedStyle(r),o=i.position==="absolute",s=/(auto|scroll)/;if(i.position==="fixed")return document.body;for(var l=r;l=l.parentElement;)if(i=window.getComputedStyle(l),(!o||i.position!=="static")&&s.test(i.overflow+i.overflowY+i.overflowX))return l;return document.body}(e);n!==document.body&&(n.scrollTop=e.offsetTop-n.offsetTop)}}function Nn(){if(window.innerWidth!==void 0)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function gr(t,e,n,r,i){var o;if(e!=="off"&&t&&(o=e==="tooltip"?i.getBoundingClientRect():r.getBoundingClientRect(),!function(l){var h=l.getBoundingClientRect();return h.top>=0&&h.left>=0&&h.bottom+80<=window.innerHeight&&h.right<=window.innerWidth}(r))){var s=Nn().height;o.bottom-(o.bottom-o.top)<0||r.clientHeight>s?window.scrollBy(0,o.top-(s/2-o.height/2)-n):window.scrollBy(0,o.top-(s/2-o.height/2)+n)}}function Qt(t){t.setAttribute("role","button"),t.tabIndex=0}function je(t){var e=t.parentElement;return!(!e||e.nodeName==="HTML")&&(kn(t,"position")==="fixed"||je(e))}function Ft(t,e){var n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,o=window.pageXOffset||r.scrollLeft||n.scrollLeft;e=e||n;var s=t.getBoundingClientRect(),l=e.getBoundingClientRect(),h=kn(e,"position"),a={width:s.width,height:s.height};return e.tagName.toLowerCase()!=="body"&&h==="relative"||h==="sticky"?Object.assign(a,{top:s.top-l.top,left:s.left-l.left}):je(t)?Object.assign(a,{top:s.top,left:s.left}):Object.assign(a,{top:s.top+i,left:s.left+o})}function An(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function St(t,e){var n="";if(t.style.cssText&&(n+=t.style.cssText),typeof e=="string")n+=e;else for(var r in e)n+="".concat(r,":").concat(e[r],";");t.style.cssText=n}function vt(t,e,n){if(n&&e){var r=Ft(e.element,t._targetElement),i=t._options.helperElementPadding;e.element instanceof Element&&je(e.element)?dt(n,"introjs-fixedTooltip"):An(n,"introjs-fixedTooltip"),e.position==="floating"&&(i=0),St(n,{width:"".concat(r.width+i,"px"),height:"".concat(r.height+i,"px"),top:"".concat(r.top-i/2,"px"),left:"".concat(r.left-i/2,"px")})}}function me(t,e,n,r,i){return t.left+e+n.width>r.width?(i.style.left="".concat(r.width-n.width-t.left,"px"),!1):(i.style.left="".concat(e,"px"),!0)}function ye(t,e,n,r){return t.left+t.width-e-n.width<0?(r.style.left="".concat(-t.left,"px"),!1):(r.style.right="".concat(e,"px"),!0)}function ht(t,e){t.includes(e)&&t.splice(t.indexOf(e),1)}function Ql(t,e,n,r){var i=t.slice(),o=Nn(),s=Ft(n).height+10,l=Ft(n).width+20,h=e.getBoundingClientRect(),a="floating";if(h.bottom+s>o.height&&ht(i,"bottom"),h.top-s<0&&ht(i,"top"),h.right+l>o.width&&ht(i,"right"),h.left-l<0&&ht(i,"left"),r&&(r=r.split("-")[0]),i.length&&(a=i[0],i.includes(r)&&(a=r)),a==="top"||a==="bottom"){var c=void 0,d=[];a==="top"?(c="top-middle-aligned",d=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(c="bottom-middle-aligned",d=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),a=function(f,p,b,w){var g=p/2,_=Math.min(b,window.screen.width);return _-f<p&&(ht(w,"top-left-aligned"),ht(w,"bottom-left-aligned")),(f<g||_-f<g)&&(ht(w,"top-middle-aligned"),ht(w,"bottom-middle-aligned")),f<p&&(ht(w,"top-right-aligned"),ht(w,"bottom-right-aligned")),w.length?w[0]:null}(h.left,l,o.width,d)||c}return a}function Te(t,e,n,r,i){if(i===void 0&&(i=!1),e){var o,s,l,h,a="";n.style.top="",n.style.right="",n.style.bottom="",n.style.left="",n.style.marginLeft="",n.style.marginTop="",r.style.display="inherit",a=typeof e.tooltipClass=="string"?e.tooltipClass:t._options.tooltipClass,n.className=["introjs-tooltip",a].filter(Boolean).join(" "),n.setAttribute("role","dialog"),(h=e.position)!=="floating"&&t._options.autoPosition&&(h=Ql(t._options.positionPrecedence,e.element,n,h)),s=Ft(e.element),o=Ft(n),l=Nn(),dt(n,"introjs-".concat(h));var c=s.width/2-o.width/2;switch(h){case"top-right-aligned":r.className="introjs-arrow bottom-right";var d=0;ye(s,d,o,n),n.style.bottom="".concat(s.height+20,"px");break;case"top-middle-aligned":r.className="introjs-arrow bottom-middle",i&&(c+=5),ye(s,c,o,n)&&(n.style.right="",me(s,c,o,l,n)),n.style.bottom="".concat(s.height+20,"px");break;case"top-left-aligned":case"top":r.className="introjs-arrow bottom",me(s,i?0:15,o,l,n),n.style.bottom="".concat(s.height+20,"px");break;case"right":n.style.left="".concat(s.width+20,"px"),s.top+o.height>l.height?(r.className="introjs-arrow left-bottom",n.style.top="-".concat(o.height-s.height-20,"px")):r.className="introjs-arrow left";break;case"left":i||t._options.showStepNumbers!==!0||(n.style.top="15px"),s.top+o.height>l.height?(n.style.top="-".concat(o.height-s.height-20,"px"),r.className="introjs-arrow right-bottom"):r.className="introjs-arrow right",n.style.right="".concat(s.width+20,"px");break;case"floating":r.style.display="none",n.style.left="50%",n.style.top="50%",n.style.marginLeft="-".concat(o.width/2,"px"),n.style.marginTop="-".concat(o.height/2,"px");break;case"bottom-right-aligned":r.className="introjs-arrow top-right",ye(s,d=0,o,n),n.style.top="".concat(s.height+20,"px");break;case"bottom-middle-aligned":r.className="introjs-arrow top-middle",i&&(c+=5),ye(s,c,o,n)&&(n.style.right="",me(s,c,o,l,n)),n.style.top="".concat(s.height+20,"px");break;default:r.className="introjs-arrow top",me(s,0,o,l,n),n.style.top="".concat(s.height+20,"px")}}}function Ur(){for(var t=0,e=Array.from(document.querySelectorAll(".introjs-showElement"));t<e.length;t++)An(e[t],/introjs-[a-zA-Z]+/g)}function H(t,e){var n=document.createElement(t);e=e||{};var r=/^(?:role|data-|aria-)/;for(var i in e){var o=e[i];i==="style"&&typeof o!="function"?St(n,o):typeof o=="string"&&i.match(r)?n.setAttribute(i,o):n[i]=o}return n}function mr(t,e,n){if(n===void 0&&(n=!1),n){var r=e.style.opacity||"1";St(e,{opacity:"0"}),window.setTimeout(function(){St(e,{opacity:r})},10)}t.appendChild(e)}function Xr(t,e){return(t+1)/e*100}function Vr(t,e){var n=H("div",{className:"introjs-bullets"});t._options.showBullets===!1&&(n.style.display="none");var r=H("ul");r.setAttribute("role","tablist");for(var i=function(){var a=this.getAttribute("data-step-number");a!=null&&t.goToStep(parseInt(a,10))},o=0;o<t._introItems.length;o++){var s=t._introItems[o].step,l=H("li"),h=H("a");l.setAttribute("role","presentation"),h.setAttribute("role","tab"),h.onclick=i,o===e.step-1&&(h.className="active"),Qt(h),h.innerHTML="&nbsp;",h.setAttribute("data-step-number",s.toString()),l.appendChild(h),r.appendChild(l)}return n.appendChild(r),n}function Wr(t,e,n){var r=t.querySelector(".introjs-progress .introjs-progressbar");if(r){var i=Xr(e,n);r.style.cssText="width:".concat(i,"%;"),r.setAttribute("aria-valuenow",i.toString())}}function Yr(t,e){return G(this,void 0,void 0,function(){var n,r,i,o,s,l,h,a,c,d,f,p,b,w,g,_,E,$,y,L,P,D,F,O,q=this;return U(this,function(z){switch(z.label){case 0:return Y(t._introChangeCallback)?[4,t._introChangeCallback.call(t,e.element)]:[3,2];case 1:z.sent(),z.label=2;case 2:return n=document.querySelector(".introjs-helperLayer"),r=document.querySelector(".introjs-tooltipReferenceLayer"),i="introjs-helperLayer",typeof e.highlightClass=="string"&&(i+=" ".concat(e.highlightClass)),typeof t._options.highlightClass=="string"&&(i+=" ".concat(t._options.highlightClass)),n!==null&&r!==null?(h=r.querySelector(".introjs-helperNumberLayer"),a=r.querySelector(".introjs-tooltiptext"),c=r.querySelector(".introjs-tooltip-title"),d=r.querySelector(".introjs-arrow"),f=r.querySelector(".introjs-tooltip"),l=r.querySelector(".introjs-skipbutton"),s=r.querySelector(".introjs-prevbutton"),o=r.querySelector(".introjs-nextbutton"),n.className=i,f.style.opacity="0",f.style.display="none",pr(t._options.scrollToElement,e.element),vt(t,e,n),vt(t,e,r),Ur(),t._lastShowElementTimer&&window.clearTimeout(t._lastShowElementTimer),t._lastShowElementTimer=window.setTimeout(function(){h!==null&&(h.innerHTML="".concat(e.step," ").concat(t._options.stepNumbersOfLabel," ").concat(t._introItems.length)),a.innerHTML=e.intro||"",c.innerHTML=e.title||"",f.style.display="block",Te(t,e,f,d),function(I,R,V){if(I){var it=R.querySelector(".introjs-bullets li > a.active"),K=R.querySelector('.introjs-bullets li > a[data-step-number="'.concat(V.step,'"]'));it&&K&&(it.className="",K.className="active")}}(t._options.showBullets,r,e),Wr(r,t._currentStep,t._introItems.length),f.style.opacity="1",(o!=null&&/introjs-donebutton/gi.test(o.className)||o!=null)&&o.focus(),gr(t._options.scrollToElement,e.scrollTo,t._options.scrollPadding,e.element,a)},350)):(p=H("div",{className:i}),b=H("div",{className:"introjs-tooltipReferenceLayer"}),w=H("div",{className:"introjs-arrow"}),g=H("div",{className:"introjs-tooltip"}),_=H("div",{className:"introjs-tooltiptext"}),E=H("div",{className:"introjs-tooltip-header"}),$=H("h1",{className:"introjs-tooltip-title"}),y=H("div"),St(p,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(t._options.overlayOpacity.toString(),") 0 0 0 5000px")}),pr(t._options.scrollToElement,e.element),vt(t,e,p),vt(t,e,b),mr(t._targetElement,p,!0),mr(t._targetElement,b),_.innerHTML=e.intro,$.innerHTML=e.title,y.className="introjs-tooltipbuttons",t._options.showButtons===!1&&(y.style.display="none"),E.appendChild($),g.appendChild(E),g.appendChild(_),t._options.dontShowAgain&&(L=H("div",{className:"introjs-dontShowAgain"}),(P=H("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(I){t.setDontShowAgain(I.target.checked)},(D=H("label",{htmlFor:"introjs-dontShowAgain"})).innerText=t._options.dontShowAgainLabel,L.appendChild(P),L.appendChild(D),g.appendChild(L)),g.appendChild(Vr(t,e)),g.appendChild(function(I){var R=H("div");R.className="introjs-progress",I._options.showProgress===!1&&(R.style.display="none");var V=H("div",{className:"introjs-progressbar"});I._options.progressBarAdditionalClass&&(V.className+=" "+I._options.progressBarAdditionalClass);var it=Xr(I._currentStep,I._introItems.length);return V.setAttribute("role","progress"),V.setAttribute("aria-valuemin","0"),V.setAttribute("aria-valuemax","100"),V.setAttribute("aria-valuenow",it.toString()),V.style.cssText="width:".concat(it,"%;"),R.appendChild(V),R}(t)),F=H("div"),t._options.showStepNumbers===!0&&(F.className="introjs-helperNumberLayer",F.innerHTML="".concat(e.step," ").concat(t._options.stepNumbersOfLabel," ").concat(t._introItems.length),g.appendChild(F)),g.appendChild(w),b.appendChild(g),(o=H("a")).onclick=function(){return G(q,void 0,void 0,function(){return U(this,function(I){switch(I.label){case 0:return t._introItems.length-1===t._currentStep?[3,2]:[4,Tt(t)];case 1:return I.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(o.className)?Y(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"done")]:[3,4]:[3,6];case 3:I.sent(),I.label=4;case 4:return[4,It(t,t._targetElement)];case 5:I.sent(),I.label=6;case 6:return[2]}})})},Qt(o),o.innerHTML=t._options.nextLabel,(s=H("a")).onclick=function(){return G(q,void 0,void 0,function(){return U(this,function(I){switch(I.label){case 0:return t._currentStep>0?[4,Ie(t)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})})},Qt(s),s.innerHTML=t._options.prevLabel,Qt(l=H("a",{className:"introjs-skipbutton"})),l.innerHTML=t._options.skipLabel,l.onclick=function(){return G(q,void 0,void 0,function(){return U(this,function(I){switch(I.label){case 0:return t._introItems.length-1===t._currentStep&&Y(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"skip")]:[3,2];case 1:I.sent(),I.label=2;case 2:return Y(t._introSkipCallback)?[4,t._introSkipCallback.call(t,t._currentStep)]:[3,4];case 3:I.sent(),I.label=4;case 4:return[4,It(t,t._targetElement)];case 5:return I.sent(),[2]}})})},E.appendChild(l),t._introItems.length>1&&y.appendChild(s),y.appendChild(o),g.appendChild(y),Te(t,e,g,w),gr(t._options.scrollToElement,e.scrollTo,t._options.scrollPadding,e.element,g)),(O=t._targetElement.querySelector(".introjs-disableInteraction"))&&O.parentNode&&O.parentNode.removeChild(O),e.disableInteraction&&function(I,R){var V=document.querySelector(".introjs-disableInteraction");V===null&&(V=H("div",{className:"introjs-disableInteraction"}),I._targetElement.appendChild(V)),vt(I,R,V)}(t,e),t._currentStep===0&&t._introItems.length>1?(o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton"),o.innerHTML=t._options.nextLabel),t._options.hidePrev===!0?(s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton introjs-hidden")),o!=null&&dt(o,"introjs-fullbutton")):s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton introjs-disabled"))):t._introItems.length-1===t._currentStep||t._introItems.length===1?(s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton")),t._options.hideNext===!0?(o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton introjs-hidden")),s!=null&&dt(s,"introjs-fullbutton")):o!=null&&(t._options.nextToDone===!0?(o.innerHTML=t._options.doneLabel,dt(o,"".concat(t._options.buttonClass," introjs-nextbutton introjs-donebutton"))):o.className="".concat(t._options.buttonClass," introjs-nextbutton introjs-disabled"))):(s!=null&&(s.className="".concat(t._options.buttonClass," introjs-prevbutton")),o!=null&&(o.className="".concat(t._options.buttonClass," introjs-nextbutton"),o.innerHTML=t._options.nextLabel)),s!=null&&s.setAttribute("role","button"),o!=null&&o.setAttribute("role","button"),l!=null&&l.setAttribute("role","button"),o!=null&&o.focus(),function(I){dt(I,"introjs-showElement");var R=kn(I,"position");R!=="absolute"&&R!=="relative"&&R!=="sticky"&&R!=="fixed"&&dt(I,"introjs-relativePosition")}(e.element),Y(t._introAfterChangeCallback)?[4,t._introAfterChangeCallback.call(t,e.element)]:[3,4];case 3:z.sent(),z.label=4;case 4:return[2]}})})}function Zl(t,e){return G(this,void 0,void 0,function(){return U(this,function(n){switch(n.label){case 0:return t._currentStep=e-2,t._introItems===void 0?[3,2]:[4,Tt(t)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function tc(t,e){return G(this,void 0,void 0,function(){return U(this,function(n){switch(n.label){case 0:return t._currentStepNumber=e,t._introItems===void 0?[3,2]:[4,Tt(t)];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function Tt(t){return G(this,void 0,void 0,function(){var e,n,r;return U(this,function(i){switch(i.label){case 0:if(t._direction="forward",t._currentStepNumber!==void 0)for(e=0;e<t._introItems.length;e++)t._introItems[e].step===t._currentStepNumber&&(t._currentStep=e-1,t._currentStepNumber=void 0);return t._currentStep===-1?t._currentStep=0:++t._currentStep,n=t._introItems[t._currentStep],r=!0,Y(t._introBeforeChangeCallback)?[4,t._introBeforeChangeCallback.call(t,n&&n.element,t._currentStep,t._direction)]:[3,2];case 1:r=i.sent(),i.label=2;case 2:return r===!1?(--t._currentStep,[2,!1]):t._introItems.length<=t._currentStep?Y(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"end")]:[3,4]:[3,6];case 3:i.sent(),i.label=4;case 4:return[4,It(t,t._targetElement)];case 5:return i.sent(),[2,!1];case 6:return[4,Yr(t,n)];case 7:return i.sent(),[2,!0]}})})}function Ie(t){return G(this,void 0,void 0,function(){var e,n;return U(this,function(r){switch(r.label){case 0:return t._direction="backward",t._currentStep<=0?[2,!1]:(--t._currentStep,e=t._introItems[t._currentStep],n=!0,Y(t._introBeforeChangeCallback)?[4,t._introBeforeChangeCallback.call(t,e&&e.element,t._currentStep,t._direction)]:[3,2]);case 1:n=r.sent(),r.label=2;case 2:return n===!1?(++t._currentStep,[2,!1]):[4,Yr(t,e)];case 3:return r.sent(),[2,!0]}})})}function Jr(t,e){return G(this,void 0,void 0,function(){var n,r;return U(this,function(i){switch(i.label){case 0:return(n=e.code===void 0?e.which:e.code)===null&&(n=e.charCode===null?e.keyCode:e.charCode),n!=="Escape"&&n!==27||t._options.exitOnEsc!==!0?[3,2]:[4,It(t,t._targetElement)];case 1:return i.sent(),[3,16];case 2:return n!=="ArrowLeft"&&n!==37?[3,4]:[4,Ie(t)];case 3:return i.sent(),[3,16];case 4:return n!=="ArrowRight"&&n!==39?[3,6]:[4,Tt(t)];case 5:return i.sent(),[3,16];case 6:return n!=="Enter"&&n!=="NumpadEnter"&&n!==13?[3,16]:(r=e.target||e.srcElement)&&r.className.match("introjs-prevbutton")?[4,Ie(t)]:[3,8];case 7:return i.sent(),[3,15];case 8:return r&&r.className.match("introjs-skipbutton")?t._introItems.length-1===t._currentStep&&Y(t._introCompleteCallback)?[4,t._introCompleteCallback.call(t,t._currentStep,"skip")]:[3,10]:[3,12];case 9:i.sent(),i.label=10;case 10:return[4,It(t,t._targetElement)];case 11:return i.sent(),[3,15];case 12:return r&&r.getAttribute("data-step-number")?(r.click(),[3,15]):[3,13];case 13:return[4,Tt(t)];case 14:i.sent(),i.label=15;case 15:e.preventDefault?e.preventDefault():e.returnValue=!1,i.label=16;case 16:return[2]}})})}function Tn(t){if(t===null||Ae(t)!=="object"||"nodeType"in t)return t;var e={};for(var n in t)"jQuery"in window&&t[n]instanceof window.jQuery?e[n]=t[n]:e[n]=Tn(t[n]);return e}function Dt(t){var e=document.querySelector(".introjs-hints");return e?Array.from(e.querySelectorAll(t)):[]}function In(t,e){return G(this,void 0,void 0,function(){var n;return U(this,function(r){switch(r.label){case 0:return n=Dt('.introjs-hint[data-step="'.concat(e,'"]'))[0],Pe(),n&&dt(n,"introjs-hidehint"),Y(t._hintCloseCallback)?[4,t._hintCloseCallback.call(t,e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}function ec(t){return G(this,void 0,void 0,function(){var e,n,r,i,o;return U(this,function(s){switch(s.label){case 0:e=Dt(".introjs-hint"),n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],(o=i.getAttribute("data-step"))?[4,In(t,parseInt(o,10))]:[3,3]):[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function nc(t){return G(this,void 0,void 0,function(){var e,n,r,i,o;return U(this,function(s){switch(s.label){case 0:if(!(e=Dt(".introjs-hint"))||!e.length)return[3,1];for(n=0,r=e;n<r.length;n++)i=r[n],(o=i.getAttribute("data-step"))&&Kr(parseInt(o,10));return[3,3];case 1:return[4,ti(t,t._targetElement)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Kr(t){var e=Dt('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&An(e,/introjs-hidehint/g)}function yr(t){var e=Dt('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&e.parentNode&&e.parentNode.removeChild(e)}function rc(t){return G(this,void 0,void 0,function(){var e,n,r,i,o,s,l;return U(this,function(h){switch(h.label){case 0:for((e=document.querySelector(".introjs-hints"))===null&&(e=H("div",{className:"introjs-hints"})),n=function(f){return function(p){var b=p||window.event;b&&b.stopPropagation&&b.stopPropagation(),b&&b.cancelBubble!==null&&(b.cancelBubble=!0),Zr(t,f)}},r=0;r<t._hintItems.length;r++){if(i=t._hintItems[r],document.querySelector('.introjs-hint[data-step="'.concat(r,'"]')))return[2];Qt(o=H("a",{className:"introjs-hint"})),o.onclick=n(r),i.hintAnimation||dt(o,"introjs-hint-no-anim"),je(i.element)&&dt(o,"introjs-fixedhint"),s=H("div",{className:"introjs-hint-dot"}),l=H("div",{className:"introjs-hint-pulse"}),o.appendChild(s),o.appendChild(l),o.setAttribute("data-step",r.toString()),i.hintTargetElement=i.element,i.element=o,Qr(i.hintPosition,o,i.hintTargetElement),e.appendChild(o)}return document.body.appendChild(e),Y(t._hintsAddedCallback)?[4,t._hintsAddedCallback.call(t)]:[3,2];case 1:h.sent(),h.label=2;case 2:return t._options.hintAutoRefreshInterval>=0&&(t._hintsAutoRefreshFunction=(a=function(){return Fe(t)},c=t._options.hintAutoRefreshInterval,function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];window.clearTimeout(d),d=window.setTimeout(function(){a(f)},c)}),gt.on(window,"scroll",t._hintsAutoRefreshFunction,t,!0)),[2]}var a,c,d})})}function Qr(t,e,n){if(n!==void 0){var r=Ft(n),i=20,o=20;switch(t){default:case"top-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top,"px");break;case"top-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top,"px");break;case"bottom-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"bottom-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"middle-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"middle-right":e.style.left="".concat(r.left+r.width-i,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"middle-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top+(r.height-o)/2,"px");break;case"bottom-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top+r.height-o,"px");break;case"top-middle":e.style.left="".concat(r.left+(r.width-i)/2,"px"),e.style.top="".concat(r.top,"px")}}}function Zr(t,e){return G(this,void 0,void 0,function(){var n,r,i,o,s,l,h,a,c,d,f;return U(this,function(p){switch(p.label){case 0:return n=document.querySelector('.introjs-hint[data-step="'.concat(e,'"]')),r=t._hintItems[e],Y(t._hintClickCallback)?[4,t._hintClickCallback.call(t,n,r,e)]:[3,2];case 1:p.sent(),p.label=2;case 2:return(i=Pe())!==void 0&&parseInt(i,10)===e||(o=H("div",{className:"introjs-tooltip"}),s=H("div"),l=H("div"),h=H("div"),o.onclick=function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},s.className="introjs-tooltiptext",(a=H("p")).innerHTML=r.hint||"",s.appendChild(a),t._options.hintShowButton&&((c=H("a")).className=t._options.buttonClass,c.setAttribute("role","button"),c.innerHTML=t._options.hintButtonLabel,c.onclick=function(){return In(t,e)},s.appendChild(c)),l.className="introjs-arrow",o.appendChild(l),o.appendChild(s),d=n.getAttribute("data-step")||"",t._currentStep=parseInt(d,10),f=t._hintItems[t._currentStep],h.className="introjs-tooltipReferenceLayer introjs-hintReference",h.setAttribute("data-step",d),vt(t,f,h),h.appendChild(o),document.body.appendChild(h),Te(t,f,o,l,!0)),[2]}})})}function Pe(){var t=document.querySelector(".introjs-hintReference");if(t&&t.parentNode){var e=t.getAttribute("data-step");return e?(t.parentNode.removeChild(t),e):void 0}}function ti(t,e){return G(this,void 0,void 0,function(){var n,r,i,o,s,l,h,a,c,d;return U(this,function(f){switch(f.label){case 0:if(t._hintItems=[],t._options.hints&&t._options.hints.length>0)for(n=0,r=t._options.hints;n<r.length;n++)i=r[n],typeof(o=Tn(i)).element=="string"&&(o.element=document.querySelector(o.element)),o.hintPosition=o.hintPosition||t._options.hintPosition,o.hintAnimation=o.hintAnimation||t._options.hintAnimation,o.element!==null&&t._hintItems.push(o);else{if(!(s=Array.from(e.querySelectorAll("*[data-hint]")))||!s.length)return[2,!1];for(l=0,h=s;l<h.length;l++)a=h[l],c=a.getAttribute("data-hint-animation"),d=t._options.hintAnimation,c&&(d=c==="true"),t._hintItems.push({element:a,hint:a.getAttribute("data-hint")||"",hintPosition:a.getAttribute("data-hint-position")||t._options.hintPosition,hintAnimation:d,tooltipClass:a.getAttribute("data-tooltip-class")||void 0,position:a.getAttribute("data-position")||t._options.tooltipPosition})}return[4,rc(t)];case 1:return f.sent(),gt.on(document,"click",Pe,t,!1),gt.on(window,"resize",Fe,t,!0),[2,!0]}})})}function Fe(t){for(var e=0,n=t._hintItems;e<n.length;e++){var r=n[e],i=r.hintTargetElement;Qr(r.hintPosition,r.element,i)}}function ei(t,e){var n=Array.from(e.querySelectorAll("*[data-intro]")),r=[];if(t._options.steps&&t._options.steps.length)for(var i=0,o=t._options.steps;i<o.length;i++){var s=Tn(f=o[i]);if(s.step=r.length+1,s.title=s.title||"",typeof s.element=="string"&&(s.element=document.querySelector(s.element)||void 0),s.element===void 0||s.element===null){var l=document.querySelector(".introjsFloatingElement");l===null&&(l=H("div",{className:"introjsFloatingElement"}),document.body.appendChild(l)),s.element=l,s.position="floating"}s.position=s.position||t._options.tooltipPosition,s.scrollTo=s.scrollTo||t._options.scrollTo,s.disableInteraction===void 0&&(s.disableInteraction=t._options.disableInteraction),s.element!==null&&r.push(s)}else{var h=void 0;if(n.length<1)return[];for(var a=0,c=n;a<c.length;a++){var d=c[a];if((!t._options.group||d.getAttribute("data-intro-group")===t._options.group)&&d.style.display!=="none"){var f=parseInt(d.getAttribute("data-step")||"",10);h=t._options.disableInteraction,d.hasAttribute("data-disable-interaction")&&(h=!!d.getAttribute("data-disable-interaction")),f>0&&(r[f-1]={step:f,element:d,title:d.getAttribute("data-title")||"",intro:d.getAttribute("data-intro")||"",tooltipClass:d.getAttribute("data-tooltip-class")||void 0,highlightClass:d.getAttribute("data-highlight-class")||void 0,position:d.getAttribute("data-position")||t._options.tooltipPosition,scrollTo:d.getAttribute("data-scroll-to")||t._options.scrollTo,disableInteraction:h})}}for(var p=0,b=0,w=n;b<w.length;b++)if(d=w[b],(!t._options.group||d.getAttribute("data-intro-group")===t._options.group)&&d.getAttribute("data-step")===null){for(;r[p]!==void 0;)p++;h=d.hasAttribute("data-disable-interaction")?!!d.getAttribute("data-disable-interaction"):t._options.disableInteraction,r[p]={element:d,title:d.getAttribute("data-title")||"",intro:d.getAttribute("data-intro")||"",step:p+1,tooltipClass:d.getAttribute("data-tooltip-class")||void 0,highlightClass:d.getAttribute("data-highlight-class")||void 0,position:d.getAttribute("data-position")||t._options.tooltipPosition,scrollTo:d.getAttribute("data-scroll-to")||t._options.scrollTo,disableInteraction:h}}}for(var g=[],_=0;_<r.length;_++)r[_]&&g.push(r[_]);return(r=g).sort(function(E,$){return E.step-$.step}),r}function ni(t,e){var n=t._currentStep;if(n!=null&&n!=-1){var r=t._introItems[n],i=document.querySelector(".introjs-tooltipReferenceLayer"),o=document.querySelector(".introjs-helperLayer"),s=document.querySelector(".introjs-disableInteraction");vt(t,r,o),vt(t,r,i),vt(t,r,s),e&&(t._introItems=ei(t,t._targetElement),function(a,c){if(a._options.showBullets){var d=document.querySelector(".introjs-bullets");d&&d.parentNode&&d.parentNode.replaceChild(Vr(a,c),d)}}(t,r),Wr(i,n,t._introItems.length));var l=document.querySelector(".introjs-arrow"),h=document.querySelector(".introjs-tooltip");return h&&l&&Te(t,t._introItems[n],h,l),Fe(t),t}}function ri(t){ni(t)}function Wt(t,e){if(e===void 0&&(e=!1),t&&t.parentElement){var n=t.parentElement;e?(St(t,{opacity:"0"}),window.setTimeout(function(){try{n.removeChild(t)}catch{}},500)):n.removeChild(t)}}function It(t,e,n){return n===void 0&&(n=!1),G(this,void 0,void 0,function(){var r,i,o,s;return U(this,function(l){switch(l.label){case 0:return r=!0,t._introBeforeExitCallback===void 0?[3,2]:[4,t._introBeforeExitCallback.call(t,e)];case 1:r=l.sent(),l.label=2;case 2:if(!n&&r===!1)return[2];if((i=Array.from(e.querySelectorAll(".introjs-overlay")))&&i.length)for(o=0,s=i;o<s.length;o++)Wt(s[o]);return Wt(e.querySelector(".introjs-helperLayer"),!0),Wt(e.querySelector(".introjs-tooltipReferenceLayer")),Wt(e.querySelector(".introjs-disableInteraction")),Wt(document.querySelector(".introjsFloatingElement")),Ur(),gt.off(window,"keydown",Jr,t,!0),gt.off(window,"resize",ri,t,!0),Y(t._introExitCallback)?[4,t._introExitCallback.call(t)]:[3,4];case 3:l.sent(),l.label=4;case 4:return t._currentStep=-1,[2]}})})}function ic(t,e){return G(this,void 0,void 0,function(){var n;return U(this,function(r){switch(r.label){case 0:return t.isActive()?Y(t._introStartCallback)?[4,t._introStartCallback.call(t,e)]:[3,2]:[2,!1];case 1:r.sent(),r.label=2;case 2:return(n=ei(t,e)).length===0?[2,!1]:(t._introItems=n,function(i,o){var s=this,l=H("div",{className:"introjs-overlay"});St(l,{top:0,bottom:0,left:0,right:0,position:"fixed"}),o.appendChild(l),i._options.exitOnOverlayClick===!0&&(St(l,{cursor:"pointer"}),l.onclick=function(){return G(s,void 0,void 0,function(){return U(this,function(h){switch(h.label){case 0:return[4,It(i,o)];case 1:return h.sent(),[2]}})})})}(t,e),[4,Tt(t)]);case 3:r.sent(),e.addEventListener,t._options.keyboardNavigation&&gt.on(window,"keydown",Jr,t,!0),gt.on(window,"resize",ri,t,!0),r.label=4;case 4:return[2,!1]}})})}function vr(t,e,n){return t[e]=n,t}var rn=function(){function t(e){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=e,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"×",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return t.prototype.isActive=function(){return(!this._options.dontShowAgain||(e=Gr(this._options.dontShowAgainCookie))===""||e!=="true")&&this._options.isActive;var e},t.prototype.clone=function(){return new t(this._targetElement)},t.prototype.setOption=function(e,n){return this._options=vr(this._options,e,n),this},t.prototype.setOptions=function(e){return this._options=function(n,r){for(var i=0,o=Object.entries(r);i<o.length;i++){var s=o[i];n=vr(n,s[0],s[1])}return n}(this._options,e),this},t.prototype.start=function(){return G(this,void 0,void 0,function(){return U(this,function(e){switch(e.label){case 0:return[4,ic(this,this._targetElement)];case 1:return e.sent(),[2,this]}})})},t.prototype.goToStep=function(e){return G(this,void 0,void 0,function(){return U(this,function(n){switch(n.label){case 0:return[4,Zl(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.addStep=function(e){return this._options.steps||(this._options.steps=[]),this._options.steps.push(e),this},t.prototype.addSteps=function(e){if(!e.length)return this;for(var n=0;n<e.length;n++)this.addStep(e[n]);return this},t.prototype.goToStepNumber=function(e){return G(this,void 0,void 0,function(){return U(this,function(n){switch(n.label){case 0:return[4,tc(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.nextStep=function(){return G(this,void 0,void 0,function(){return U(this,function(e){switch(e.label){case 0:return[4,Tt(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.previousStep=function(){return G(this,void 0,void 0,function(){return U(this,function(e){switch(e.label){case 0:return[4,Ie(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.currentStep=function(){return this._currentStep},t.prototype.exit=function(e){return G(this,void 0,void 0,function(){return U(this,function(n){switch(n.label){case 0:return[4,It(this,this._targetElement,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.refresh=function(e){return ni(this,e),this},t.prototype.setDontShowAgain=function(e){return Kl(this,e),this},t.prototype.onbeforechange=function(e){if(!Y(e))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},t.prototype.onchange=function(e){if(!Y(e))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},t.prototype.onafterchange=function(e){if(!Y(e))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},t.prototype.oncomplete=function(e){if(!Y(e))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},t.prototype.onhintsadded=function(e){if(!Y(e))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=e,this},t.prototype.onhintclick=function(e){if(!Y(e))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=e,this},t.prototype.onhintclose=function(e){if(!Y(e))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=e,this},t.prototype.onstart=function(e){if(!Y(e))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=e,this},t.prototype.onexit=function(e){if(!Y(e))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this},t.prototype.onskip=function(e){if(!Y(e))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=e,this},t.prototype.onbeforeexit=function(e){if(!Y(e))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=e,this},t.prototype.addHints=function(){return G(this,void 0,void 0,function(){return U(this,function(e){switch(e.label){case 0:return[4,ti(this,this._targetElement)];case 1:return e.sent(),[2,this]}})})},t.prototype.hideHint=function(e){return G(this,void 0,void 0,function(){return U(this,function(n){switch(n.label){case 0:return[4,In(this,e)];case 1:return n.sent(),[2,this]}})})},t.prototype.hideHints=function(){return G(this,void 0,void 0,function(){return U(this,function(e){switch(e.label){case 0:return[4,ec(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.showHint=function(e){return Kr(e),this},t.prototype.showHints=function(){return G(this,void 0,void 0,function(){return U(this,function(e){switch(e.label){case 0:return[4,nc(this)];case 1:return e.sent(),[2,this]}})})},t.prototype.removeHints=function(){return function(e){for(var n=0,r=Dt(".introjs-hint");n<r.length;n++){var i=r[n].getAttribute("data-step");i&&yr(parseInt(i,10))}gt.off(document,"click",Pe,e,!1),gt.off(window,"resize",Fe,e,!0),e._hintsAutoRefreshFunction&&gt.off(window,"scroll",e._hintsAutoRefreshFunction,e,!0)}(this),this},t.prototype.removeHint=function(e){return yr(e),this},t.prototype.showHintDialog=function(e){return G(this,void 0,void 0,function(){return U(this,function(n){switch(n.label){case 0:return[4,Zr(this,e)];case 1:return n.sent(),[2,this]}})})},t}(),pn=function t(e){var n;if(Ae(e)==="object")n=new rn(e);else if(typeof e=="string"){var r=document.querySelector(e);if(!r)throw new Error("There is no element with given selector.");n=new rn(r)}else n=new rn(document.body);return t.instances[dn(n,"introjs-instance")]=n,n};pn.version="7.2.0",pn.instances={};document.addEventListener("DOMContentLoaded",function(){let t=[],e=[],n=0,r={},i=null,o={},s=[],l=-1,h=[],a=!1,c=0,d=null,f=parseInt(document.getElementById("speedSlider").value,10),p=!0,b=!1,w=!0;const g=24,_=20,E=document.getElementById("stepsList"),$=document.getElementById("graphSvg");let y=$.clientWidth,L=$.clientHeight;const P=ft("#graphSvg").attr("width",y).attr("height",L),D=P.append("g").attr("class","links"),F=P.append("g").attr("class","nodes"),O=P.append("g").attr("class","labels"),q=document.getElementById("currentStepToast"),z=new bootstrap.Toast(q,{autohide:!1,animation:!1}),I=Sl(t).force("link",gl(e).id(u=>u.id).distance(50).strength(.5)).force("charge",El().strength(-500)).force("collide",dl(g+1)).force("center",cr(y/2,L/2)).on("tick",()=>{Re(),t.forEach(De),Bt()});let R,V,it;function K(){R=D.selectAll(".link").data(e,v=>`${v.source.id}-${v.target.id}`),R.exit().remove(),R=R.enter().append("line").attr("class","link").merge(R),it=O.selectAll(".link-label").data(e.filter(v=>v.weight!==void 0),v=>`${v.source.id}-${v.target.id}`),it.exit().remove(),it=it.enter().append("text").attr("class","link-label").attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(v=>v.weight).merge(it),V=F.selectAll(".node-group").data(t,v=>v.id),V.exit().remove();const m=V.enter().append("g").attr("class","node-group").call(ps().on("drag",(v,C)=>{Re(),C.x=v.x,C.y=v.y,De(C),Bt()}));m.append("circle").attr("class","outer-circle").attr("r",g),m.append("circle").attr("class","inner-circle").attr("r",_).on("click",(v,C)=>{v.stopPropagation();const N=ft(v.currentTarget);N.classed("activated",!N.classed("activated"))}),m.append("text").attr("class","node-label").attr("x",0).attr("y",-10).attr("text-anchor","middle").attr("dominant-baseline","central").text(v=>v.id),m.append("text").attr("class","heuristic-label").attr("x",0).attr("y",10).attr("text-anchor","middle").style("pointer-events","none").text(v=>v.h!==void 0?`h: ${v.h}`:""),m.append("text").attr("class","cost-label").attr("x",0).attr("y",g+12).attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").style("font-weight","bold").text(v=>v.cost!==void 0?`Cost: ${v.cost}`:""),V=m.merge(V),Bt(),ui(),Ge()}function Rt(u){if(ze(),ci(),u<1){t=[],e=[],I.nodes(t),I.force("link").links(e),K(),I.alpha(0).stop();return}const m=document.getElementById("includeWeights").checked;t=Array.from({length:u},(A,T)=>({id:T,x:Math.random()*(y-2*g)+g,y:Math.random()*(L-2*g)+g}));let v=t.map(A=>A.id);for(let A=v.length-1;A>0;A--){const T=Math.floor(Math.random()*(A+1));[v[A],v[T]]=[v[T],v[A]]}let C=[];for(let A=1;A<v.length;A++){const T=v[Math.floor(Math.random()*A)],B=v[A];C.push({source:T,target:B,weight:m?Math.floor(Math.random()*20)+1:void 0})}let N=new Array(u).fill(0);C.forEach(({source:A,target:T})=>{N[A]++,N[T]++});let S=[];for(let A=0;A<u;A++)for(let T=A+1;T<u;T++)C.some(B=>B.source===A&&B.target===T||B.source===T&&B.target===A)||S.push({source:A,target:T});for(let A=S.length-1;A>0;A--){const T=Math.floor(Math.random()*(A+1));[S[A],S[T]]=[S[T],S[A]]}const j=.2;S.forEach(A=>{const{source:T,target:B}=A;if(N[T]<3&&N[B]<3){let x=N.filter(M=>M===3).length,k=0;if(N[T]===2&&k++,N[B]===2&&k++,(x+k)/u>j)return;C.push({source:T,target:B,weight:m?Math.floor(Math.random()*20)+1:void 0}),N[T]++,N[B]++}}),e=C.map(A=>({source:t[A.source],target:t[A.target],weight:A.weight})),n=u,xt(),I.nodes(t),I.force("link").links(e),I.alpha(1).restart(),K()}function Bt(){R.attr("x1",u=>J(u.source).x).attr("y1",u=>J(u.source).y).attr("x2",u=>J(u.target).x).attr("y2",u=>J(u.target).y),it.attr("x",u=>{let m=J(u.source),v=J(u.target);return(m.x+v.x)/2}).attr("y",u=>{let m=J(u.source),v=J(u.target);return(m.y+v.y)/2}),V.attr("transform",u=>`translate(${u.x}, ${u.y})`)}function xt(){r={},t.forEach(u=>r[u.id]=[]),e.forEach(u=>{const m=u.source.id,v=u.target.id;r[m].push(v),r[v].push(m)})}function J(u){return typeof u=="object"?u:t.find(m=>m.id===u)}function De(u){u.x=Math.max(g,Math.min(y-g,u.x)),u.y=Math.max(g,Math.min(L-g,u.y))}function Re(){const u=$.getBoundingClientRect();y=u.width,L=u.height}function Ht(){Re(),P.attr("width",y).attr("height",L),I.force("center",cr(y/2,L/2)).alpha(1).restart(),t.forEach(De),Bt()}function ii(u,m){const v={};Object.entries(u).forEach(([N,S])=>{(v[S]||(v[S]=[])).push(+N)});function C(N){return{id:N,children:(v[N]||[]).map(C)}}return C(m)}function ae(u){const m=ft("#searchTreePanelSvg");if(m.selectAll("*").remove(),!u)return;const v=document.getElementById("searchTreePanelSvg"),C=v.clientWidth,N=v.clientHeight;if(C===0||N===0)return;const S=+document.getElementById("startNodeSelect").value,j=Cn(ii(u.parents,S));j.each(x=>{const k=u.nodes.find(M=>M.id===x.data.id);x.data.discoveryIndex=(k==null?void 0:k.discoveryIndex)??1/0}),j.sort((x,k)=>x.data.discoveryIndex-k.data.discoveryIndex),Jl().size([C-2*g,N-3*g])(j);const A=x=>Math.max(g,Math.min(C-g,x.x+g)),T=x=>Math.max(g,Math.min(N-g,x.y+g));m.selectAll(".link").data(j.links()).enter().append("line").attr("class","link").attr("x1",x=>A(x.source)).attr("y1",x=>T(x.source)).attr("x2",x=>A(x.target)).attr("y2",x=>T(x.target)).classed("path-highlight-link",x=>{var k;return((k=u.path)==null?void 0:k.includes(x.source.data.id))&&u.path.includes(x.target.data.id)});const B=m.selectAll(".node-group").data(j.descendants()).enter().append("g").attr("class","node-group").classed("highlighted",x=>u.highlightedNodes.includes(x.data.id)).classed("goal-highlight",x=>u.goal&&x.data.id===+u.goal).classed("path-highlight",x=>{var k;return(k=u.path)==null?void 0:k.includes(x.data.id)}).classed("current-highlight",x=>u.currentNode===x.data.id).attr("transform",x=>`translate(${A(x)},${T(x)})`);B.append("circle").attr("class","outer-circle").attr("r",g),B.append("circle").attr("class","inner-circle").attr("r",_),B.append("text").attr("class","node-label").attr("x",0).attr("y",-4).attr("text-anchor","middle").text(x=>x.data.id),B.append("text").attr("class","cost-label").attr("x",-24).attr("y",g+12).attr("text-anchor","start").attr("dominant-baseline","middle").style("font-weight","bold").style("pointer-events","none").text(x=>{const k=u.nodes.find(M=>M.id===x.data.id);return(k==null?void 0:k.cost)!==void 0?`Cost: ${k.cost}`:""}),B.append("text").attr("class","heuristic-label").attr("x",0).attr("y",10).attr("text-anchor","middle").text(x=>{const k=u.nodes.find(M=>M.id===x.data.id);return(k==null?void 0:k.h)!==void 0?`H: ${k.h}`:""}),m.selectAll(".link-weight-label").data(j.links()).enter().append("text").attr("class","link-weight-label").attr("x",x=>(x.source.x+x.target.x)/2+g).attr("y",x=>(x.source.y+x.target.y)/2+g).attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").text(x=>{const k=x.source.data.id,M=x.target.data.id,Q=u.links.find(Z=>Z.source.id===k&&Z.target.id===M||Z.source.id===M&&Z.target.id===k);return(Q==null?void 0:Q.weight)!==void 0?Q.weight:""}),W("#searchTreePanelSvg .link-weight-label").style("display",p?"block":"none"),W("#searchTreePanelSvg .heuristic-label").style("display",b?"block":"none"),Si(u)}const Bn=document.getElementById("tree-tab");Bn&&Bn.addEventListener("shown.bs.tab",()=>{});const oi=document.getElementById("searchTreePanelSvg");new ResizeObserver(()=>Ln()).observe(oi);let He;function Ln(){He&&clearTimeout(He),He=setTimeout(()=>{var m;const u=(m=s[l])==null?void 0:m.snapshot;u&&ae(u)},200)}function si(u,m){const v=t.find(C=>C.id===u);v&&(v.cost=m),W(".node-group").filter(C=>C.id===u).select(".cost-label").text(m!==void 0?`Cost: ${m}`:"")}function le(u,m){const v=t.find(C=>C.id===u);v&&(v.cost=m)}function ce(u,m){W(".node-group").filter(v=>v.id===u).select(".cost-label").text(m!==void 0?`Cost: ${m}`:"")}function ai(u,m,v){const C=[];W(".node-group.highlighted").each(function(j){C.push(j.id)});const N=document.getElementById("goalNodeSelect"),S=N?N.value:null;return{nodes:JSON.parse(JSON.stringify(t)),links:JSON.parse(JSON.stringify(e)),adjacency:JSON.parse(JSON.stringify(r)),parents:JSON.parse(JSON.stringify(o)),highlightedNodes:C,goal:S,path:i,currentStep:u,expanded:[...m],currentNode:v}}function $n(u,m){li({message:u,snapshot:m})}function li(u){const m=document.createElement("li"),v=document.createElement("button");v.textContent=u.message,v.classList.add("step-button"),u.snapshot?v.addEventListener("click",()=>{ot(),qe(u.snapshot),l=Array.from(E.children).indexOf(m)}):v.disabled=!0,m.appendChild(v),E.appendChild(m)}function ut(){s=[],l=-1,E.innerHTML=""}function at(u,m){const v=setTimeout(u,m);return h.push(v),v}function X(u,m){const v=m[m.length-1],C=ai(u,m,v),N=q.querySelector(".toast-body");at(()=>{$n(u,C),ae(C),N.textContent=u,z.show(),s.push({message:u,snapshot:C}),l=s.length-1},c),c+=f}function ot(){h.forEach(u=>clearTimeout(u)),h=[],c=0,ze(),Dn(),Mn(),z.hide(),i=null,a&&$n("Algorithm Stopped."),a=!1}function qe(u){if(ot(),ze(),Dn(),u.nodes.forEach(m=>{const v=t.find(C=>C.id===m.id);v&&(v.cost=m.cost,si(v.id,m.cost),u.highlightedNodes.includes(v.id)&&zt(v.id),u.goal&&+u.goal===v.id&&Xe(v.id))}),u.path&&Gt(u.path),u.currentNode!=null&&Ot(u.currentNode),u.currentStep){const m=q.querySelector(".toast-body");m.textContent=u.currentStep,z.show()}ae(u)}function qt(){const u=parseInt(Ut.value,10);isNaN(u)||Oe(u)}function Oe(u){if(!t.find(S=>S.id===u))return;if(e.some(S=>S.weight===void 0)){t.forEach(S=>{S.h=0,W(".node-group").filter(j=>j.id===S.id).select(".heuristic-label").text(`H: ${S.h}`)}),K();return}const v=Math.min(...e.map(S=>S.weight??1/0)),C={};t.forEach(S=>C[S.id]=1/0),C[u]=0;const N=[u];for(;N.length;){const S=N.shift();r[S].forEach(j=>{C[j]===1/0&&(C[j]=C[S]+1,N.push(j))})}t.forEach(S=>{S.h=Number.isFinite(C[S.id])?C[S.id]*v:0,W(".node-group").filter(j=>j.id===S.id).select(".heuristic-label").text(`H: ${S.h}`)}),K()}function ze(){t.forEach(u=>{u.cost=void 0}),W(".node-group").select(".cost-label").text("")}function ci(){e=[],D.selectAll(".link").remove(),O.selectAll(".link-label").remove()}function Mn(){ft("#searchTreePanelSvg").selectAll("*").remove(),document.getElementById("nodesExpanded").textContent=0,document.getElementById("nodesDiscovered").textContent=0,document.getElementById("currentDepth").textContent=0,document.getElementById("stepsToGoal").textContent="N/A",document.getElementById("finalCost").textContent="N/A"}const jn=document.getElementById("startNodeSelect"),Pn=document.getElementById("node1Select"),Fn=document.getElementById("node2Select");function ui(){jn.innerHTML="",Pn.innerHTML="",Fn.innerHTML="",t.forEach(u=>{const m=document.createElement("option");m.value=u.id,m.textContent=u.id,jn.appendChild(m);const v=document.createElement("option");v.value=u.id,v.textContent=u.id,Pn.appendChild(v);const C=document.createElement("option");C.value=u.id,C.textContent=u.id,Fn.appendChild(C)})}function Ge(){const u=document.getElementById("goalNodeSelect"),m=u.value;u.innerHTML="";const v=document.createElement("option");v.value="",v.textContent="None",u.appendChild(v),t.forEach(C=>{const N=document.createElement("option");N.value=C.id,N.textContent=C.id,String(C.id)===m&&(N.selected=!0),u.appendChild(N)})}function Ot(u){W(".node-group").classed("current-highlight",!1),W(".node-group").filter(m=>m.id===u).classed("current-highlight",!0)}function zt(u){W(".node-group").filter(m=>m.id===u).classed("highlighted",!0)}function Dn(){W(".node-group").classed("highlighted",!1).classed("path-highlight",!1),W(".link").classed("path-highlight-link",!1)}function Gt(u){if(!(!u||u.length===0)){u.forEach(m=>{W(".node-group").filter(v=>v.id===m).classed("path-highlight",!0)});for(let m=0;m<u.length-1;m++)W(".link").filter(v=>{let C=v.source.id,N=v.target.id;return C===u[m]&&N===u[m+1]||C===u[m+1]&&N===u[m]}).classed("path-highlight-link",!0)}}function Ue(){W(".node-group").classed("goal-highlight",!1);const u=document.getElementById("goalNodeSelect");u&&(u.value="")}function Xe(u){W(".node-group").filter(m=>m.id===u).classed("goal-highlight",!0)}function hi(u){const m={id:n,x:Math.random()*(y-2*g)+g,y:Math.random()*(L-2*g)+g};t.push(m),u.forEach(v=>{const C=J(v);!C||C.id===m.id||e.push({source:C,target:m,weight:w?Math.floor(Math.random()*20)+1:void 0})}),n++,xt(),qt(),I.nodes(t),I.force("link").links(e),I.alpha(0).stop(),K(),Ge(),Ve()}function fi(u){t=t.filter(m=>m.id!==u),e=e.filter(m=>{const v=m.source.id,C=m.target.id;return v!==u&&C!==u}),xt(),qt(),I.nodes(t),I.force("link").links(e),I.alpha(0).stop(),K()}function Et(u){const m=t.find(v=>v.id===u);return(m==null?void 0:m.h)??0}function Ve(){Je(!0)}function Rn(){Je(!1)}function di(){Ye(!0)}function We(){Ye(!1)}function Ye(u){b=u,W(".heuristic-label").style("display",u?"block":"none"),W("#searchTreePanelSvg .heuristic-label").style("display",u?"block":"none"),document.getElementById("toggleHeuristicSwitch").checked=u}function Je(u){p=u,W(".link-label").style("display",u?"block":"none"),W("#searchTreePanelSvg .link-weight-label").style("display",u?"block":"none");const m=document.getElementById("toggleWeightsSwitch");m.checked=u,m.nextElementSibling.textContent=u?"Hide Weights":"Show Weights"}function pi(u,m){ot(),ut(),Rn(),We(),a=!0,i=null,t.forEach(T=>{T.discoveryIndex=void 0});let v=0;const C=new Set,N=[u],S=[];C.add(u);const j={};o=j;function A(){var B;if(!a)return;if(c=0,N.length===0){X("BFS: Finished without reaching a goal",S),a=!1;return}const T=N.shift();if(S.push(T),zt(T),Ot(T),T===m){let x=[T];for(;x[0]!==u;)x.unshift(j[x[0]]);i=x,Gt(i),X(`BFS: Moving to Node ${T} 
 Goal Node found! 
Path: ${i.join(" -> ")}`,S),a=!1;return}if(T===u){X(`BFS: Root Node ${u}`,S);const x=J(u);x&&x.discoveryIndex===void 0&&(x.discoveryIndex=v++)}else X(`BFS: Moving to Node ${T}. Adding to expanded`,S);(B=r[T])==null||B.forEach(x=>{if(!C.has(x)){C.add(x),N.push(x),x in j||(j[x]=T);const k=J(x);k&&k.discoveryIndex===void 0&&(k.discoveryIndex=v++),X(`BFS: Discovered Node ${x}. Adding to queue.`,S)}}),X(`BFS: Queue: [${N.join(", ")}], 
Discovered: [${[...C].join(", ")}], 
Expanded: [${S.join(", ")}]`,S),at(A,c)}A()}function gi(u,m){ot(),ut(),Rn(),We(),a=!0,i=null,t.forEach(T=>{T.discoveryIndex=void 0});let v=0;const C=new Set,N=[u],S=[];C.add(u);const j={};o=j;function A(){if(!a)return;if(c=0,N.length===0){X("DFS: Finished without reaching a goal",S),a=!1;return}const T=N.pop();if(S.push(T),zt(T),Ot(T),T===m){let x=[T];for(;x[0]!==u;)x.unshift(j[x[0]]);i=x,Gt(i),X(`DFS: Moving to Node ${T} 
 Goal Node found! 
Path: ${i.join(" -> ")}`,S),a=!1;return}if(T===u){X(`DFS: Root Node ${u}`,S);const x=J(u);x&&x.discoveryIndex===void 0&&(x.discoveryIndex=v++)}else X(`DFS: Moving to Node ${T}. Adding to expanded`,S);const B=r[T]||[];for(let x=B.length-1;x>=0;x--){const k=B[x];if(!C.has(k)){C.add(k),N.push(k),k in j||(j[k]=T);const M=J(k);M&&M.discoveryIndex===void 0&&(M.discoveryIndex=v++),X(`DFS: Discovered Node ${k}. Adding to stack.`,S)}}X(`DFS: Stack: [${N.join(", ")}], 
Discovered: [${[...C].join(", ")}], 
Expanded: [${S.join(", ")}]`,S),at(A,c)}A()}function mi(u,m){if(ot(),ut(),Ve(),We(),a=!0,i=null,e.some(B=>B.weight===void 0)){alert("Error: Graph must be fully weighted to run Uniform Cost Search (UCS).");return}t.forEach(B=>{B.discoveryIndex=void 0});let v=0;const C=J(u);C&&C.discoveryIndex===void 0&&(C.discoveryIndex=v++);let N=[{node:u,cost:0}];const S=[];let j={};o=j;let A={};A[u]=0;function T(){if(!a)return;if(c=0,N.length===0){X("UCS: No path found. Frontier empty.",S),a=!1;return}N.sort((M,Q)=>M.cost-Q.cost);let B=N.shift(),x=B.node,k=B.cost;if(k>A[x]){X(`UCS: Skipping node [${x}] with cost ${k} (better cost is ${A[x]}).`,S),at(T,c);return}if(zt(x),Ot(x),le(x,k),S.push(x),at(()=>ce(x,k),c-1),X(x===u?`UCS: Root Node ${u}`:`UCS: Expanding node [${x}] with cost ${k}.`,S),x===m){let M=[x];for(;M[0]!==u;)M.unshift(j[M[0]]);i=M,Gt(i),X(`UCS: Goal node [${m}] reached!
Path: ${i.join(" -> ")}
Total cost: ${k}.`,S),a=!1;return}(r[x]||[]).forEach(M=>{let Q=e.find(tt=>{const Lt=tt.source.id,Un=tt.target.id;return Lt===x&&Un===M||Un===x&&Lt===M});if(!Q)return;let Z=k+Q.weight;if(A[M]===void 0||Z<A[M]){let tt=A[M]!==void 0?A[M]:"none";A[M]=Z,j[M]=x;const Lt=J(M);Lt&&Lt.discoveryIndex===void 0&&(Lt.discoveryIndex=v++),N.push({node:M,cost:Z}),le(M,Z),at(()=>ce(M,Z),c-1),X(tt!=="none"?`UCS: Reopening node [${M}], Updating cost from ${tt} to ${Z}.`:`UCS: Found node [${M}], Updating cost from ${tt} to ${Z}.`,S)}}),X(`UCS: Frontier: [${N.map(M=>`${M.node}(${M.cost})`).join(", ")}], 
Discovered: [${Object.keys(A).join(", ")}], 
Expanded: [${S.join(", ")}]`,S),at(T,c)}T()}function yi(u,m){if(ot(),ut(),Ve(),di(),a=!0,i=null,isNaN(m)){alert("Please select a goal node before running A*.");return}if(e.some(B=>B.weight===void 0)){alert("Error: Graph must be fully weighted to run A*.");return}t.forEach(B=>B.discoveryIndex=void 0);let v=0;const C=J(u);C&&(C.discoveryIndex=v++);let N=[{node:u,cost:0}];const S=[];let j={};o=j;let A={[u]:0};function T(){if(!a)return;if(c=0,N.length===0){X("A*: No path found. Frontier empty.",S),a=!1;return}N.sort((k,M)=>k.cost+Et(k.node)-(M.cost+Et(M.node)));const{node:B,cost:x}=N.shift();if(x>A[B]){X(`A*: Skipping node [${B}] with f‑value ${x+Et(B)} (better f‑value ${A[B]+Et(B)})`,S),at(T,c);return}if(zt(B),Ot(B),le(B,x),S.push(B),at(()=>ce(B,x),c-1),X(B===u?`A*: Root Node ${u}`:`A*: Expanding node [${B}] 
Cost = ${x} 
Heuristic = ${Et(B)} 
f‑value = ${x+Et(B)}`,S),B===m){let k=[B];for(;k[0]!==u;)k.unshift(j[k[0]]);i=k,Gt(k),X(`A*: Goal reached! Path: ${k.join(" -> ")}`,S),a=!1;return}(r[B]||[]).forEach(k=>{const M=e.find(tt=>tt.source.id===B&&tt.target.id===k||tt.target.id===B&&tt.source.id===k);if(!M)return;const Q=x+M.weight,Z=A[k]??"none";if(A[k]===void 0||Q<A[k]){A[k]=Q,j[k]=B;const tt=J(k);tt&&tt.discoveryIndex===void 0&&(tt.discoveryIndex=v++),N.push({node:k,cost:Q}),le(k,Q),at(()=>ce(k,Q),c-1),X(Z!=="none"?`A*: Reopening node [${k}], Updating g from ${Z} to ${Q}`:`A*: Discovered node [${k}] with Cost = ${Q}`,S)}}),X(`A*: Frontier: [${N.map(k=>`${k.node}(${k.cost+Et(k.node)})`).join(", ")}], 
Discovered: [${Object.keys(A).join(", ")}], 
Expanded: [${S.join(", ")}]`,S),at(T,c)}T()}const Hn=document.getElementById("nodeCountInput");document.getElementById("generateGraphForm").addEventListener("submit",u=>{ot(),ut(),Ue(),u.preventDefault();let m=parseInt(Hn.value,10);m<1||(Rt(m),Hn.value="")}),document.getElementById("tutorialBtn").addEventListener("click",()=>{const u=pn();u.setOptions({steps:[{element:"#generateGraphForm",intro:"Enter how many nodes you want and click Generate to build a new random graph.",position:"right"},{element:"#sortGraphBtn",intro:"Click this to allow the graph to untangle itself",position:"right"},{element:"#weightDiv",intro:"Toggle this to show or hide link weights on the graph.",position:"right"},{element:"#heuristicToggleDiv",intro:"Toggle this to show or hide heuristics (H‑values) on each node.",position:"right"},{element:"#toastToggleDiv",intro:"Toggle this to hide the step by step pop-up explanation",position:"right"},{element:"#selectGoalDiv",intro:"Choose your goal node (or click Set Random Goal).",position:"right"},{element:"#selectStartDiv",intro:"Choose your starting node for all searches.",position:"right"},{element:"#AddNodeDiv",intro:"Click Add or Delete to modify nodes. Activate a parent by clicking its inner circle first.",position:"right"},{element:"#randomizeWeightsDiv",intro:"Toggle this to give the links created to random weights.",position:"right"},{element:"#updateLinkForm",intro:"Use these controls to create, update, or remove an edge between two nodes.",position:"right"},{element:"#resetDiv",intro:"This is where you can reset your tree back to baseline.",position:"right"},{element:"#toggleSidebar",intro:"Hide or show the sidebar to give more room to the graph.",position:"right"},{element:"#algorithmDropdown",intro:"Pick a search algorithm (BFS, DFS, UCS, or A*).",position:"bottom"},{element:"#runAlgorithmBtn",intro:"Run the selected algorithm — watch the traversal animate!",position:"bottom"},{element:"#getInfoBtn",intro:"Click this if you would like more information on the algorythm selected",position:"bottom"},{element:"#speedControls",intro:"Adjust how fast each step of the algorithm plays.",position:"top"},{element:".backStep",intro:"Step backwards through the algorithm history.",position:"top"},{element:".forwardStep",intro:"Step forwards through the algorithm history.",position:"top"},{element:"#graphSvg",intro:"This is the interactive graph area — drag nodes around or click them to activate.",position:"top"},{element:"#steps-tab",intro:"This is the History Tab button. Click here to view your past actions.",position:"bottom"},{element:"#toggleTreeBtn",intro:"Open the Search Tree panel to see the traversal tree.",position:"left"},{element:"#searchTreePanel",intro:"This is where the search tree is displayed — it visualizes the traversal tree with statistics.",position:"left"}],showStepNumbers:!0,exitOnOverlayClick:!0,exitOnEsc:!0,nextLabel:"Next",prevLabel:"Back",doneLabel:"Finish",overlayOpacity:.5,tooltipClass:"customTooltip"}),u.onbeforechange(function(m){m.id==="searchTreePanel"&&(document.getElementById("searchTreePanel").classList.contains("open")||document.getElementById("toggleTreeBtn").click())}),u.onafterchange(function(m){m.id!=="searchTreePanel"&&document.getElementById("searchTreePanel").classList.contains("open")&&document.getElementById("toggleTreeBtn").click()}),u.oncomplete(function(){document.getElementById("searchTreePanel").classList.contains("open")&&document.getElementById("toggleTreeBtn").click()}),u.onexit(function(){document.getElementById("searchTreePanel").classList.contains("open")&&document.getElementById("toggleTreeBtn").click()}),u.start()}),document.getElementById("addNodeForm").addEventListener("submit",u=>{ot(),ut(),u.preventDefault();const v=W(".node-group").filter(function(C){return ft(this).select(".inner-circle").classed("activated")}).data().map(C=>C.id);hi(v),W(".inner-circle").classed("activated",!1)}),document.getElementById("toggleRandomizeWeightsSwitch").addEventListener("change",u=>w=u.target.checked),document.getElementById("sortGraphBtn").addEventListener("click",()=>{t.forEach(u=>{u.fx=null,u.fy=null}),I.alpha(.5).restart()}),document.getElementById("deleteNodeForm").addEventListener("submit",u=>{ot(),ut(),u.preventDefault();const m=W(".node-group").filter(function(v){return ft(this).select(".inner-circle").classed("activated")}).data();if(m.length===0){alert("Please activate at least one node to delete by clicking on its inner circle.");return}m.forEach(v=>{fi(v.id)}),W(".inner-circle").classed("activated",!1)});const qn=document.getElementById("speedSlider");qn.addEventListener("input",function(){f=parseInt(qn.value,10)}),document.getElementById("restartBtn").addEventListener("click",()=>{ot(),ut(),Ue(),Ge(),Mn()});const Ut=document.getElementById("goalNodeSelect");Ut.addEventListener("change",()=>{ot(),W(".node-group").classed("goal-highlight",!1);const u=parseInt(Ut.value,10);isNaN(u)||(Oe(u),Xe(u))}),document.getElementById("randomGoalBtn").addEventListener("click",()=>{if(ot(),Ue(),t.length===0)return;const u=t[Math.floor(Math.random()*t.length)];Ut.value=u.id;const m=parseInt(Ut.value,10);Oe(m),Xe(m),alert(`Randomly selected goal: ${u.id}`)}),document.getElementById("toggleWeightsSwitch").addEventListener("change",u=>Je(u.target.checked)),document.getElementById("toggleHeuristicSwitch").addEventListener("change",u=>Ye(u.target.checked)),document.querySelectorAll(".backStep").forEach(u=>u.addEventListener("click",()=>{l>0?(l--,qe(s[l].snapshot)):alert("No previous step available.")})),document.querySelectorAll(".forwardStep").forEach(u=>u.addEventListener("click",()=>{l<s.length-1?(l++,qe(s[l].snapshot)):alert("No next step available.")})),document.querySelectorAll(".dropdown-item").forEach(u=>{u.addEventListener("click",function(m){m.preventDefault(),d=this.getAttribute("data-algorithm"),document.getElementById("algorithmDropdown").innerText=this.innerText})}),document.getElementById("runAlgorithmBtn").addEventListener("click",function(){const u=parseInt(document.getElementById("startNodeSelect").value,10),m=parseInt(document.getElementById("goalNodeSelect").value,10);switch(d){case"bfs":pi(u,m);break;case"dfs":gi(u,m);break;case"ucs":mi(u,m);break;case"aStar":yi(u,m);break;default:alert("No algorithm selected.")}}),document.getElementById("updateLinkBtn").addEventListener("click",function(){const u=parseInt(document.getElementById("node1Select").value,10),m=parseInt(document.getElementById("node2Select").value,10);if(u===m){alert("Cannot create a link from a node to itself.");return}let v=parseFloat(document.getElementById("newWeightInput").value);isNaN(v)&&(v=void 0);let C=!1;if(e.forEach(N=>{const S=N.source.id,j=N.target.id;(S===u&&j===m||S===m&&j===u)&&(N.weight=v,C=!0)}),C){const N=O.selectAll(".link-label").data(e.filter(S=>S.weight!==void 0),S=>`${S.source.id}-${S.target.id}`);N.exit().remove(),N.enter().append("text").attr("class","link-label").attr("text-anchor","middle").attr("dominant-baseline","central").style("pointer-events","none").merge(N).text(S=>S.weight),ot(),ut(),qt(),K(),alert("Link weight updated.")}else e.push({source:t[u],target:t[m],weight:v}),xt(),qt(),K(),alert("Link did not exist, so it was created.")}),document.getElementById("removeLinkBtn").addEventListener("click",()=>{ot(),ut();const u=parseInt(document.getElementById("node1Select").value,10),m=parseInt(document.getElementById("node2Select").value,10),v=e.findIndex(C=>{const N=C.source.id,S=C.target.id;return N===u&&S===m||N===m&&S===u});v!==-1?(e.splice(v,1),xt(),qt(),K(),alert(`Link between ${u} and ${m} removed.`)):alert("No link exists between those two nodes.")}),document.getElementById("getInfoBtn").addEventListener("click",()=>{let u="";switch(d){case"bfs":u=`
            <h3>Breadth‑First Search (BFS)</h3>
            <p>
            Breadth-First Search (BFS) explores a graph level by level, starting from the source node.<br><br>
            
            It first visits all the immediate neighbors of the source. Then it continues to their neighbors, and so on.<br><br>
            
            This guarantees that the first time a node is reached, it’s through the shortest possible path.<br><br>
            
            BFS is especially useful for finding the shortest path in an <strong>unweighted graph</strong>, as it always completes one level before moving to the next.
            </p>

            <h4 class="text-center"><u><strong>Example</strong></u></h4>
            <p>Consider the following graph with nodes 0, 1, 2, and 4:</p>
            <div class="text-center">
                <img src="./assets/BFS.png" alt="BFS illustration" class="border rounded w-50">
                <p>Graph: 0 → 1, 0 → 2, 1 → 3</p>
            </div>
            
            <p>Starting from node 0:</p>
            <ul>
              <li>First, BFS explores nodes 1 and 2 (since they are at the same level from 0).</li>
              <li>Then it moves on to node 3, visiting 1 → 3.</li>
            </ul>
            
            <p><strong>The order of visits would be:</strong><br>
            0 → 1, 0 → 2, 1 → 3</p>
                        `;break;case"dfs":u=`
           <h3>Depth‑First Search (DFS)</h3>
            <p>
            Depth-First Search (DFS) explores a graph by going as deep as possible along each branch before backtracking.<br><br>
            
            Starting from the source node, it visits a neighbor, then that neighbor’s neighbor, continuing down until it can’t go further. Then it backtracks and explores unvisited paths.<br><br>

            Unlike BFS, DFS does not guarantee the shortest path in an unweighted graph.
            </p>
            
            <h4 class="text-center"><u><strong>Example</strong></u></h4>
            <p>Consider the following graph with nodes 0, 1, 2, and 4:</p>
            <div class="text-center">
                <img src="./assets/DFS.png" alt="DFS illustration" class="border rounded w-50 mx-auto d-block">
                <p>Graph: 0 → 1, 0 → 2, 1 → 3</p>
            </div>
            
            <p>Starting from node 0:</p>
            <ul>
              <li>DFS goes deep first: from 0 → 1, then from 1 → 3.</li>
              <li>After reaching the end of that path, it backtracks and explores 0 → 2.</li>
            </ul>
            
            <p><strong>The order of visits might be:</strong><br>
            0 → 1, 1 → 3, 0 → 2</p>
                        `;break;case"ucs":u=`
                <h3>Uniform Cost Search (UCS)</h3>
                <p>
                Uniform Cost Search (UCS) is similar to BFS, but it considers the <u>total cost of paths</u> rather than just the number of steps.<br><br>
                
                At each step, UCS expands the node with the <strong>lowest cumulative cost</strong> from the start node.<br><br>
                
                This makes UCS ideal for finding the <strong>least-cost path</strong> in a <u>weighted graph</u>, where some paths may be longer but cheaper.
                </p>
                
                <h4 class="text-center"><u><strong>Example</strong></u></h4>
                <p>Consider the following graph:</p>
                
                <div class="text-center">
                    <img src="./assets/UCS.png" alt="UCS illustration" class="border rounded w-50 mx-auto d-block">
                    <p> Graph: <br>
                        0 → 1 (weight 20),
                        0 → 2 (weight 5),
                        2 → 3 (weight 5),
                        3 → 4 (weight 5),
                        1 → 4 (weight 4)</p>
                </div>
                
                <p>Starting from node 0, UCS proceeds as follows:</p>
                <ul>
                  <li>Explore 0 → 2 (cost 5) first, since it's the lowest cost.</li>
                  <li>Then from 2 → 3 (cost 5) Total cost: 10)</li>
                  <li>Then from 3 → 4 (cost 5) total cost: 15)</li>
                  <li>Lastly, 0 → 1 (cost 19) </li>
                  <li>0 → 1 (cost 19) is less than the cost from 4 → 1 (Cost 5) Total Cost: 20</li>
                </ul>
                
                <p><strong>The order of visits would be:</strong><br>
                0 → 2, 2 → 3, 3 → 4, 0 → 1</p>
                        `;break;case"aStar":u=`
                <h3>A* Search</h3>
                <p>
                A* Search is an informed search algorithm that selects the next node to expand based on both the <u>cost</u> 
                and the <u>estimate of the remaining cost to reach the goal <strong>(heuristic)</strong></u>. A goal is needed to generate the heuristic.
                </p>
                
                <p>
                A heuristic is <strong>admissible</strong> when it never overestimates the true cost to reach the 
                goal. This ensures that A* finds the least‑cost path without exploring unnecessary routes.
                </p>
                
                <h4 class="text-center"><u><strong>Example</strong></u></h4>
                <p>In the graph below, the goal node is <strong>node 1</strong>:</p>
                
                <div class="text-center">
                    <img src="./assets/ASTAR.png" alt="A* illustration" class="border rounded w-50 mx-auto d-block">
                    <p>Graph: <br>
                0 → 1 (weight 19),
                0 → 2 (weight 5),
                2 → 3 (weight 5),
                3 → 4 (weight 5),
                4 → 1 (weight 5)
                    </p>
                </div>
                
                <p>The heuristic estimates cost to reach node 1 (goal) are:</p>
                <ul>
                  <li>Node 0: heuristic 5</li>
                  <li>Node 2: heuristic 10</li>
                  <li>Node 3: heuristic 10</li>
                  <li>Node 4: heuristic 5</li>
                  <li>Node 1 (goal): heuristic 0</li>
                </ul>
                
                <p>Starting from node 0, A* expands nodes in order of: combined total cost (cost) + estimated remaining cost (heuristic):</p>
                <ul>
                  <li>First expand 0 → 2 (cost(5) + heuristic(10) = 15).</li>
                  <li>Then expand 0 → 1 (cost(19) + heuristic(0) = 19).</li>
                  <li>0 → 1 (cost(19) + heuristic(0) = 19) is less than the cost from 2 → 3 (cost(10) + heuristic(10) = 20)</li>
                </ul>
                
                <p><strong>The order of visits is:</strong><br>
                0 → 2, 0 → 1
                </p>
                      `;break;default:u="<p>Please select an algorithm from the dropdown to see information.</p>"}document.getElementById("algInfoContent").innerHTML=u,new bootstrap.Modal(document.getElementById("algInfoModal")).show()});const vi=document.querySelector(".main-container"),Xt=document.getElementById("sidebar"),On=document.getElementById("toggleSidebar");On.addEventListener("click",()=>{Xt.classList.toggle("sidebar--hidden"),ue.classList.toggle("sidebar--hidden"),On.textContent=Xt.classList.contains("sidebar--hidden")?"Show Sidebar":"Hide Sidebar",Ht()});const ue=document.getElementById("sidebarResizer");ue.addEventListener("pointerdown",()=>{document.addEventListener("pointermove",zn),document.addEventListener("pointerup",wi,{once:!0})});let Ke;function zn(u){Ke&&cancelAnimationFrame(Ke),Ke=requestAnimationFrame(()=>{const m=vi.getBoundingClientRect().left;let v=u.clientX-m;v=Math.max(150,Math.min(v,600)),Xt.style.width=`${v}px`,Ht()})}function wi(){document.removeEventListener("pointermove",zn)}const xi=document.getElementById("toggleToastSwitch"),bi=document.getElementById("currentStepToast").parentElement;xi.addEventListener("change",function(){bi.style.display=this.checked?"block":"none"});const _i=document.getElementById("searchTreePanel"),Gn=document.getElementById("toggleTreeBtn");Gn.addEventListener("click",()=>{var v;const u=_i.classList.toggle("open");Gn.textContent=u?"◀":"▶",u?(Xt.classList.add("sidebar--hidden"),ue.classList.add("sidebar--hidden")):(Xt.classList.remove("sidebar--hidden"),ue.classList.remove("sidebar--hidden")),document.querySelector(".main-content").classList.toggle("shift",u),K(),Ht();const m=(v=s[l])==null?void 0:v.snapshot;m&&ae(m)});function Si(u){var A,T;const m=document.getElementById("searchTreeStats");if(!u){m.style.display="none";return}m.style.display="block";const v=Number(document.getElementById("startNodeSelect").value),C=Object.keys(u.parents).map(Number),N=new Set(C.concat(v)),S=u.path?u.path.length-1:"N/A";if(document.getElementById("nodesExpanded").textContent=String(((A=u.expanded)==null?void 0:A.length)??0),document.getElementById("nodesDiscovered").textContent=String(N.size),document.getElementById("stepsToGoal").textContent=S,((T=u.path)==null?void 0:T.length)>0){const B=Number(u.goal),x=u.nodes.find(k=>k.id===B);document.getElementById("finalCost").textContent=(x==null?void 0:x.cost)??"N/A"}else document.getElementById("finalCost").textContent="N/A";let j="N/A";if(u.currentNode!=null){j=0;let B=u.currentNode;for(;u.parents[B]!==void 0;)j++,B=u.parents[B]}document.getElementById("currentDepth").textContent=j}document.getElementById("graph-tab").addEventListener("shown.bs.tab",()=>{setTimeout(()=>{Ht()},0)}),window.addEventListener("resize",()=>{Ht(),K(),Ln()});function Ei(){Rt(8)}Ei()});
